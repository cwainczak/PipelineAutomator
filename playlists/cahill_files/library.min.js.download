/*! EnsembleVideo - v5.4.0 */

var libraryPageInstance={};var libraryPage=Class.create({unpublishFromYouTubeContainerID:'unpublishFromYouTubeContainer',unpublishFromYouTubeCheckboxID:'unpublishFromYouTube',confirmYesButtonID:'confirmYesButton',confirmNoButtonID:'confirmNoButton',confirmMessageLoadingID:'confirmMessageLoading',permalinkSelector:'[class="mediaLink"],.mediaLink',shareSelector:'[class="mediaShare"],.mediaShare',shareUrl:'unprotected/socialTools.aspx',embedSelector:'[class="mediaEmbed"],.mediaEmbed',embedUrl:'content/embed.aspx',permalinkUrl:null,permalinkType:null,refereshTimer:'',initialize:function(){if($('webApplicationUrl')){this.permalinkUrl=$F('webApplicationUrl')+'/content/permalink.aspx'}if($('permalinkType')){this.permalinkType=$F('permalinkType')}$$(this.permalinkSelector).invoke('observe','click',this.showPermalink.bind(this));$$(this.shareSelector).invoke('observe','click',this.showSocialTools.bind(this));$$(this.embedSelector).invoke('observe','click',this.showEmbedCode.bind(this));adminUtilities.prototype.submitConfirm=this.OnDelete.bind(this);adminUtilities.prototype.ConfigConfirmModalCustom=this.ConfigConfirmModalCustom.bind(this)},ConfigConfirmModalCustom:function(e){if(!$(this.unpublishFromYouTubeContainerID))return;var t=$(e).readAttribute('isPublishedOnYouTube').toLowerCase();if(t==='true'){$(this.unpublishFromYouTubeContainerID).setStyle({display:'block'})}else{$(this.unpublishFromYouTubeContainerID).setStyle({display:'none'})}},OnDelete:function(){var e=$(adminUtilitiesInstance.triggerElement).readAttribute('contentID');if(!e){window.location=$(adminUtilitiesInstance.triggerElement).href;return}if($(this.unpublishFromYouTubeCheckboxID))var t=$(this.unpublishFromYouTubeCheckboxID).checked;if($(this.confirmMessageLoadingID))$(this.confirmMessageLoadingID).setStyle({visibility:'visible'});if($(this.confirmYesButtonID))$(this.confirmYesButtonID).writeAttribute('disabled','disabled');if($(this.confirmNoButtonID))$(this.confirmNoButtonID).writeAttribute('disabled','disabled');app.Old_App_Code.DataAccess.DeleteContent(e,t,this.OnDeleteSuccess.bind(this),this.OnDeleteFailed.bind(this))},OnDeleteSuccess:function(e){window.location.href=location.href},OnDeleteFailed:function(e){},showPermalink:function(e){var t=Event.element(e);if($(t)){if(t.nodeName!='A')t=t.up('a');if($(t).readAttribute("src")!=null)t=$(t).up();var i=$(t).readAttribute('rel');setModalConfig($(t).readAttribute('name'),this.permalinkUrl+'?ID='+i+'&type='+this.permalinkType)}},showEmbedCode:function(e){var t=Event.element(e);if($(t)){if(t.nodeName!='A')t=t.up('a');if($(t).readAttribute("src")!=null)t=$(t).up();var i=$(t).readAttribute('rel');setModalConfig($(t).readAttribute('name'),this.embedUrl+'?ID='+i)}},showSocialTools:function(e){var t=Event.element(e);if($(t)){if(t.nodeName!='A')t=t.up('a');if($(t).readAttribute("src")!=null)t=$(t).up();var i=$(t).readAttribute('rel');setModalConfig($(t).readAttribute('name'),this.shareUrl+"?ID="+i)}}});document.observe("dom:loaded",function(){libraryPageInstance=new libraryPage;jQuery('#myModal').on('hide.bs.modal',function(e){jQuery(".modal-title").text('');jQuery("#modalIframe").attr("src",'');jQuery("#modalIframe").css("height",'150px')});jQuery(document).ready(function(){var ddlMediaSort=jQuery('#ddlMediaSort');if(ddlMediaSort.length>0){ddlMediaSort.SumoSelect({okCancelInMulti:true,selectAll:true,captionFormatAllSelected:jQuery('#captionFormatAllSelected').val(),locale:jQuery('#locale').val().split(","),captionFormat:jQuery('#captionFormat').val(),forceCustomRendering:true});jQuery('#MediaSort').show();var sumoSelect=jQuery('.SumoSelect');jQuery('.SumoSelect .btnOk').on('click',function(){eval(jQuery(".checkBoxlistOkButton").attr('href'))});var listOfCurrentCheckedOptions;sumoSelect.on('click',function(){if(jQuery(this).hasClass('open'))return;listOfCurrentCheckedOptions=getCheckedOptions();jQuery(window).resize()});sumoSelect.on('blur',function(){var listOfChekedStatusesAfterClose=getCheckedOptions();if(listOfCurrentCheckedOptions===listOfChekedStatusesAfterClose)return;eval(jQuery(".checkBoxlistOkButton").attr('href'))});if(sumoSelect){jQuery(window).on('scroll',function(){jQuery(window).resize()});jQuery(window).on('resize',function(){calculateDropdownVisibility('170px','180px')})}}jQuery('.dualContentPrimary').on('click',function(e){var t=jQuery(this);var i=t.parent().parent().find('.dualContentSecondary');var o=false||!!document.documentMode;if(o){e.preventDefault();window.open(t.prop('href'));window.open(i.prop('href'))}else{i[0].click()}})})});function setModalConfig(e,t,i){if(i===undefined)i="#efefef";jQuery(".modal-body").css("background-color",i);jQuery(".modal-header").css("background-color",i);jQuery(".modal-footer").css("background-color",i);jQuery(".modal-title").text(htmlDecode(e));jQuery("#modalIframe").attr("src",t);jQuery("#myModal").modal('show')}function htmlDecode(e){if(e==null)return'';var t=document.createElement('a');t.innerHTML=e;return t.textContent}function viewPlaylist(e,t){if(t===undefined)t="Playlist Preview";setModalConfig(t,e,"#ffffff");var i=setIFrameConfig(800,"modalIframe","yes");window.parent.postMessage(i,"*")}function setIFrameConfig(e,t,i){var o=JSON.stringify({iFrameWidth:'100%',iFrameHeight:e+'px',iFrameId:t,iFrameScrolling:i});return o}function isScrolledIntoView(e){var t=jQuery(window).scrollTop(),i=t+jQuery(window).height(),o=jQuery(e).offset().top,r=o+jQuery(e).height();return o+(r-o)/2>=t&&o+(r-o)/2<=i}function calculateDropdownVisibility(e,t){if(!isScrolledIntoView(jQuery('.SumoSelect')))return;var i=jQuery('.okCancelInMulti'),o=jQuery(this).scrollTop(),r=o+jQuery(this).height(),n=i.offset().top,l=n+i.outerHeight(),a=n<o?o:n,s=l>r?r:l;var u=s-a;if(u<i.outerHeight()){if(platform.isIos){i.height(u)}else if(platform.isMobilePhone){i.height(u-10)}else{if(t)i.css('min-width',t);i.height(u-15)}}else{if(e)i.css('min-width',e)}}function getCheckedOptions(){var t='';jQuery('.SumoSelect .options > li').each(function(){var e='';if(jQuery(this).hasClass('selected'))e=':'+jQuery(this).attr('data-val')+':';t+=e});return t}
//# sourceMappingURL=library.min.js.map