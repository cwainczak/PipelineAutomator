/*! EnsembleVideo - v5.4.0 */

(function(e){(function(i){"use strict";var t=function(){try{if(i.URLSearchParams&&new i.URLSearchParams("foo=bar").get("foo")==="bar"){return i.URLSearchParams}}catch(e){}return null}(),e=t&&new t({a:1}).toString()==="a=1",n=t&&new t("s=%2B").get("s")==="+",a="__URLSearchParams__",r=t?function(){var e=new t;e.append("s"," &");return e.toString()==="s=+%26"}():true,s=l.prototype,o=!!(i.Symbol&&i.Symbol.iterator);if(t&&e&&n&&r){return}function l(e){e=e||"";if(e instanceof URLSearchParams||e instanceof l){e=e.toString()}this[a]=g(e)}s.append=function(e,t){m(this[a],e,t)};s["delete"]=function(e){delete this[a][e]};s.get=function(e){var t=this[a];return this.has(e)?t[e][0]:null};s.getAll=function(e){var t=this[a];return this.has(e)?t[e].slice(0):[]};s.has=function(e){return b(this[a],e)};s.set=function e(t,i){this[a][t]=[""+i]};s.toString=function(){var e=this[a],t=[],i,n,r,s;for(n in e){r=d(n);for(i=0,s=e[n];i<s.length;i++){t.push(r+"="+d(s[i]))}}return t.join("&")};var h=!n;var c=!h&&t&&!e&&i.Proxy;Object.defineProperty(i,"URLSearchParams",{value:c?new Proxy(t,{construct:function(e,t){return new e(new l(t[0]).toString())}}):l});var u=i.URLSearchParams.prototype;u.polyfill=true;u.forEach=u.forEach||function(i,n){var e=g(this.toString());Object.getOwnPropertyNames(e).forEach(function(t){e[t].forEach(function(e){i.call(n,e,t,this)},this)},this)};u.sort=u.sort||function(){var e=g(this.toString()),t=[],i,n,r;for(i in e){t.push(i)}t.sort();for(n=0;n<t.length;n++){this["delete"](t[n])}for(n=0;n<t.length;n++){var s=t[n],a=e[s];for(r=0;r<a.length;r++){this.append(s,a[r])}}};u.keys=u.keys||function(){var i=[];this.forEach(function(e,t){i.push(t)});return p(i)};u.values=u.values||function(){var t=[];this.forEach(function(e){t.push(e)});return p(t)};u.entries=u.entries||function(){var i=[];this.forEach(function(e,t){i.push([t,e])});return p(i)};if(o){u[i.Symbol.iterator]=u[i.Symbol.iterator]||u.entries}function d(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,function(e){return t[e]})}function f(e){return e.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,function(e){return decodeURIComponent(e)})}function p(t){var e={next:function(){var e=t.shift();return{done:e===undefined,value:e}}};if(o){e[i.Symbol.iterator]=function(){return e}}return e}function g(e){var t={};if(typeof e==="object"){if(v(e)){for(var i=0;i<e.length;i++){var n=e[i];if(v(n)&&n.length===2){m(t,n[0],n[1])}else{throw new TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements")}}}else{for(var r in e){if(e.hasOwnProperty(r)){m(t,r,e[r])}}}}else{if(e.indexOf("?")===0){e=e.slice(1)}var s=e.split("&");for(var a=0;a<s.length;a++){var o=s[a],l=o.indexOf("=");if(-1<l){m(t,f(o.slice(0,l)),f(o.slice(l+1)))}else{if(o){m(t,f(o),"")}}}}return t}function m(e,t,i){var n=typeof i==="string"?i:i!==null&&i!==undefined&&typeof i.toString==="function"?i.toString():JSON.stringify(i);if(b(e,t)){e[t].push(n)}else{e[t]=[n]}}function v(e){return!!e&&"[object Array]"===Object.prototype.toString.call(e)}function b(e,t){return Object.prototype.hasOwnProperty.call(e,t)}})(typeof global!=="undefined"?global:typeof window!=="undefined"?window:this);var n=function(e){return{appendCustomQuery:function(e,t){if(t===undefined||t===null||t==="")return e;return e.indexOf("?")>-1?e+"&"+t:e+"?"+t},getIdentityRefreshInterval:function(e){var t=new URLSearchParams(e);var i=t.get("idn_expiry");if(i===undefined)return 0;var n=621355968e9;var r=i-n;var s=r/1e4;var a=new Date(s);var o=s-Date.now()-6e4;console.log("Next Expiration: "+a+", Refresh Interval: "+o);return o>0?o:0},overrideParameter:function(e,t,i){if(e===undefined||e===null||t===null||t===undefined||t==="")return e;if(e.toLowerCase().indexOf(t.toLowerCase())>-1){e=e.replace(new RegExp("("+t+"=).*?(&|$)","ig"),"$1"+i+"$2")}else{e=e.indexOf("?")>-1||e.toLowerCase().indexOf("http")===-1?e+"&"+t+"="+i:e+"?"+t+"="+i}return e},overrideIdentityParams:function(e,t){for(var i in t){var n=t[i];if(n!==undefined&&n!==null&&n!=="")e=this.overrideParameter(e,i,n)}return e},getStoragePreference:function(e){var t;try{t=localStorage.getItem(e.key)}catch(e){console.error(e.message)}if(!t)t=e.defaultValue;return t},getOrSetStoragePreference:function(e){var t;try{t=localStorage.getItem(e.key)}catch(e){console.error(e.message)}if(!t){t=e.defaultValue;try{localStorage.setItem(e.key,e.defaultValue)}catch(e){console.error(e.message)}}return t},setStoragePreference:function(e){localStorage.setItem(e.key,e.value)},stringToBool:function(e){return e!==undefined&&e!==null&&e!==""&&e.toLowerCase()==="true"}}}(e);(function(r){"use strict";window.EnsembleVideo=window.EnsembleVideo||{};window.EnsembleVideo.ContentHal=function(){};window.EnsembleVideo.ContentHal.prototype={get:function(e,t,i,n){r.ajax({cache:false,type:"get",headers:{Accept:"application/hal+json, application/json, */*; q=0.01"},url:e,data:t,xhrFields:{withCredentials:true},success:function(e){if(i!==undefined)i(e)},error:function(e,t){if(n!==undefined)n(e,t)}})}}})(e);(function(o){window.EnsembleVideo=window.EnsembleVideo||{};window.EnsembleVideo.SinglePlugin=function(e){this.requestId=e.requestId;this.options=e;this.isDualPlugin=false;this.playerKey=e.playerKey;this.captionFiles=null;this.primaryConfig=e.primaryConfig;this.audioDescriptionConfig=e.audioDescriptionConfig;this.refreshIdentity=e.refreshIdentity;this.identityQueryString=e.identityQueryString;this.identityParams={};this.identityRefreshInterval=0;this.api=e.api;this.platform=e.platform;this.isFullPlugin=e.isFullPlugin;this.displayMenu=e.displayMenu;this.displayAudioPlayer=e.displayAudioPlayer;this.initializeAudioDescription=e.initializeAudioDescription;this.pluginContainerSelector="#pluginContainer";this.pluginPlayerContainerId="pluginPlayerContainer";this.pluginPlayerContainerSelector="#"+this.pluginPlayerContainerId;this.playerId=e.playerId;this.audioDescriptionPlayerId=e.audioDescriptionPlayerId;this.playerSelector="#"+e.playerId;this.audioDescriptionPlayerSelector="#"+e.audioDescriptionPlayerId;this.containerSelector="#"+e.containerId;this.sidebarLinkTextSelector=".sidebar-link-text";this.sidebarOptionsSelector="#sidebarOptionsLink";this.sidebarSelector="#sidebar";this.overlaysSelector=".overlay";this.pluginHeaderSelector="#pluginHeader";this.loadingSpinnerSelector="#loading_spinner_"+this.requestId;this.pluginContainersSelector="#fullPluginContainer, #pluginContainer";this.durationSpanSelector="#durationSpan";this.audioDescriptionSelector=".ev-icon-audio-description, .ev-icon-audio-description-off";this.launchLinkSelector=".launch-link";this.tabbedControlsSelector=this.playerSelector+", .tabbed-control, .jw-settings-content-item, .jw-button-color, .jw-slider-time, .jw-logo";this.fullPluginContainerLeftClass="plugin-full-container-left";this.fluidContainerClasses="container-fluid plugin-container";this.fullWidthPluginFluidClasses="container-fluid plugin-container full-width";this.playerResponsiveClasses="plugin-player-container responsive-video";this.playerFullWidthClasses="plugin-player-container full-width";this.responsiveVideoWidthClass=e.displayMenu?"plugin-player-container responsive-video":"plugin-player-container responsive-video-no-options";this.uiSliderRangeSelector=".ui-slider-range";this.uiSliderKnobSelector=".ui-slider-handle";this.jwVolumeControlSelector=".jw-icon-volume";this.jwVolumeKnobSelector=".jw-knob";this.jwVolumeProgressSelector=".jw-progress";this.jwVolumeSliderSelector=".jw-slider-container";this.jwOffClass="jw-off";this.jwOpenClass="jw-open";this.jwVolumeClass="jw-icon-volume";this.jwAudioDescriptionClass="jw-icon-audio-description";this.audioDescriptionClass="ev-icon-audio-description";this.audioDescriptionOffClass="ev-icon-audio-description-off";this.fullWidthClass="full-width";this.overlayExpandedClass="ev-in";this.activeClass="active";this.sidebarInitialClass="sidebar-initial";this.sidebarRightClass="sidebar-right";this.sidebarBottomClass="sidebar-bottom";this.volumePreferenceStorageKey="ev.preference.volume";this.mutePreferenceStorageKey="ev.preference.mute";this.nativeVolumePreferenceStorageKey="jwplayer.volume";this.nativeMutePreferenceStorageKey="jwplayer.mute";this.volumeAdPreferenceStorageKey="ev.preference.ad.volume";this.muteAdPreferenceStorageKey="ev.preference.ad.mute";this.isMobileDevice=this.platform.isTierIphone||this.platform.isTierTablet||this.platform.isMobilePhone;this.androidHlsSupportVersion=4.4;this.adClickHandled=false;this.pluginContainerWidth=0;this.primaryPlayerApi=null;this.audioDescriptionPlayerApi=null;this.audioDescriptionSynhronized=false;this.callback=null;this.hal=null};window.EnsembleVideo.SinglePlugin.prototype={initialize:function(e){this.hal=new window.EnsembleVideo.ContentHal;this.handleIdentityRefresh();this.callback=e;if(this.useRtspFallback()){this.initializeRtspFallback.call(this)}else{this.initializeSinglePlayer.call(this)}},handleIdentityRefresh:function(){if(!this.refreshIdentity||this.identityQueryString===undefined||this.identityQueryString===null||this.identityQueryString==="")return;this.identityRefreshInterval=n.getIdentityRefreshInterval(this.identityQueryString);if(this.identityRefreshInterval===0)return;var i=this;setTimeout(function(){var e=n.appendCustomQuery(i.api.pluginIdentityUrl,i.identityQueryString);console.log("Refreshing Identity: "+i.identityQueryString);i.hal.get(e,{},function(e){i.identityQueryString=e.identityQuery;i.identityParams={idn_playlist:e.playlistId,idn_content:e.contentId,idn_dropbox:e.dropboxId,idn_ref:e.ref,idn_pp:e.playlistPa,idn_cp:e.contentPa,idn_dp:e.dropboxPa,idn_ua:e.ua,idn_pe:e.isPe,idn_init:e.isInit,idn_expiry:e.expiry,idn_sig:e.signature};var t=o(i.pluginContainerSelector).find(i.launchLinkSelector);if(t.length===0)return;t.attr("href",n.overrideIdentityParams(t.attr("href"),i.identityParams));i.handleIdentityRefresh()},function(e,t){location.reload(true)})},this.identityRefreshInterval)},initializeSinglePlayer:function(){jwplayer.key=this.playerKey;this.adjustPlayerConfig();this.primaryPlayerApi=jwplayer(this.playerId);this.primaryPlayerApi.setup(this.primaryConfig.setup);this.initializeAudioDescriptionPlayer();this.handlePlayerEvents(this);this.callback()},initializeAudioDescriptionPlayer:function(){if(!this.initializeAudioDescription)return;this.audioDescriptionPlayerApi=jwplayer(this.audioDescriptionPlayerId);this.audioDescriptionPlayerApi.setup(this.audioDescriptionConfig.setup);this.audioDescriptionPlayerApi.setVolume(this.getStoragePreference({key:this.volumeAdPreferenceStorageKey,defaultValue:60}));this.audioDescriptionPlayerApi.setMute(this.stringToBool(this.getStoragePreference({key:this.muteAdPreferenceStorageKey,defaultValue:"true"})))},adjustPlayerConfig:function(){var e=this.getStoragePreference({key:this.volumePreferenceStorageKey,defaultValue:60});this.setStoragePreference({key:this.nativeVolumePreferenceStorageKey,value:e});var t=this.getStoragePreference({key:this.mutePreferenceStorageKey});if(t!==undefined){var i=this.stringToBool(t);this.setStoragePreference({key:this.nativeMutePreferenceStorageKey,value:i});this.primaryConfig.setup.mute=i}if(!this.platform.isIeBrowser)return;if(this.primaryConfig.isAudio){this.primaryConfig.setup.playlist[0].sources[0].file=this.primaryConfig.fallbackStreamUrl}},initializeRtspFallback:function(){o(this.playerSelector).html('<a href="'+this.primaryConfig.rtspPath+'" target="_top"><img style="width: 100%" src="'+this.primaryConfig.setup.playlist[0].image+'" /><span class="thumbnail-plugin-btn"></span></a>');if(this.isFullPlugin){o(window).resize(function(e){this.handleResize()})}this.handleSidebar();this.handleResize();o(this.loadingSpinnerSelector).hide();o(this.pluginContainersSelector).show();this.callback()},handlePlayerEvents:function(t){t.primaryPlayerApi.on("play",function(){t.renameCaptionsLabel();if(t.initializeAudioDescription){console.log("Play - AD Play!");t.audioDescriptionPlayerApi.play(true);t.handleSynchronization(t)}if(t.primaryConfig.liveStreamKey!==null&&t.primaryConfig.liveStreamKey!==undefined||t.primaryConfig.encodingDuration===null||t.primaryConfig.encodingDuration>0)return;var e=t.primaryPlayerApi.getDuration();if(e<=0)return;t.primaryConfig.encodingDuration=e;o.ajax({cache:false,url:"/hapi/v1/contents/"+t.primaryConfig.content_id+"/Encodings/"+t.primaryConfig.encoding_id+"/SetDuration",type:"PUT",dataType:"json",data:{duration:e}})});t.primaryPlayerApi.on("ready",function(){if(t.initializeAudioDescription){t.initializeAudioDescriptionVolumeControl({playerSelector:t.playerSelector,cloneClass:t.jwAudioDescriptionClass,targetPlayerApi:t.audioDescriptionPlayerApi,volume:t.getStoragePreference({key:t.volumeAdPreferenceStorageKey,defaultValue:60}),mute:t.stringToBool(t.getStoragePreference({key:t.muteAdPreferenceStorageKey,defaultValue:"true"}))})}t.primaryPlayerApi.setCurrentCaptions(t.primaryConfig.captionsOnByDefault?t.primaryConfig.setup.playlist[0].defaultCaptionIndex:0);t.handleSidebar();t.handleResize();o(t.loadingSpinnerSelector).hide();o(t.pluginContainersSelector).show();t.handleFullPluginRelatedSetup();t.handleNonFullPluginRelatedSetup();t.handleCustomAccessibility()});t.primaryPlayerApi.on("error",function(){o(t.loadingSpinnerSelector).hide();o(t.pluginContainersSelector).show()});t.primaryPlayerApi.on("beforePlay",function(){o(t.durationSpanSelector).hide();o(t.playerSelector).css("border","")});t.primaryPlayerApi.on("volume",function(e){t.setStoragePreference({key:t.volumePreferenceStorageKey,value:e.volume})});t.primaryPlayerApi.on("mute",function(e){t.setStoragePreference({key:t.mutePreferenceStorageKey,value:e.mute})});if(!t.initializeAudioDescription)return;t.primaryPlayerApi.on("pause",function(){console.log("Pause - AD Paused!");t.audioDescriptionPlayerApi.pause(true)});t.primaryPlayerApi.on("buffer",function(){console.log("Buffering - AD Paused!");t.audioDescriptionPlayerApi.pause(true)});t.primaryPlayerApi.on("idle",function(){console.log("Idle - AD Paused!");t.audioDescriptionPlayerApi.pause(true)});t.primaryPlayerApi.on("complete",function(){console.log("Complete - AD Paused!");t.audioDescriptionPlayerApi.pause(true)});t.primaryPlayerApi.on("seek",function(e){console.log("Seek to: "+e.offset+"!");t.audioDescriptionPlayerApi.seek(e.offset)});t.primaryPlayerApi.on("playbackRateChanged",function(e){console.log("Playback rate updated to: "+e.playbackRate+"!");t.audioDescriptionPlayerApi.setPlaybackRate(e.playbackRate)});t.handleAudioDescriptionPlayerEvents()},handleFullPluginRelatedSetup:function(){if(!this.isFullPlugin)return;o(this.playerSelector).css("outline","none").focus();var e=this;o(window).resize(function(){e.handleResize()})},handleNonFullPluginRelatedSetup:function(){if(this.isFullPlugin||this.displayAudioPlayer)return;o(".overlay").css("max-height",o(this.playerSelector).height())},renameCaptionsLabel:function(){var e=o(this.playerSelector).find(".jw-controls").find(".jw-settings-menu").find(".jw-settings-submenu").find('button:contains("Unknown CC")');e.text(e.text().replace("Unknown CC",this.options.captionsLabel))},handleAudioDescriptionPlayerEvents:function(){var t=this;this.audioDescriptionPlayerApi.on("volume",function(e){t.setStoragePreference({key:t.volumeAdPreferenceStorageKey,value:e.volume})});this.audioDescriptionPlayerApi.on("mute",function(e){t.setStoragePreference({key:t.muteAdPreferenceStorageKey,value:e.mute})})},initializeAudioDescriptionVolumeControl:function(n){var r=this;var e=o(n.playerSelector);var t=e.find(r.jwVolumeControlSelector).first();if(t.length<1){return}if(n.mute)n.volume=0;var s=t.clone().addClass(n.cloneClass);s.find(r.jwVolumeKnobSelector).remove();s.find(".jw-svg-icon").remove();s.find(r.jwVolumeProgressSelector).css("height",n.volume+"%");s.removeClass(r.jwOffClass);s.attr("aria-label",r.primaryConfig.setup.localization.audioDescription);if(n.mute){s.addClass(r.audioDescriptionOffClass)}else{s.addClass(r.audioDescriptionClass)}n.targetPlayerApi.setVolume(n.volume);n.targetPlayerApi.setMute(n.mute);s.on("touchstart click",function(e){if(e.target!==this||r.adClickHandled)return;if(!r.adClickHandled){r.adClickHandled=true;setTimeout(function(){r.adClickHandled=false},500)}r.handleAdMuteToggle(o(this),false)});s.on("mouseout",function(){o(this).removeClass(r.jwOpenClass)});s.on("mouseover",function(){o(this).addClass(r.jwOpenClass)});var a=s.find(r.jwVolumeSliderSelector).css("border","none");a.slider({range:"min",min:0,value:n.volume,orientation:"vertical",classes:{"ui-slider-range":"player-hidden","ui-slider-handle":"jw-knob"},change:function(e,t){var i=a.slider("value");s.find(r.jwVolumeProgressSelector).css("height",i+"%");n.targetPlayerApi.setVolume(i);if(i<1){s.removeClass(r.audioDescriptionClass).addClass(r.audioDescriptionOffClass);n.targetPlayerApi.setMute(true)}else{s.removeClass(r.audioDescriptionOffClass).addClass(r.audioDescriptionClass);n.targetPlayerApi.setMute(false)}}});a.find(".jw-knob").removeAttr("tabindex");t.after(s)},handleCustomAccessibility:function(){var n=this;o(document).on("keyup",function(e){var t=e.keyCode?e.keyCode:e.which;if(t===9||t===27){n.setFocusOnActiveElement(o(document.activeElement))}if(t===13){var i=o(document.activeElement);if(n.isActiveElementEnterChangeFocusControl(i)){n.setFocusOnActiveElement(i)}}});o(this.tabbedControlsSelector).on("blur",function(){if(n.isActiveElementTabbedControl(o(document.activeElement)))return;o(n.tabbedControlsSelector).removeClass("focus-outline")});this.handleAudioDescriptionAccessibility()},setFocusOnActiveElement:function(e){o(this.tabbedControlsSelector).removeClass("focus-outline");if(this.isActiveElementTabbedControl(e)){e.addClass("focus-outline");if(this.isFocusOnPlayerControlbar(e)){o(this.playerSelector).find(".jw-controlbar").addClass("controlbar-active")}else{o(this.playerSelector).find(".jw-controlbar").removeClass("controlbar-active")}}},isActiveElementTabbedControl:function(e){return e.hasClass("tabbed-control")||e.hasClass("jwplayer")||e.hasClass("jw-settings-content-item")||e.hasClass("jw-button-color")||e.hasClass("jw-slider-time")||e.hasClass("jw-logo")},isFocusOnPlayerControlbar:function(e){return e.hasClass("jw-settings-content-item")||e.hasClass("jw-button-color")||e.hasClass("jw-slider-time")},isActiveElementEnterChangeFocusControl:function(e){return e.hasClass("jw-settings-playbackRates")||e.hasClass("jw-icon-settings")||e.hasClass("jw-settings-quality")||e.hasClass("jw-settings-content-item")||e.hasClass("jw-icon-playback")},handleAudioDescriptionAccessibility:function(){if(!this.initializeAudioDescription)return;var r=this;o(this.playerSelector).on("keydown",function(e){var t=o(this).find(r.audioDescriptionSelector);if(e.keyCode===86){r.handleAdMuteToggle(t,true)}if(e.keyCode===73){var i=r.audioDescriptionPlayerApi.getVolume();r.handleAdVolume(t,i>=90?100:i+10)}if(e.keyCode===76){var n=r.audioDescriptionPlayerApi.getVolume();r.handleAdVolume(t,n<=10?0:n-10)}});var e=o(this.playerSelector).find(this.audioDescriptionSelector);e.on("keydown",function(e){if(e.keyCode===13){r.handleAdMuteToggle(o(this),true)}});e.on("focus",function(){o(this).addClass(r.jwOpenClass)});e.on("blur",function(){o(this).removeClass(r.jwOpenClass)})},handleAdMuteToggle:function(e,t){if(e.hasClass(this.audioDescriptionOffClass)){e.removeClass(this.audioDescriptionOffClass).addClass(this.audioDescriptionClass);if(this.audioDescriptionPlayerApi.getVolume()===0||t){var i=this.isMobileDevice?100:20;this.audioDescriptionPlayerApi.setVolume(i);e.find(this.jwVolumeProgressSelector).css("height",i+"%");e.find(this.uiSliderRangeSelector).css("height",i+"%");e.find(this.uiSliderKnobSelector).css("bottom",i+"%")}else{var n=this.audioDescriptionPlayerApi.getVolume();e.find(this.jwVolumeProgressSelector).css("height",n+"%");e.find(this.uiSliderRangeSelector).css("height",n+"%");e.find(this.uiSliderKnobSelector).css("bottom",n+"%")}this.audioDescriptionPlayerApi.setMute(false)}else{e.find(this.jwVolumeProgressSelector).css("height","0%");e.find(this.uiSliderRangeSelector).css("height","0%");e.find(this.uiSliderKnobSelector).css("bottom","0%");e.removeClass(this.audioDescriptionClass).addClass(this.audioDescriptionOffClass);this.audioDescriptionPlayerApi.setMute(true)}},handleAdVolume:function(e,t){if(t>0){e.removeClass(this.audioDescriptionOffClass).addClass(this.audioDescriptionClass);e.find(this.jwVolumeProgressSelector).css("height",t+"%");e.find(this.uiSliderRangeSelector).css("height",t+"%");e.find(this.uiSliderKnobSelector).css("bottom",t+"%")}else{e.find(this.jwVolumeProgressSelector).css("height","0%");e.find(this.uiSliderRangeSelector).css("height","0%");e.find(this.uiSliderKnobSelector).css("bottom","0%");e.removeClass(this.audioDescriptionClass).addClass(this.audioDescriptionOffClass)}this.audioDescriptionPlayerApi.setVolume(t)},handleSynchronization:function(r){if(!r.initializeAudioDescription||r.audioDescriptionSynhronized)return;setInterval(function(){var e=r.audioDescriptionPlayerApi.getState();if(e!=="playing")return;var t=r.primaryPlayerApi.getPosition().toFixed(2);var i=r.audioDescriptionPlayerApi.getPosition().toFixed(2);var n=t-i;if(n<0)n=n*-1;if(n>.5){console.log("Updating audio description position: "+n+"!");r.audioDescriptionPlayerApi.seek(t)}},5e3);r.audioDescriptionSynhronized=true},getCaptionFiles:function(){return this.primaryConfig?this.primaryConfig.setup.playlist[0].tracks:null},handleSidebar:function(){if(!this.isFullPlugin||!this.displayMenu||this.displayAudioPlayer)return;var t=this;o(this.sidebarOptionsSelector).on("click",function(){var e=o(this);if(!e.is(":visible"))return;if(e.hasClass(t.activeClass)){t.collapseSidebar(e)}else{t.expandSidebar(e)}})},isSidebarActive:function(){return o(this.sidebarOptionsSelector).hasClass(this.activeClass)},collapseSidebar:function(e){o(this.pluginContainerSelector).removeClass(this.fullPluginContainerLeftClass);o(this.sidebarSelector).removeClass(this.sidebarInitialClass);o(this.sidebarLinkTextSelector).hide();e.removeClass(this.activeClass);e.attr("aria-expanded","false");o(this.overlaysSelector).removeClass(this.overlayExpandedClass);o(this.pluginHeaderSelector).removeClass(this.fullWidthClass)},expandSidebar:function(e){o(this.pluginContainerSelector).addClass(this.fullPluginContainerLeftClass);o(this.sidebarSelector).addClass(this.sidebarInitialClass);o(this.pluginHeaderSelector).addClass(this.fullWidthClass);o(this.sidebarLinkTextSelector).show();e.addClass(this.activeClass);e.attr("aria-expanded","true")},handleResize:function(){if(!this.isFullPlugin||this.displayAudioPlayer)return;if(this.moveMenuToRight()){o(this.pluginContainerSelector).removeClass().addClass(this.fluidContainerClasses);o(this.pluginPlayerContainerSelector).removeClass().addClass(this.responsiveVideoWidthClass);o(this.pluginHeaderSelector).removeClass(this.fullWidthClass);if(!this.displayMenu){this.pluginContainerWidth=o(this.pluginPlayerContainerSelector).width();return}o(this.sidebarSelector).removeClass(this.sidebarBottomClass).addClass(this.sidebarRightClass);if(this.isSidebarActive()){var e=o(this.sidebarOptionsSelector);this.expandSidebar(e);o(this.sidebarLinkTextSelector).show();e.show()}else{o(this.sidebarLinkTextSelector).hide();o(this.sidebarOptionsSelector).show()}}else{o(this.pluginContainerSelector).removeClass().addClass(this.fullWidthPluginFluidClasses);o(this.pluginPlayerContainerSelector).removeClass().addClass(this.playerFullWidthClasses);o(this.pluginHeaderSelector).addClass(this.fullWidthClass);if(!this.displayMenu){this.pluginContainerWidth=o(this.pluginPlayerContainerSelector).width();return}o(this.sidebarSelector).removeClass().addClass(this.sidebarBottomClass);o(this.sidebarLinkTextSelector).show();o(this.sidebarOptionsSelector).addClass(this.activeClass).hide()}this.pluginContainerWidth=o(this.pluginPlayerContainerSelector).width()},useRtspFallback:function(){return this.platform.isAndroidPhone&&(!this.platform.isChromeBrowser||this.platform.androidVersion<this.androidHlsSupportVersion)},getStoragePreference:function(e){var t;try{t=localStorage.getItem(e.key)}catch(e){console.error(e.message)}if(!t&&e.defaultValue!==undefined){t=e.defaultValue;try{localStorage.setItem(e.key,e.defaultValue)}catch(e){console.error(e.message)}}return t},setStoragePreference:function(e){localStorage.setItem(e.key,e.value)},stringToBool:function(e){return e==="true"},moveMenuToRight:function(){var e=o(window).width();if(this.pluginContainerWidth===0){this.pluginContainerWidth=o(this.pluginPlayerContainerSelector).width()}return e>1e3&&e-this.pluginContainerWidth>200},getMainPlayerApi:function(){return this.primaryPlayerApi},isPrimaryMainPlayer:function(){return true}}})(e);(function(l){"use strict";window.EnsembleVideo=window.EnsembleVideo||{};window.EnsembleVideo.CommonPlugin=function(e,t){this.options=e;this.plugin=t;this.shortContentId=e.shortContentId;this.contentId=e.contentId;this.isFullPlugin=e.isFullPlugin;this.isJavaScriptEmbed=e.isJavaScriptEmbed;this.initializeEmbed=e.initializeEmbed;this.initializeViewersReport=e.initializeViewersReport;this.initializeCaptionSearch=e.initializeCaptionSearch;this.captionSearchContainerId=e.captionSearchContainerId;this.captionFiles=e.captionFiles;this.videoButtonSelector=e.videoButtonSelector;this.webHapiBaseUrl=e.webHapiBaseUrl;this.strings=e.strings};window.EnsembleVideo.CommonPlugin.prototype={initialize:function(){this.adjustFullPluginMaxHeightForOverlays();this.handleMenuActions();this.handleEmbed();this.handleDownload();this.handleViewersReport();if(this.plugin!==undefined&&this.plugin!==null&&this.plugin.getMainPlayerApi()!==undefined&&this.plugin.getMainPlayerApi()!==null){this.handleAnnotations();this.handleCaptionSearch();this.handleReporting()}},adjustFullPluginMaxHeightForOverlays:function(){if(!this.isFullPlugin)return;this.usedPluginSpace=l(".overlayTrigger").length*41+40+50;l("#annotationsContainer").css("max-height","calc(100vh - "+(this.usedPluginSpace+5)+"px)").css("overflow-y","auto").css("overflow-x","hidden");l("#aboutContainer").css("max-height","calc(100vh - "+(this.usedPluginSpace+25)+"px)").css("overflow-y","auto").css("overflow-x","hidden");l("#captionSearch").find(".transcriptView").css("max-height","calc(100vh - "+(this.usedPluginSpace+25+30)+"px)").css("overflow-y","auto").css("width","100%")},handleMenuActions:function(){var o=this;l(".overlayTrigger").on("click",function(e){e.preventDefault();var t=l(this);var i=t.attr("aria-expanded");var n=l(".overlay");var r=l(".overlayTrigger");var s=null;r.each(function(){var e=l(this);if(!e.hasClass("navbar-link-active")){return}s=e;e.removeClass("navbar-link-active");var t=e.attr("aria-expanded");if(typeof t!==typeof undefined&&t!==false){e.attr("aria-expanded","false")}if(o.isFullPlugin){e.find(".ev-icon-caret-up").removeClass("ev-icon-caret-up").addClass("ev-icon-caret-down")}});if(s!==null&&t.attr("data-target")===s.attr("data-target")){n.each(function(){var e=l(this);if(!e.hasClass("ev-in")){return}e.removeClass("ev-in").addClass("overlay ev-collapse hidden-override")});t.removeClass("navbar-link-active");if(typeof i!==typeof undefined&&i!==false&&l(document.activeElement)!==t){t.attr("aria-expanded","false")}l(o.videoButtonSelector).addClass("navbar-link-active")}else{n.each(function(){var e=l(this);if(!e.hasClass("ev-in")){return}e.removeClass("ev-in hidden-override").addClass("overlay ev-collapse")});t.addClass("navbar-link-active");if(typeof i!==typeof undefined&&i!==false){t.attr("aria-expanded","true")}if(o.isFullPlugin){t.find(".ev-icon-caret-down").removeClass("ev-icon-caret-down").addClass("ev-icon-caret-up")}}if(!o.isFullPlugin){return}var a=l("#sidebarOptionsLink");if(!a.hasClass("active")){a.click()}});if(this.options.displayAudioPlayer){l(".overlayTrigger").first().click()}l("input:checkbox").on("keypress",function(e){var t=e.keyCode?e.keyCode:e.which;if(t===13){var i=l(this);if(i.attr("checked"))i.attr("checked",false);else i.attr("checked",true)}})},handleAnnotations:function(){var n=this;l(".annotate").on("click",function(){var e=l(this).find(".time-code").text();n.plugin.getMainPlayerApi().seek(parseFloat(e))});l(".annotate").on("keypress",function(e){var t=e.keyCode||e.which;if(t===13){var i=l(this).find(".time-code").text();n.plugin.getMainPlayerApi().seek(parseFloat(i))}})},handleEmbed:function(){if(!this.initializeEmbed){return}var e=new EnsembleVideo.EmbedCode(this.shortContentId);e.initialize()},handleReporting:function(){var e=new EnsembleVideo.Reporting(this.options,this.plugin);e.initialize()},handleDownload:function(){var e=l("#downloadPrimary");var i=l("#downloadSecondary");if(i.length>0){e.on("click",function(e){var t=false||!!document.documentMode;if(t){e.preventDefault();window.open(l(this).prop("href"));window.open(i.prop("href"))}else{i[0].click()}})}},handleCaptionSearch:function(){if(!this.initializeCaptionSearch||this.captionFiles===null||this.captionFiles.length===0){return}var i=this;this.captionFiles.forEach(function(e,t){i.captionSearch=new EnsembleVideo.CaptionSearch({containerId:i.captionSearchContainerId,captionFiles:i.captionFiles,captionFile:e.file,captionIndex:t,onCaptionClicked:function(){l(i.videoButtonSelector).click()},strings:i.strings},i.plugin)})},handleViewersReport:function(){if(!this.initializeViewersReport)return;var e=this,t=l("#viewersReport"),i;if(t.length){i=new EnsembleVideo.ViewersReport({$el:t,apiUrl:e.webHapiBaseUrl,contentId:e.contentId,isJavaScriptEmbed:e.isJavaScriptEmbed,lessHeight:e.usedPluginSpace||40});i.initialize()}}}})(e);(function(n,w){"use strict";if(!Array.isArray){Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}var r=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")};var o=function(e){this.text=e.text;this.begin=e.begin;this.end=e.end;this.el=document.createElement("span");this.el.className="cs_cue tabbed-cue";this.el.tabIndex=0;this.el.innerHTML=this.text+" ";this.elListView=document.createElement("div");this.elListView.className="cs_cue tabbed-cue";this.elListView.tabIndex=0;this._textElement=document.createElement("div");this._textElement.className="cs_cueText";this._textElement.innerHTML=this.text;this._beginElement=document.createElement("div");this._beginElement.className="cs_cueStart";this._beginElement.innerHTML=o.timingToString(this.begin);this.elListView.appendChild(this._textElement);this.elListView.appendChild(this._beginElement)};o.prototype={setActive:function(){var e=w(this.el);var t=w(this.elListView);if(e.hasClass("cs_activeCue")&&t.hasClass("cs_activeCue"))return;this.active=true;e.addClass("cs_activeCue");t.addClass("cs_activeCue")},setInactive:function(){this.active=false;w(this.el).removeClass("cs_activeCue");w(this.elListView).removeClass("cs_activeCue")},hide:function(){if(this.el.style.display!=="none"){this._display=this.el.style.display;this.el.style.display="none"}},show:function(){if(this.el.style.display==="none"){this.el.style.display=this._display||"block"}},focus:function(){this.el.parentNode.scrollTop=this.el.offsetTop-this.el.parentNode.offsetTop-40},focusListView:function(){this.elListView.parentNode.scrollTop=this.elListView.offsetTop-this.elListView.parentNode.offsetTop-40},highlight:function(e){var t=this.text;if(e){var i=new RegExp(r(e),"gi");t=t.replace(i,"<span>$&</span>")}this.el.innerHTML=t+" ";w(this.el).addClass("match highlight")},highlightListView:function(e){var t=this.text;if(e){var i=new RegExp(r(e),"gi");t=t.replace(i,'<span class="highlight">$&</span>')}this._textElement.innerHTML=t},setMatch:function(e){var t=this.text;if(e){var i=new RegExp(r(e),"gi");t=t.replace(i,"<span>$&</span>")}this.el.innerHTML=t+" ";w(this.el).addClass("match")},resetValue:function(){this.el.innerHTML=this.text+" ";w(this.el).removeClass("match highlight highlightActive")},setAlt:function(e){if(e){w(this.elListView).addClass("cs_cueAlt")}else{w(this.elListView).removeClass("cs_cueAlt")}},isSearchMatch:function(){return w(this.el).hasClass("match")},isSearchActive:function(){return w(this.el).hasClass("highlightActive")},setSearchHighlight:function(){w(this.el).addClass("highlight")},setSearchHighlightActive:function(){w(this.el).addClass("highlightActive")},removeSearchHighlight:function(){w(this.el).removeClass("highlight")},removeSearchHighlightActive:function(){w(this.el).removeClass("highlightActive")}};o.timingToString=function(e){var t=(e+"").split("."),i=+t[0],n=+t[1]||0,r=0,s=0;if(i>=60){r=Math.floor(i/60);i=i%60}if(r>=60){s=Math.floor(r/60);r=r%60}if(i<10){i="0"+i}if(r<10){r="0"+r}if(s<10){s="0"+s}if(n<10){n="0"+n}return s+":"+r+":"+i};o.partsToTiming=function(){var e=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),t=parseInt(e[0],10)||0,i=parseInt(e[1],10)||0,n=parseFloat(e[2])||0;return t*60*60+i*60+n};n.CaptionSearch=function(e,t){this.plugin=t;this.captionIndex=e.captionIndex;this.containerId=e.captionIndex===0?e.containerId:this.cloneSearchHtmlAndGetContainerId(e.containerId);this.container=document.getElementById(this.containerId);this.captionFiles=e.captionFiles;this.captionFile=e.captionFile;this.format=/^.*.vtt$/.test(this.captionFile)?"vtt":"ttml";this.onCaptionClicked=e.onCaptionClicked||function(){};this.cues=[];this.cuesListView=[];this.cuesParagraphView=[];this.searchQuery="";this.strings=e.strings;if(e.autoLoad===undefined||e.autoLoad){this.loadCues()}var i=this;this.plugin.primaryPlayerApi.on("time",function(e){i.setActive(e.position)});if(this.plugin.isDualPlugin){this.plugin.secondaryPlayerApi.on("time",function(e){i.setActive(e.position)})}i.handleTranscriptLanguageDropdown()};n.CaptionSearch.prototype={loadCues:function(e,t){var i="cuesLoading",n=new XMLHttpRequest;w(this.container).addClass(i);var r=this;n.onreadystatechange=function(){if(n.readyState===4&&n.status===200){if(r.format==="vtt"){r.parseVtt(n.responseText)}else{r.parseTtml(n.responseXML)}r.handleAccessibility();w(r.container).removeClass(i);if(!t){r.renderParagraphView(r);r.renderListView(r);r.renderBlockView(r)}if(e){e()}}};n.open("GET",this.captionFile,true);n.send()},handleAccessibility:function(){w(".tabbed-cue").on("keyup",function(e){var t=e.keyCode?e.keyCode:e.which;if(t===9){var i=w(document.activeElement);if(i.hasClass("tabbed-cue")){i.addClass("focus-outline")}}});w(".tabbed-cue").on("blur",function(){w(this).removeClass("focus-outline")})},handleTranscriptLanguageDropdown:function(){var r=this;var e="#transcriptLanguageContainer";var n="#ddlTranscriptLanguage";var s=".transcript-link-unlink";if(this.captionFiles===null||this.captionFiles.length<=1){w(e).remove();return}if(this.captionIndex===this.captionFiles.length-1){w(n).trigger("change")}r.plugin.primaryPlayerApi.on("captionsChanged",function(e){var t=w(s).prop("linked");var i=w(n).val();if(!t||e.track===0||e.track-1==i)return;w(n).val(e.track-1).trigger("change")});if(r.plugin.isDualPlugin){r.plugin.secondaryPlayerApi.on("captionsChanged",function(e){var t=w(s).prop("linked");var i=w(n).val();if(!t||e.track===0||e.track-1==i)return;w(n).val(e.track-1).trigger("change")})}if(this.captionIndex!==1)return;this.captionFiles.forEach(function(e,t){var i="<option value="+t+">"+e.label+"</option>";w(i).appendTo(n);if(e.default===true){w(n).val(t)}});w(n).on("change",function(e){w(".captionSearch").hide();var t=parseInt(e.currentTarget.value);if(t===0){w("#captionSearch").show()}else{w("#captionSearch-"+t).show()}var i=r.plugin.getMainPlayerApi().getCurrentCaptions();var n=w(s).prop("linked");if(i===0||!n||i===t+1)return;r.plugin.getMainPlayerApi().setCurrentCaptions(t+1)});w(s).on("click",function(){var e=w(this).prop("linked");w(this).prop("linked",!e);w(this).find("i").toggleClass("ev-icon-chain").toggleClass("ev-icon-chain-broken");if(!e){w(n).trigger("change")}});w(s).on("keypress",function(e){var t=e.keyCode||e.which;if(t===13){w(this).trigger("click")}});w(s).prop("linked",true);w(e).prop("style","display:inline-block;")},cloneSearchHtmlAndGetContainerId:function(e){var t=this;var i=t.captionIndex;var n=e+"-"+i;var r=w("#"+e).clone().prop("id",n).hide();r.find("#search-blockView").prop("id","search-blockView-"+i);r.find("#block-paragraph-view").prop("id","block-paragraph-view-"+i);r.find("#block-list-view").prop("id","block-list-view-"+i);r.find("#block-full-view").prop("id","block-full-view-"+i);r.find("#block-download-transcript").prop("id","block-download-transcript-"+i);r.find("#search-listView").prop("id","search-listView-"+i);r.find("#cs_loading-listView").prop("id","cs_loading-listView-"+i);r.find("#list-paragraph-view").prop("id","list-paragraph-view-"+i);r.find("#list-view").prop("id","list-view-"+i);r.find("#list-full-view").prop("id","list-full-view-"+i);r.find("#list-download-transcript").prop("id","list-download-transcript-"+i);r.find("#search-paragraphView").prop("id","search-paragraphView-"+i);r.find("#cs_loading-paragraphView").prop("id","cs_loading-paragraphView-"+i);r.find("#paragraph-view").prop("id","paragraph-view-"+i);r.find("#paragraph-list-view").prop("id","paragraph-list-view-"+i);r.find("#paragraph-full-view").prop("id","paragraph-full-view-"+i);r.find("#paragraph-download-transcript").prop("id","paragraph-download-transcript-"+i);r.appendTo("#captionSearchOverlay");return n},renderBlockView:function(i){i.searchElement=i.container.querySelector(".cs_search");i.countElement=i.searchElement.querySelector(".cs_count");i.loadingElement=i.container.querySelector(".cs_loading");var e=i.captionIndex>0?"search-blockView-"+i.captionIndex:"search-blockView";var t=i.captionIndex>0?"#block-paragraph-view-"+i.captionIndex:"#block-paragraph-view";var n=i.captionIndex>0?"#block-list-view-"+i.captionIndex:"#block-list-view";var r=i.captionIndex>0?"#block-full-view-"+i.captionIndex:"#block-full-view";var s=i.captionIndex>0?"#block-download-transcript-"+i.captionIndex:"#block-download-transcript";var a=i.captionIndex>0?"#list-view-"+i.captionIndex:"#list-view";var o=i.captionIndex>0?"#paragraph-view-"+i.captionIndex:"#paragraph-view";var l=document.getElementById(e),h="";l.value="";var c=function(e){var t=l.value;if(t!==h){h=t;if(i.submitTimeout){clearTimeout(i.submitTimeout)}i.submitTimeout=setTimeout(function(){i.search(t)},1e3)}},u=function(e){var t=e.keyCode||e.which;if(t===13){i.findNextMatch()}};var d=w(l);d.on("input",c);d.on("propertychange",function(e){if(e.propertyName==="value"){c(e)}});d.on("focus",function(){w(document).bind("selectionchange",c)});d.on("blur",function(){w(document).unbind("selectionchange",c)});d.on("keypress",u);var f=w(n);f.on("click",function(){i.handleListViewSelection()});f.on("keypress",function(e){var t=e.keyCode||e.which;if(t===13){i.handleListViewSelection(w(a))}});var p=w(r);p.on("click",function(){i.handleFullViewSelection()});p.on("keypress",function(e){var t=e.keyCode||e.which;if(t===13){i.handleFullViewSelection(w(r))}});var g=w(t);g.on("click",function(){i.handleParagraphViewSelection()});g.on("keypress",function(e){var t=e.keyCode||e.which;if(t===13){i.handleParagraphViewSelection(w(o))}});var m=w(s);m.on("click",function(){i.download()});m.on("keypress",function(e){var t=e.keyCode||e.which;if(t===13){i.download()}});this.errorElement=i.container.querySelector(".cs_error");if(!this.hasParserErrors){this.errorElement.style.display="none"}this.cuesElement=i.container.querySelector(".cs_cues-fullView");while(this.cuesElement.firstChild){this.cuesElement.removeChild(this.cuesElement.firstChild)}this.cuesElement.style.display="none";i.searchElement.style.display="none";var v=this;this.cues.forEach(function(i,e){v.cuesElement.appendChild(i.el);w(i.el).on("click",function(e){v.onCaptionClicked();if(v.plugin.getMainPlayerApi().getState()==="idle"){v.plugin.getMainPlayerApi().once("play",function(e){v.plugin.getMainPlayerApi().seek(i.begin)});v.plugin.getMainPlayerApi().play()}else{v.plugin.getMainPlayerApi().seek(i.begin)}});w(i.el).on("keypress",function(e){var t=e.keyCode||e.which;if(t===13){v.onCaptionClicked();if(v.plugin.getMainPlayerApi().getState()==="idle"){v.plugin.getMainPlayerApi().once("play",function(e){v.plugin.getMainPlayerApi().seek(i.begin)});v.plugin.getMainPlayerApi().play()}else{v.plugin.getMainPlayerApi().seek(i.begin)}}})},this);this.updateCount(0,0)},renderListView:function(i){var e=this.captionIndex>0?"cs_loading-listView-"+this.captionIndex:"cs_loading-listView";var t=this.captionIndex>0?"search-listView-"+this.captionIndex:"search-listView";i.searchElement=i.container.querySelector(".cs_search-listView");i.countElementListView=i.searchElement.querySelector(".cs_count");i.loadingElementListView=document.getElementById(e);var n=i.captionIndex>0?"#list-view-"+i.captionIndex:"#list-view";var r=i.captionIndex>0?"#list-full-view-"+i.captionIndex:"#list-full-view";var s=i.captionIndex>0?"#block-full-view-"+i.captionIndex:"#block-full-view";var a=i.captionIndex>0?"#list-paragraph-view-"+i.captionIndex:"#list-paragraph-view";var o=i.captionIndex>0?"#paragraph-view-"+i.captionIndex:"#paragraph-view";var l=i.captionIndex>0?"#list-download-transcript-"+i.captionIndex:"#list-download-transcript";var h=document.getElementById(t),c="";h.value="";var u=function(e){var t=h.value;if(t!==c){c=t;if(i.submitTimeout){clearTimeout(i.submitTimeout)}i.submitTimeout=setTimeout(function(){i.searchListView(t)},1e3)}},d=function(e){var t=e.keyCode||e.which;if(t===13){e.preventDefault();return false}}.bind(this);var f=w(h);f.on("input",u);f.on("propertychange",function(e){if(e.propertyName==="value"){u(e)}});f.on("focus",function(){w(document).bind("selectionchange",u)});f.on("blur",function(){w(document).unbind("selectionchange",u)});var p=w(n);p.on("click",function(){i.handleListViewSelection()});p.on("keypress",function(e){var t=e.keyCode||e.which;if(t===13){i.handleListViewSelection(w(n))}});var g=w(r);g.on("click",function(){i.handleFullViewSelection()});g.on("keypress",function(e){var t=e.keyCode||e.which;if(t===13){i.handleFullViewSelection(w(s))}});var m=w(a);m.on("click",function(){i.handleParagraphViewSelection()});m.on("keypress",function(e){var t=e.keyCode||e.which;if(t===13){i.handleParagraphViewSelection(w(o))}});var v=w(l);v.on("click",function(){i.download()});v.on("keypress",function(e){var t=e.keyCode||e.which;if(t===13){i.download()}});f.on("keypress",d);this.errorElement=this.container.querySelector(".cs_error");if(!this.hasParserErrors){this.errorElement.style.display="none"}this.cuesElementListView=this.container.querySelector(".cs_cues-listView");while(this.cuesElementListView.firstChild){this.cuesElementListView.removeChild(this.cuesElementListView.firstChild)}this.cuesElementListView.style.display="none";i.searchElement.style.display="none";var b=this;this.cuesListView.forEach(function(i,e){i.setAlt(e%2!==0);b.cuesElementListView.appendChild(i.elListView);w(i.elListView).on("click",function(e){b.onCaptionClicked();if(b.plugin.getMainPlayerApi().getState()==="idle"){b.plugin.getMainPlayerApi().once("play",function(e){b.plugin.getMainPlayerApi().seek(i.begin)});b.plugin.getMainPlayerApi().play()}else{b.plugin.getMainPlayerApi().seek(i.begin)}});w(i.elListView).on("keypress",function(e){var t=e.keyCode||e.which;if(t===13){b.onCaptionClicked();if(b.plugin.getMainPlayerApi().getState()==="idle"){b.plugin.getMainPlayerApi().once("play",function(e){b.plugin.getMainPlayerApi().seek(i.begin)});b.plugin.getMainPlayerApi().play()}else{b.plugin.getMainPlayerApi().seek(i.begin)}}})},this);this.updateCountListView(this.cuesListView.length,this.cuesListView.length)},renderParagraphView:function(i){var e=i.captionIndex>0?"cs_loading-paragraphView-"+i.captionIndex:"cs_loading-paragraphView";var t=i.captionIndex>0?"search-paragraphView-"+i.captionIndex:"search-paragraphView";i.searchElement=i.container.querySelector(".cs_search-paragraphView");i.countElementParagraphView=i.searchElement.querySelector(".cs_count");i.loadingElementParagraphView=document.getElementById(e);var n=i.captionIndex>0?"#paragraph-list-view-"+i.captionIndex:"#paragraph-list-view";var r=i.captionIndex>0?"#paragraph-full-view-"+i.captionIndex:"#paragraph-full-view";var s=i.captionIndex>0?"#list-view-"+i.captionIndex:"#list-view";var a=i.captionIndex>0?"#block-full-view-"+i.captionIndex:"#block-full-view";var o=i.captionIndex>0?"#paragraph-view-"+i.captionIndex:"#paragraph-view";var l=i.captionIndex>0?"#paragraph-download-transcript-"+i.captionIndex:"#paragraph-download-transcript";var h=document.getElementById(t),c="";h.value="";var u=function(e){var t=h.value;if(t!==c){c=t;if(i.submitTimeout){clearTimeout(i.submitTimeout)}i.submitTimeout=setTimeout(function(){i.search(t,true)},1e3)}},d=function(e){var t=e.keyCode||e.which;if(t===13){i.findNextMatch(true)}};var f=w(h);f.on("input",u);f.on("propertychange",function(e){if(e.propertyName==="value"){u(e)}});f.on("focus",function(){w(document).bind("selectionchange",u)});f.on("blur",function(){w(document).unbind("selectionchange",u)});var p=w(n);p.on("click",function(){i.handleListViewSelection()});p.on("keypress",function(e){var t=e.keyCode||e.which;if(t===13){i.handleListViewSelection(w(s))}});var g=w(r);g.on("click",function(){i.handleFullViewSelection()});g.on("keypress",function(e){var t=e.keyCode||e.which;if(t===13){i.handleFullViewSelection(w(a))}});var m=w(o);m.on("click",function(){i.handleParagraphViewSelection()});m.on("keypress",function(e){var t=e.keyCode||e.which;if(t===13){i.handleParagraphViewSelection(w(o))}});var v=w(l);v.on("click",function(){i.download()});v.on("keypress",function(e){var t=e.keyCode||e.which;if(t===13){i.download()}});f.on("keypress",d);this.errorElement=this.container.querySelector(".cs_error");if(!this.hasParserErrors){this.errorElement.style.display="none"}this.cuesElementParagraphView=this.container.querySelector(".cs_cues-paragraphView");while(this.cuesElementParagraphView.firstChild){this.cuesElementParagraphView.removeChild(this.cuesElementParagraphView.firstChild)}var b=0;var y=this;this.cuesParagraphView.forEach(function(i,e){b++;y.cuesElementParagraphView.appendChild(i.el);if(b===5){y.cuesElementParagraphView.appendChild(document.createElement("br"));y.cuesElementParagraphView.appendChild(document.createElement("br"));b=0}w(i.el).on("click",function(e){y.onCaptionClicked();if(y.plugin.getMainPlayerApi().getState()==="idle"){y.plugin.getMainPlayerApi().once("play",function(e){y.plugin.getMainPlayerApi().seek(i.begin)});y.plugin.getMainPlayerApi().play()}else{y.plugin.getMainPlayerApi().seek(i.begin)}});w(i.el).on("keypress",function(e){var t=e.keyCode||e.which;if(t===13){y.onCaptionClicked();if(y.plugin.getMainPlayerApi().getState()==="idle"){y.plugin.getMainPlayerApi().once("play",function(e){y.plugin.getMainPlayerApi().seek(i.begin)});y.plugin.getMainPlayerApi().play()}else{y.plugin.getMainPlayerApi().seek(i.begin)}}})},this);this.updateCount(0,0,true)},handleListViewSelection:function(e){w(".cs_cues-fullView, .cs_search, .cs_cues-paragraphView, .cs_search-paragraphView").hide();w(".cs_cues-listView, .cs_search-listView").show();if(e!==undefined&&e!==null){e.focus().addClass("focus-outline")}},handleFullViewSelection:function(e){w(".cs_cues-fullView, .cs_search").show();w(".cs_cues-listView, .cs_search-listView, .cs_cues-paragraphView, .cs_search-paragraphView").hide();if(e!==undefined&&e!==null){e.focus().addClass("focus-outline")}},handleParagraphViewSelection:function(e){w(".cs_cues-fullView, .cs_search, .cs_cues-listView, .cs_search-listView").hide();w(".cs_cues-paragraphView, .cs_search-paragraphView").show();if(e!==undefined&&e!==null){e.focus().addClass("focus-outline")}},destroy:function(){this.container.innerHTML=""},updateCount:function(e,t,i){if(i&&this.countElementParagraphView){this.countElementParagraphView.innerHTML="".concat(this.strings.showing," ",e," ",this.strings.of," ",t)}else if(this.countElement){this.countElement.innerHTML="".concat(this.strings.showing," ",e," ",this.strings.of," ",t)}},updateCountListView:function(e,t){if(this.countElementListView){this.countElementListView.innerHTML="".concat(this.strings.showing," ",e," ",this.strings.of," ",t)}},search:function(e,t){var i=0,n="loading",r=false,s=e?e.trim().toLowerCase():"";this.searchQuery=s;var a=t?this.cuesParagraphView:this.cues;var o=t?w(this.loadingElementParagraphView):w(this.loadingElement);o.addClass(n);a.forEach(function(e){e.resetValue();if(e.text.toLowerCase().indexOf(s)>-1&&s!==""){if(!r){e.focus();e.highlight(s);e.setSearchHighlightActive()}else{e.highlight(s)}++i;r=true}},this);if(s===""){this.updateCount(0,0,t?true:false)}else{this.updateCount(r?1:0,i,t?true:false)}o.removeClass(n)},findNextMatch:function(e){var t=0,i=0,n=false;var r=e?this.cuesParagraphView:this.cues;r.forEach(function(e){if(e.isSearchMatch()){if(e.isSearchActive()){e.removeSearchHighlightActive();n=true}else if(n){e.setSearchHighlightActive();e.focus();t=i+1;n=false}i++}},this);if(t===0&&i>0){r.forEach(function(e){if(e.isSearchMatch()&&n){e.setSearchHighlightActive();e.focus();t=1;n=false;return}},this)}this.updateCount(t,i,e?true:false)},searchListView:function(e){var t=0,i=0,n="loading",r=e?e.trim().toLowerCase():"";var s=w(this.loadingElementListView);s.addClass(n);this.cuesListView.forEach(function(e){if(e.text.toLowerCase().indexOf(r)>-1){e.setAlt(t++%2!==0);e.highlightListView(r);w(e.elListView).show();e.show();++i}else{w(e.elListView).hide();e.hide()}},this);this.updateCountListView(i,this.cuesListView.length);s.removeClass(n)},setActive:function(t){var i=this;this.cuesParagraphView.forEach(function(e){if(e.begin<=t&&t<e.end){e.setActive();if(i.searchQuery==="")e.focus()}else{e.setInactive()}},this);this.cues.forEach(function(e){if(e.begin<=t&&t<e.end){e.setActive();if(i.searchQuery==="")e.focus()}else{e.setInactive()}},this);this.cuesListView.forEach(function(e){if(e.begin<=t&&t<e.end){e.setActive();if(i.searchQuery==="")e.focusListView()}else{e.setInactive()}},this)},resizeContainer:function(e){var t=w(this.container);t.setStyle({maxHeight:e+"px"});var i=w(this.searchElement);var n=i.getLayout();var r=n.get("margin-box-height");var s=e-r;var a=w(this.cuesElement);var o=a.getLayout();var l=o.get("height");var h=o.get("margin-box-height");var c=h-l;a.setStyle({maxHeight:s-c+"px",overflow:"auto"})},parseVtt:function(e){var t=new n.WebVTT.Parser(n,n.WebVTT.StringDecoder());this.hasParserErrors=false;var i=this;t.oncue=function(e){if(e.text){i.cuesParagraphView.push(new o({text:e.text,begin:e.startTime,end:e.endTime}));i.cues.push(new o({text:e.text,begin:e.startTime,end:e.endTime}));i.cuesListView.push(new o({text:e.text,begin:e.startTime,end:e.endTime}))}};t.onparsingerror=function(e){this.hasParserErrors=true};t.parse(e);t.flush()},parseTtml:function(e){try{var t=e.getElementsByTagName("p");for(var i=0;i<t.length;i++){var n=t[i],r=o.partsToTiming(n.attributes.begin.value.split(":")),s;if(n.attributes.dur){var a=parseInt(n.attributes.dur.value,10);if(isNaN(!a)){throw'Could not parse "dur"'}s=r+a}else{s=o.partsToTiming(n.attributes.end.value.split(":"))}this.cuesParagraphView.push(new o({text:n.innerHTML||n.textContent,begin:r,end:s}));this.cues.push(new o({text:n.innerHTML||n.textContent,begin:r,end:s}));this.cuesListView.push(new o({text:n.innerHTML||n.textContent,begin:r,end:s}))}}catch(e){this.hasParserErrors=true}},htmlDecode:function(e){if(!e){return""}var t=document.createElement("a");t.innerHTML=e;return t.textContent||""},prepareForDownload:function(e){if(e===undefined||e===null||e==="")return e;var t=this.htmlDecode(e.replace(/xmlns=\"(.*?)\"/g,"").replace(/<br *\/?>/gi," "));return this.splitter(t,80)},splitter:function(e,t){var i=[];while(e.length>t){var n=e.substring(0,t).lastIndexOf(" ");n=n<=0?t:n;i.push(e.substring(0,n));var r=e.indexOf(" ",n)+1;if(r<n||r>n+t)r=n;e=e.substring(r)}i.push(e);var s=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;var a=navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)?true:false;var o=s||a?"%0D%0A":"\r\n";var l="";i.forEach(function(e){l+=e+o},this);return l},download:function(){var t="";this.cues.forEach(function(e){t+=e.text+" "},this);t=this.prepareForDownload(t);var e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+t);e.setAttribute("download","transcript.txt");e.style.display="none";document.body.appendChild(e);if(window.navigator.msSaveOrOpenBlob){var i=new Blob([t]);window.navigator.msSaveOrOpenBlob(i,"transcript.txt")}else{e.click()}document.body.removeChild(e)}};(function(e){var w="auto";var i={"":true,lr:true,rl:true};var n={start:true,middle:true,end:true,left:true,right:true};function C(e){if(typeof e!=="string"){return false}var t=i[e.toLowerCase()];return t?e.toLowerCase():false}function S(e){if(typeof e!=="string"){return false}var t=n[e.toLowerCase()];return t?e.toLowerCase():false}function P(e){var t=1;for(;t<arguments.length;t++){var i=arguments[t];for(var n in i){e[n]=i[n]}}return e}function t(e,t,i){var n=this;var r=/MSIE\s8\.0/.test(navigator.userAgent);var s={};if(r){n=document.createElement("custom")}else{s.enumerable=true}n.hasBeenReset=false;var a="";var o=false;var l=e;var h=t;var c=i;var u=null;var d="";var f=true;var p="auto";var g="start";var m=50;var v="middle";var b=50;var y="middle";Object.defineProperty(n,"id",P({},s,{get:function(){return a},set:function(e){a=""+e}}));Object.defineProperty(n,"pauseOnExit",P({},s,{get:function(){return o},set:function(e){o=!!e}}));Object.defineProperty(n,"startTime",P({},s,{get:function(){return l},set:function(e){if(typeof e!=="number"){throw new TypeError("Start time must be set to a number.")}l=e;this.hasBeenReset=true}}));Object.defineProperty(n,"endTime",P({},s,{get:function(){return h},set:function(e){if(typeof e!=="number"){throw new TypeError("End time must be set to a number.")}h=e;this.hasBeenReset=true}}));Object.defineProperty(n,"text",P({},s,{get:function(){return c},set:function(e){c=""+e;this.hasBeenReset=true}}));Object.defineProperty(n,"region",P({},s,{get:function(){return u},set:function(e){u=e;this.hasBeenReset=true}}));Object.defineProperty(n,"vertical",P({},s,{get:function(){return d},set:function(e){var t=C(e);if(t===false){throw new SyntaxError("An invalid or illegal string was specified.")}d=t;this.hasBeenReset=true}}));Object.defineProperty(n,"snapToLines",P({},s,{get:function(){return f},set:function(e){f=!!e;this.hasBeenReset=true}}));Object.defineProperty(n,"line",P({},s,{get:function(){return p},set:function(e){if(typeof e!=="number"&&e!==w){throw new SyntaxError("An invalid number or illegal string was specified.")}p=e;this.hasBeenReset=true}}));Object.defineProperty(n,"lineAlign",P({},s,{get:function(){return g},set:function(e){var t=S(e);if(!t){throw new SyntaxError("An invalid or illegal string was specified.")}g=t;this.hasBeenReset=true}}));Object.defineProperty(n,"position",P({},s,{get:function(){return m},set:function(e){if(e<0||e>100){throw new Error("Position must be between 0 and 100.")}m=e;this.hasBeenReset=true}}));Object.defineProperty(n,"positionAlign",P({},s,{get:function(){return v},set:function(e){var t=S(e);if(!t){throw new SyntaxError("An invalid or illegal string was specified.")}v=t;this.hasBeenReset=true}}));Object.defineProperty(n,"size",P({},s,{get:function(){return b},set:function(e){if(e<0||e>100){throw new Error("Size must be between 0 and 100.")}b=e;this.hasBeenReset=true}}));Object.defineProperty(n,"align",P({},s,{get:function(){return y},set:function(e){var t=S(e);if(!t){throw new SyntaxError("An invalid or illegal string was specified.")}y=t;this.hasBeenReset=true}}));n.displayState=undefined;if(r){return n}}t.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};e.VTTCue=t||e.VTTCue})(window.EnsembleVideo);(function(e){var i={"":true,up:true};function l(e){if(typeof e!=="string"){return false}var t=i[e.toLowerCase()];return t?e.toLowerCase():false}function h(e){return typeof e==="number"&&(e>=0&&e<=100)}function t(){var t=100;var i=3;var n=0;var r=100;var s=0;var a=100;var o="";Object.defineProperties(this,{width:{enumerable:true,get:function(){return t},set:function(e){if(!h(e)){throw new Error("Width must be between 0 and 100.")}t=e}},lines:{enumerable:true,get:function(){return i},set:function(e){if(typeof e!=="number"){throw new TypeError("Lines must be set to a number.")}i=e}},regionAnchorY:{enumerable:true,get:function(){return r},set:function(e){if(!h(e)){throw new Error("RegionAnchorX must be between 0 and 100.")}r=e}},regionAnchorX:{enumerable:true,get:function(){return n},set:function(e){if(!h(e)){throw new Error("RegionAnchorY must be between 0 and 100.")}n=e}},viewportAnchorY:{enumerable:true,get:function(){return a},set:function(e){if(!h(e)){throw new Error("ViewportAnchorY must be between 0 and 100.")}a=e}},viewportAnchorX:{enumerable:true,get:function(){return s},set:function(e){if(!h(e)){throw new Error("ViewportAnchorX must be between 0 and 100.")}s=e}},scroll:{enumerable:true,get:function(){return o},set:function(e){var t=l(e);if(t===false){throw new SyntaxError("An invalid or illegal string was specified.")}o=t}}})}e.VTTRegion=e.VTTRegion||t})(window.EnsembleVideo);(function(e){function c(e,t){if(t===undefined){t=1}return"rgba("+[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16),t].join(",")+")"}var t=["webvtt.font.color","webvtt.font.opacity","webvtt.font.scale","webvtt.bg.color","webvtt.bg.opacity","webvtt.edge.color","webvtt.edge.type"];var u=1;function i(e,t,i){switch(i){case"webvtt.font.color":case"webvtt.font.opacity":var n=Services.prefs.getCharPref("webvtt.font.color");var r=Services.prefs.getIntPref("webvtt.font.opacity")/100;d.fontSet=c(n,r);break;case"webvtt.font.scale":u=Services.prefs.getIntPref("webvtt.font.scale")/100;break;case"webvtt.bg.color":case"webvtt.bg.opacity":var s=Services.prefs.getCharPref("webvtt.bg.color");var a=Services.prefs.getIntPref("webvtt.bg.opacity")/100;d.backgroundSet=c(s,a);break;case"webvtt.edge.color":case"webvtt.edge.type":var o=["","0px 0px ","4px 4px 4px ","-2px -2px ","2px 2px "];var l=Services.prefs.getIntPref("webvtt.edge.type");var h=Services.prefs.getCharPref("webvtt.edge.color");d.edgeSet=o[l]+c(h);break}}if(typeof Services!=="undefined"){var d={};t.forEach(function(e){i(undefined,undefined,e);Services.prefs.addObserver(e,i,false)})}var n=Object.create||function(){function t(){}return function(e){if(arguments.length!==1){throw new Error("Object.create shim only accepts one parameter.")}t.prototype=e;return new t}}();function h(e,t){this.name="ParsingError";this.code=e.code;this.message=t||e.message}h.prototype=n(Error.prototype);h.prototype.constructor=h;h.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function p(e){function t(e,t,i,n){return(e|0)*3600+(t|0)*60+(i|0)+(n|0)/1e3}var i=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);if(!i){return null}if(i[3]){return t(i[1],i[2],i[3].replace(":",""),i[4])}else if(i[1]>59){return t(i[1],i[2],0,i[4])}else{return t(0,i[1],i[2],i[4])}}function f(){this.values=n(null)}f.prototype={set:function(e,t){if(!this.get(e)&&t!==""){this.values[e]=t}},get:function(e,t,i){if(i){return this.has(e)?this.values[e]:t[i]}return this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,i){for(var n=0;n<i.length;++n){if(t===i[n]){this.set(e,t);break}}},integer:function(e,t){if(/^-?\d+$/.test(t)){this.set(e,parseInt(t,10))}},percent:function(e,t){var i;if(i=t.match(/^([\d]{1,3})(\.[\d]*)?%$/)){t=parseFloat(t);if(t>=0&&t<=100){this.set(e,t);return true}}return false}};function g(e,t,i,n){var r=n?e.split(n):[e];for(var s in r){if(typeof r[s]!=="string"){continue}var a=r[s].split(i);if(a.length!==2){continue}var o=a[0];var l=a[1];t(o,l)}}function m(t,e,a){var i=t;function n(){var e=p(t);if(e===null){throw new h(h.Errors.BadTimeStamp,"Malformed timestamp: "+i)}t=t.replace(/^[^\sa-zA-Z-]+/,"");return e}function r(e,t){var s=new f;g(e,function(e,t){switch(e){case"region":for(var i=a.length-1;i>=0;i--){if(a[i].id===t){s.set(e,a[i].region);break}}break;case"vertical":s.alt(e,t,["rl","lr"]);break;case"line":var n=t.split(","),r=n[0];s.integer(e,r);s.percent(e,r)?s.set("snapToLines",false):null;s.alt(e,r,["auto"]);if(n.length===2){s.alt("lineAlign",n[1],["start","middle","end"])}break;case"position":n=t.split(",");s.percent(e,n[0]);if(n.length===2){s.alt("positionAlign",n[1],["start","middle","end"])}break;case"size":s.percent(e,t);break;case"align":s.alt(e,t,["start","middle","end","left","right"]);break}},/:/,/\s/);t.region=s.get("region",null);t.vertical=s.get("vertical","");t.line=s.get("line","auto");t.lineAlign=s.get("lineAlign","start");t.snapToLines=s.get("snapToLines",true);t.size=s.get("size",100);t.align=s.get("align","middle");t.position=s.get("position","auto");t.positionAlign=s.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function s(){t=t.replace(/^\s+/,"")}s();e.startTime=n();s();if(t.substr(0,3)!=="--\x3e"){throw new h(h.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+i)}t=t.substr(3);s();e.endTime=n();s();r(t,e)}var v={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "};var b={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"};var y={v:"title",lang:"lang"};var w={rt:"ruby"};function C(s,i){function e(){if(!i){return null}function e(e){i=i.substr(e.length);return e}var t=i.match(/^([^<]*)(<[^>]+>?)?/);return e(t[1]?t[1]:t[2])}function t(e){return v[e]}function n(e){while(f=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/)){e=e.replace(f[0],t)}return e}function r(e,t){return!w[t.localName]||w[t.localName]===e.localName}function a(e,t){var i=b[e];if(!i){return null}var n=s.document.createElement(i);n.localName=i;var r=y[e];if(r&&t){n[r]=t.trim()}return n}var o=s.document.createElement("div"),l=o,h,c=[];while((h=e())!==null){if(h[0]==="<"){if(h[1]==="/"){if(c.length&&c[c.length-1]===h.substr(2).replace(">","")){c.pop();l=l.parentNode}continue}var u=p(h.substr(1,h.length-2));var d;if(u){d=s.document.createProcessingInstruction("timestamp",u);l.appendChild(d);continue}var f=h.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f){continue}d=a(f[1],f[3]);if(!d){continue}if(!r(l,d)){continue}if(f[2]){d.className=f[2].substr(1).replace("."," ")}c.push(f[1]);l.appendChild(d);l=d;continue}l.appendChild(s.document.createTextNode(n(h)))}return o}var l=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];function S(e){var t=[],i="",n;if(!e||!e.childNodes){return"ltr"}function r(e,t){for(var i=t.childNodes.length-1;i>=0;i--){e.push(t.childNodes[i])}}function s(e){if(!e||!e.length){return null}var t=e.pop(),i=t.textContent||t.innerText;if(i){var n=i.match(/^.*(\n|\r)/);if(n){e.length=0;return n[0]}return i}if(t.tagName==="ruby"){return s(e)}if(t.childNodes){r(e,t);return s(e)}}r(t,e);while(i=s(t)){for(var a=0;a<i.length;a++){n=i.charCodeAt(a);for(var o=0;o<l.length;o++){if(l[o]===n){return"rtl"}}}}return"ltr"}function P(e){if(typeof e.line==="number"&&(e.snapToLines||e.line>=0&&e.line<=100)){return e.line}if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement){return-1}var t=e.track,i=t.textTrackList,n=0;for(var r=0;r<i.length&&i[r]!==t;r++){if(i[r].mode==="showing"){n++}}return++n*-1}function k(){}k.prototype.applyStyles=function(e,t){t=t||this.div;for(var i in e){if(e.hasOwnProperty(i)){t.style[i]=e[i]}}};k.prototype.formatStyle=function(e,t){return e===0?0:e+t};function I(e,t,i){var n=typeof navigator!=="undefined"&&/MSIE\s8\.0/.test(navigator.userAgent);var r="rgba(255, 255, 255, 1)";var s="rgba(0, 0, 0, 0.8)";var a="";if(typeof d!=="undefined"){r=d.fontSet;s=d.backgroundSet;a=d.edgeSet}if(n){r="rgb(255, 255, 255)";s="rgb(0, 0, 0)"}k.call(this);this.cue=t;this.cueDiv=C(e,t.text);var o={color:r,backgroundColor:s,textShadow:a,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};if(!n){o.writingMode=t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl";o.unicodeBidi="plaintext"}this.applyStyles(o,this.cueDiv);this.div=e.document.createElement("div");o={textAlign:t.align==="middle"?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"};if(!n){o.direction=S(this.cueDiv);o.writingMode=t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"}this.applyStyles(o);this.div.appendChild(this.cueDiv);var l=0;switch(t.positionAlign){case"start":l=t.position;break;case"middle":l=t.position-t.size/2;break;case"end":l=t.position-t.size;break}if(t.vertical===""){this.applyStyles({left:this.formatStyle(l,"%"),width:this.formatStyle(t.size,"%")})}else{this.applyStyles({top:this.formatStyle(l,"%"),height:this.formatStyle(t.size,"%")})}this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}I.prototype=n(k.prototype);I.prototype.constructor=I;function D(e){var t=typeof navigator!=="undefined"&&/MSIE\s8\.0/.test(navigator.userAgent);var i,n,r,s;if(e.div){n=e.div.offsetHeight;r=e.div.offsetWidth;s=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect();i=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left;this.right=e.right;this.top=e.top||s;this.height=e.height||n;this.bottom=e.bottom||s+(e.height||n);this.width=e.width||r;this.lineHeight=i!==undefined?i:e.lineHeight;if(t&&!this.lineHeight){this.lineHeight=13}}D.prototype.move=function(e,t){t=t!==undefined?t:this.lineHeight;switch(e){case"+x":this.left+=t;this.right+=t;break;case"-x":this.left-=t;this.right-=t;break;case"+y":this.top+=t;this.bottom+=t;break;case"-y":this.top-=t;this.bottom-=t;break}};D.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top};D.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++){if(this.overlaps(e[t])){return true}}return false};D.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right};D.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}};D.prototype.intersectPercentage=function(e){var t=Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left)),i=Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top)),n=t*i;return n/(this.height*this.width)};D.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}};D.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0;var i=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0;var n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e;var r={left:e.left,right:e.right,top:e.top||n,height:e.height||t,bottom:e.bottom||n+(e.height||t),width:e.width||i};return r};function A(e,t,o,l){function i(e,t){var i,n=new D(e),r=1;for(var s=0;s<t.length;s++){while(e.overlapsOppositeAxis(o,t[s])||e.within(o)&&e.overlapsAny(l)){e.move(t[s])}if(e.within(o)){return e}var a=e.intersectPercentage(o);if(r>a){i=new D(e);r=a}e=new D(n)}return i||n}var n=new D(t),r=t.cue,s=P(r),a=[];if(r.snapToLines){var h;switch(r.vertical){case"":a=["+y","-y"];h="height";break;case"rl":a=["+x","-x"];h="width";break;case"lr":a=["-x","+x"];h="width";break}var c=n.lineHeight,u=c*Math.round(s),d=o[h]+c,f=a[0];if(Math.abs(u)>d){u=u<0?-1:1;u*=Math.ceil(d/c)*c}if(s<0){u+=r.vertical===""?o.height:o.width;a=a.reverse()}n.move(f,u)}else{var p=n.lineHeight/o.height*100;switch(r.lineAlign){case"middle":s-=p/2;break;case"end":s-=p;break}switch(r.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")});break}a=["+y","-x","+x","-y"];n=new D(t)}var g=i(n,a);t.move(g.toCSSCompatValues(o))}function r(){}r.StringDecoder=function(){return{decode:function(e){if(!e){return""}if(typeof e!=="string"){throw new Error("Error - expected string data.")}return decodeURIComponent(encodeURIComponent(e))}}};r.convertCueToDOMTree=function(e,t){if(!e||!t){return null}return C(e,t)};var T=.05;var E="sans-serif";var x="1.5%";r.processCues=function(n,r,e){if(!n||!r||!e){return null}while(e.firstChild){e.removeChild(e.firstChild)}var s=n.document.createElement("div");s.style.position="absolute";s.style.left="0";s.style.right="0";s.style.top="0";s.style.bottom="0";s.style.margin=x;e.appendChild(s);function t(e){for(var t=0;t<e.length;t++){if(e[t].hasBeenReset||!e[t].displayState){return true}}return false}if(!t(r)){for(var i=0;i<r.length;i++){s.appendChild(r[i].displayState)}return}var a=[],o=D.getSimpleBoxPosition(s),l=Math.round(o.height*T*100)/100;var h={font:l*u+"px "+E};(function(){var e,t;for(var i=0;i<r.length;i++){t=r[i];e=new I(n,t,h);s.appendChild(e.div);A(n,e,o,a);t.displayState=e.div;a.push(D.getSimpleBoxPosition(e))}})()};r.Parser=function(e,t){this.window=e;this.state="INITIAL";this.buffer="";this.decoder=t||new TextDecoder("utf8");this.regionList=[]};r.Parser.prototype={reportOrThrowError:function(e){if(e instanceof h){this.onparsingerror&&this.onparsingerror(e)}else{throw e}},parse:function(e){var n=this;if(e){n.buffer+=n.decoder.decode(e,{stream:true})}function t(){var e=n.buffer;var t=0;while(t<e.length&&e[t]!=="\r"&&e[t]!=="\n"){++t}var i=e.substr(0,t);if(e[t]==="\r"){++t}if(e[t]==="\n"){++t}n.buffer=e.substr(t);return i}function i(e){var r=new f;g(e,function(e,t){switch(e){case"id":r.set(e,t);break;case"width":r.percent(e,t);break;case"lines":r.integer(e,t);break;case"regionanchor":case"viewportanchor":var i=t.split(",");if(i.length!==2){break}var n=new f;n.percent("x",i[0]);n.percent("y",i[1]);if(!n.has("x")||!n.has("y")){break}r.set(e+"X",n.get("x"));r.set(e+"Y",n.get("y"));break;case"scroll":r.alt(e,t,["up"]);break}},/=/,/\s/);if(r.has("id")){var t=new n.window.VTTRegion;t.width=r.get("width",100);t.lines=r.get("lines",3);t.regionAnchorX=r.get("regionanchorX",0);t.regionAnchorY=r.get("regionanchorY",100);t.viewportAnchorX=r.get("viewportanchorX",0);t.viewportAnchorY=r.get("viewportanchorY",100);t.scroll=r.get("scroll","");n.onregion&&n.onregion(t);n.regionList.push({id:r.get("id"),region:t})}}function r(e){g(e,function(e,t){switch(e){case"Region":i(t);break}},/:/)}try{var s;if(n.state==="INITIAL"){if(!/\r\n|\n/.test(n.buffer)){return this}s=t();var a=s.match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0]){throw new h(h.Errors.BadSignature)}n.state="HEADER"}var o=false;while(n.buffer){if(!/\r\n|\n/.test(n.buffer)){return this}if(!o){s=t()}else{o=false}switch(n.state){case"HEADER":if(/:/.test(s)){r(s)}else if(!s){n.state="ID"}continue;case"NOTE":if(!s){n.state="ID"}continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){n.state="NOTE";break}if(!s){continue}n.cue=new n.window.VTTCue(0,0,"");n.state="CUE";if(s.indexOf("--\x3e")===-1){n.cue.id=s;continue}case"CUE":try{m(s,n.cue,n.regionList)}catch(e){n.reportOrThrowError(e);n.cue=null;n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var l=s.indexOf("--\x3e")!==-1;if(!s||l&&(o=true)){n.oncue&&n.oncue(n.cue);n.cue=null;n.state="ID";continue}if(n.cue.text){n.cue.text+="\n"}n.cue.text+=s;continue;case"BADCUE":if(!s){n.state="ID"}continue}}}catch(e){n.reportOrThrowError(e);if(n.state==="CUETEXT"&&n.cue&&n.oncue){n.oncue(n.cue)}n.cue=null;n.state=n.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{t.buffer+=t.decoder.decode();if(t.cue||t.state==="HEADER"){t.buffer+="\n\n";t.parse()}if(t.state==="INITIAL"){throw new h(h.Errors.BadSignature)}}catch(e){t.reportOrThrowError(e)}t.onflush&&t.onflush();return this}};e.WebVTT=r})(window.EnsembleVideo);if(typeof module!=="undefined"&&module.exports){this["encoding-indexes"]=require("./encoding-indexes.js")["encoding-indexes"]}(function(t){"use strict";function u(e,t,i){return t<=e&&e<=i}function d(e,t){return Math.floor(e/t)}var f=-1;var p=-1;function l(i){var n=0;this.get=function(){return n>=i.length?f:Number(i[n])};this.offset=function(e){n+=e;if(n<0){throw new Error("Seeking past start of the buffer")}if(n>i.length){throw new Error("Seeking past EOF")}};this.match=function(e){if(e.length>n+i.length){return false}var t;for(t=0;t<e.length;t+=1){if(Number(i[n+t])!==e[t]){return false}}return true}}function o(n){var r=0;this.emit=function(e){var t=f;var i;for(i=0;i<arguments.length;++i){t=Number(arguments[i]);n[r++]=t}return t}}function h(e){function t(e){var t=[];var i=0,n=e.length;while(i<e.length){var r=e.charCodeAt(i);if(!u(r,55296,57343)){t.push(r)}else if(u(r,56320,57343)){t.push(65533)}else{if(i===n-1){t.push(65533)}else{var s=e.charCodeAt(i+1);if(u(s,56320,57343)){var a=r&1023;var o=s&1023;i+=1;t.push(65536+(a<<10)+o)}else{t.push(65533)}}}i+=1}return t}var i=0;var n=t(e);this.offset=function(e){i+=e;if(i<0){throw new Error("Seeking past start of the buffer")}if(i>n.length){throw new Error("Seeking past EOF")}};this.get=function(){if(i>=n.length){return p}return n[i]}}function c(){var t="";this.string=function(){return t};this.emit=function(e){if(e<=65535){t+=String.fromCharCode(e)}else{e-=65536;t+=String.fromCharCode(55296+(e>>10&1023));t+=String.fromCharCode(56320+(e&1023))}}}function i(e){this.name="EncodingError";this.message=e;this.code=0}i.prototype=Error.prototype;function g(e,t){if(e){throw new i("Decoder error")}return t||65533}function m(e){throw new i("The code point "+e+" could not be encoded.")}function r(e){e=String(e).trim().toLowerCase();if(Object.prototype.hasOwnProperty.call(s,e)){return s[e]}return null}var e=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"utf-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"ibm866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"iso-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"iso-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"iso-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"iso-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"iso-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"iso-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"iso-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"iso-8859-8-i"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"iso-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"iso-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"iso-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"iso-8859-15"},{labels:["iso-8859-16"],name:"iso-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"koi8-r"},{labels:["koi8-u"],name:"koi8-u"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb18030","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"gb18030"},{labels:["hz-gb-2312"],name:"hz-gb-2312"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"euc-jp"},{labels:["csiso2022jp","iso-2022-jp"],name:"iso-2022-jp"},{labels:["csshiftjis","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"shift_jis"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"euc-kr"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"utf-16be"},{labels:["utf-16","utf-16le"],name:"utf-16le"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}];var n={};var s={};e.forEach(function(e){e["encodings"].forEach(function(t){n[t["name"]]=t;t["labels"].forEach(function(e){s[e]=t})})});function v(e,t){if(!t)return null;return t[e]||null}function b(e,t){var i=t.indexOf(e);return i===-1?null:i}function y(e){if(!("encoding-indexes"in t))throw new Error("Indexes missing. Did you forget to include encoding-indexes.js?");return t["encoding-indexes"][e]}function w(e){if(e>39419&&e<189e3||e>1237575){return null}var t=0,i=0,n=y("gb18030");var r;for(r=0;r<n.length;++r){var s=n[r];if(s[0]<=e){t=s[0];i=s[1]}else{break}}return i+e-t}function C(e){var t=0,i=0,n=y("gb18030");var r;for(r=0;r<n.length;++r){var s=n[r];if(s[1]<=e){t=s[1];i=s[0]}else{break}}return i+e-t}var a="utf-8";function S(e,t){if(!(this instanceof S)){return new S(e,t)}e=e?String(e):a;t=Object(t);this._encoding=r(e);if(this._encoding===null||this._encoding.name==="replacement")throw new TypeError("Unknown encoding: "+e);if(!this._encoding.getDecoder)throw new Error("Decoder not present. Did you forget to include encoding-indexes.js?");this._streaming=false;this._BOMseen=false;this._decoder=null;this._options={fatal:Boolean(t.fatal)};if(Object.defineProperty){Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}})}else{this.encoding=this._encoding.name}return this}S.prototype={decode:function e(t,i){if(t&&!("buffer"in t&&"byteOffset"in t&&"byteLength"in t)){throw new TypeError("Expected ArrayBufferView")}else if(!t){t=new Uint8Array(0)}i=Object(i);if(!this._streaming){this._decoder=this._encoding.getDecoder(this._options);this._BOMseen=false}this._streaming=Boolean(i.stream);var n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);var r=new l(n);var s=new c;var a;while(r.get()!==f){a=this._decoder.decode(r);if(a!==null&&a!==p){s.emit(a)}}if(!this._streaming){do{a=this._decoder.decode(r);if(a!==null&&a!==p){s.emit(a)}}while(a!==p&&r.get()!=f);this._decoder=null}var o=s.string();if(!this._BOMseen&&o.length){this._BOMseen=true;if(["utf-8","utf-16le","utf-16be"].indexOf(this.encoding)!==-1&&o.charCodeAt(0)===65279){o=o.substring(1)}}return o}};function P(e,t){if(!(this instanceof P)){return new P(e,t)}e=e?String(e):a;t=Object(t);this._encoding=r(e);var i=t.NONSTANDARD_allowLegacyEncoding;var n=this._encoding.name!=="utf-8"&&this._encoding.name!=="utf-16le"&&this._encoding.name!=="utf-16be";if(this._encoding===null||n&&!i)throw new TypeError("Unknown encoding: "+e);if(!this._encoding.getEncoder)throw new Error("Encoder not present. Did you forget to include encoding-indexes.js?");this._streaming=false;this._encoder=null;this._options={fatal:Boolean(t.fatal)};if(Object.defineProperty){Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}})}else{this.encoding=this._encoding.name}return this}P.prototype={encode:function e(t,i){t=t?String(t):"";i=Object(i);if(!this._streaming){this._encoder=this._encoding.getEncoder(this._options)}this._streaming=Boolean(i.stream);var n=[];var r=new o(n);var s=new h(t);while(s.get()!==p){this._encoder.encode(r,s)}if(!this._streaming){var a;do{a=this._encoder.encode(r,s)}while(a!==f);this._encoder=null}return new Uint8Array(n)}};function k(e){var r=e.fatal;var s=0,a=0,o=0,l=0;this.decode=function(e){var t=e.get();if(t===f){if(a!==0){return g(r)}return p}e.offset(1);if(a===0){if(u(t,0,127)){return t}if(u(t,194,223)){a=1;l=128;s=t-192}else if(u(t,224,239)){a=2;l=2048;s=t-224}else if(u(t,240,244)){a=3;l=65536;s=t-240}else{return g(r)}s=s*Math.pow(64,a);return null}if(!u(t,128,191)){s=0;a=0;o=0;l=0;e.offset(-1);return g(r)}o+=1;s=s+(t-128)*Math.pow(64,a-o);if(o!==a){return null}var i=s;var n=l;s=0;a=0;o=0;l=0;if(u(i,n,1114111)&&!u(i,55296,57343)){return i}return g(r)}}function I(e){var t=e.fatal;this.encode=function(e,t){var i=t.get();if(i===p){return f}t.offset(1);if(u(i,55296,57343)){return m(i)}if(u(i,0,127)){return e.emit(i)}var n,r;if(u(i,128,2047)){n=1;r=192}else if(u(i,2048,65535)){n=2;r=224}else if(u(i,65536,1114111)){n=3;r=240}var s=e.emit(d(i,Math.pow(64,n))+r);while(n>0){var a=d(i,Math.pow(64,n-1));s=e.emit(128+a%64);n-=1}return s}}n["utf-8"].getEncoder=function(e){return new I(e)};n["utf-8"].getDecoder=function(e){return new k(e)};function D(n,e){var r=e.fatal;this.decode=function(e){var t=e.get();if(t===f){return p}e.offset(1);if(u(t,0,127)){return t}var i=n[t-128];if(i===null){return g(r)}return i}}function A(r,e){var t=e.fatal;this.encode=function(e,t){var i=t.get();if(i===p){return f}t.offset(1);if(u(i,0,127)){return e.emit(i)}var n=b(i,r);if(n===null){m(i)}return e.emit(n+128)}}(function(){if(!("encoding-indexes"in t))return;e.forEach(function(e){if(e["heading"]!=="Legacy single-byte encodings")return;e["encodings"].forEach(function(e){var t=y(e["name"]);e.getDecoder=function(e){return new D(t,e)};e.getEncoder=function(e){return new A(t,e)}})})})();function T(e){var a=e.fatal;var o=0,l=0,h=0;this.decode=function(e){var t=e.get();if(t===f&&o===0&&l===0&&h===0){return p}if(t===f&&(o!==0||l!==0||h!==0)){o=0;l=0;h=0;g(a)}e.offset(1);var i;if(h!==0){i=null;if(u(t,48,57)){i=w((((o-129)*10+(l-48))*126+(h-129))*10+t-48)}o=0;l=0;h=0;if(i===null){e.offset(-3);return g(a)}return i}if(l!==0){if(u(t,129,254)){h=t;return null}e.offset(-2);o=0;l=0;return g(a)}if(o!==0){if(u(t,48,57)){l=t;return null}var n=o;var r=null;o=0;var s=t<127?64:65;if(u(t,64,126)||u(t,128,254)){r=(n-129)*190+(t-s)}i=r===null?null:v(r,y("gb18030"));if(r===null){e.offset(-1)}if(i===null){return g(a)}return i}if(u(t,0,127)){return t}if(t===128){return 8364}if(u(t,129,254)){o=t;return null}return g(a)}}function E(e){var t=e.fatal;this.encode=function(e,t){var i=t.get();if(i===p){return f}t.offset(1);if(u(i,0,127)){return e.emit(i)}var n=b(i,y("gb18030"));if(n!==null){var r=d(n,190)+129;var s=n%190;var a=s<63?64:65;return e.emit(r,s+a)}n=C(i);var o=d(d(d(n,10),126),10);n=n-o*10*126*10;var l=d(d(n,10),126);n=n-l*10*126;var h=d(n,10);var c=n-h*10;return e.emit(o+129,l+48,h+129,c+48)}}n["gb18030"].getEncoder=function(e){return new E(e)};n["gb18030"].getDecoder=function(e){return new T(e)};function x(e){var r=e.fatal;var s=false,a=0;this.decode=function(e){var t=e.get();if(t===f&&a===0){return p}if(t===f&&a!==0){a=0;return g(r)}e.offset(1);if(a===126){a=0;if(t===123){s=true;return null}if(t===125){s=false;return null}if(t===126){return 126}if(t===10){return null}e.offset(-1);return g(r)}if(a!==0){var i=a;a=0;var n=null;if(u(t,33,126)){n=v((i-1)*190+(t+63),y("gb18030"))}if(t===10){s=false}if(n===null){return g(r)}return n}if(t===126){a=126;return null}if(s){if(u(t,32,127)){a=t;return null}if(t===10){s=false}return g(r)}if(u(t,0,127)){return t}return g(r)}}function V(e){var t=e.fatal;var a=false;this.encode=function(e,t){var i=t.get();if(i===p){return f}t.offset(1);if(u(i,0,127)&&a){t.offset(-1);a=false;return e.emit(126,125)}if(i===126){return e.emit(126,126)}if(u(i,0,127)){return e.emit(i)}if(!a){t.offset(-1);a=true;return e.emit(126,123)}var n=b(i,y("gb18030"));if(n===null){return m(i)}var r=d(n,190)+1;var s=n%190-63;if(!u(r,33,126)||!u(s,33,126)){return m(i)}return e.emit(r,s)}}n["hz-gb-2312"].getEncoder=function(e){return new V(e)};n["hz-gb-2312"].getDecoder=function(e){return new x(e)};function W(e){var o=e.fatal;var l=0,h=null;this.decode=function(e){if(h!==null){var t=h;h=null;return t}var i=e.get();if(i===f&&l===0){return p}if(i===f&&l!==0){l=0;return g(o)}e.offset(1);if(l!==0){var n=l;var r=null;l=0;var s=i<127?64:98;if(u(i,64,126)||u(i,161,254)){r=(n-129)*157+(i-s)}if(r===1133){h=772;return 202}if(r===1135){h=780;return 202}if(r===1164){h=772;return 234}if(r===1166){h=780;return 234}var a=r===null?null:v(r,y("big5"));if(r===null){e.offset(-1)}if(a===null){return g(o)}return a}if(u(i,0,127)){return i}if(u(i,129,254)){l=i;return null}return g(o)}}function M(e){var t=e.fatal;this.encode=function(e,t){var i=t.get();if(i===p){return f}t.offset(1);if(u(i,0,127)){return e.emit(i)}var n=b(i,y("big5"));if(n===null){return m(i)}var r=d(n,157)+129;var s=n%157;var a=s<63?64:98;return e.emit(r,s+a)}}n["big5"].getEncoder=function(e){return new M(e)};n["big5"].getDecoder=function(e){return new W(e)};function L(e){var r=e.fatal;var s=0,a=0;this.decode=function(e){var t=e.get();if(t===f){if(s===0&&a===0){return p}s=0;a=0;return g(r)}e.offset(1);var i,n;if(a!==0){i=a;a=0;n=null;if(u(i,161,254)&&u(t,161,254)){n=v((i-161)*94+t-161,y("jis0212"))}if(!u(t,161,254)){e.offset(-1)}if(n===null){return g(r)}return n}if(s===142&&u(t,161,223)){s=0;return 65377+t-161}if(s===143&&u(t,161,254)){s=0;a=t;return null}if(s!==0){i=s;s=0;n=null;if(u(i,161,254)&&u(t,161,254)){n=v((i-161)*94+t-161,y("jis0208"))}if(!u(t,161,254)){e.offset(-1)}if(n===null){return g(r)}return n}if(u(t,0,127)){return t}if(t===142||t===143||u(t,161,254)){s=t;return null}return g(r)}}function O(e){var t=e.fatal;this.encode=function(e,t){var i=t.get();if(i===p){return f}t.offset(1);if(u(i,0,127)){return e.emit(i)}if(i===165){return e.emit(92)}if(i===8254){return e.emit(126)}if(u(i,65377,65439)){return e.emit(142,i-65377+161)}var n=b(i,y("jis0208"));if(n===null){return m(i)}var r=d(n,94)+161;var s=n%94+161;return e.emit(r,s)}}n["euc-jp"].getEncoder=function(e){return new O(e)};n["euc-jp"].getDecoder=function(e){return new L(e)};function B(e){var s=e.fatal;var a={ASCII:0,escape_start:1,escape_middle:2,escape_final:3,lead:4,trail:5,Katakana:6};var o=a.ASCII,l=false,h=0;this.decode=function(e){var t=e.get();if(t!==f){e.offset(1)}switch(o){default:case a.ASCII:if(t===27){o=a.escape_start;return null}if(u(t,0,127)){return t}if(t===f){return p}return g(s);case a.escape_start:if(t===36||t===40){h=t;o=a.escape_middle;return null}if(t!==f){e.offset(-1)}o=a.ASCII;return g(s);case a.escape_middle:var i=h;h=0;if(i===36&&(t===64||t===66)){l=false;o=a.lead;return null}if(i===36&&t===40){o=a.escape_final;return null}if(i===40&&(t===66||t===74)){o=a.ASCII;return null}if(i===40&&t===73){o=a.Katakana;return null}if(t===f){e.offset(-1)}else{e.offset(-2)}o=a.ASCII;return g(s);case a.escape_final:if(t===68){l=true;o=a.lead;return null}if(t===f){e.offset(-2)}else{e.offset(-3)}o=a.ASCII;return g(s);case a.lead:if(t===10){o=a.ASCII;return g(s,10)}if(t===27){o=a.escape_start;return null}if(t===f){return p}h=t;o=a.trail;return null;case a.trail:o=a.lead;if(t===f){return g(s)}var n=null;var r=(h-33)*94+t-33;if(u(h,33,126)&&u(t,33,126)){n=l===false?v(r,y("jis0208")):v(r,y("jis0212"))}if(n===null){return g(s)}return n;case a.Katakana:if(t===27){o=a.escape_start;return null}if(u(t,33,95)){return 65377+t-33}if(t===f){return p}return g(s)}}}function _(e){var t=e.fatal;var a={ASCII:0,lead:1,Katakana:2};var o=a.ASCII;this.encode=function(e,t){var i=t.get();if(i===p){return f}t.offset(1);if((u(i,0,127)||i===165||i===8254)&&o!==a.ASCII){t.offset(-1);o=a.ASCII;return e.emit(27,40,66)}if(u(i,0,127)){return e.emit(i)}if(i===165){return e.emit(92)}if(i===8254){return e.emit(126)}if(u(i,65377,65439)&&o!==a.Katakana){t.offset(-1);o=a.Katakana;return e.emit(27,40,73)}if(u(i,65377,65439)){return e.emit(i-65377-33)}if(o!==a.lead){t.offset(-1);o=a.lead;return e.emit(27,36,66)}var n=b(i,y("jis0208"));if(n===null){return m(i)}var r=d(n,94)+33;var s=n%94+33;return e.emit(r,s)}}n["iso-2022-jp"].getEncoder=function(e){return new _(e)};n["iso-2022-jp"].getDecoder=function(e){return new B(e)};function R(e){var a=e.fatal;var o=0;this.decode=function(e){var t=e.get();if(t===f&&o===0){return p}if(t===f&&o!==0){o=0;return g(a)}e.offset(1);if(o!==0){var i=o;o=0;if(u(t,64,126)||u(t,128,252)){var n=t<127?64:65;var r=i<160?129:193;var s=v((i-r)*188+t-n,y("jis0208"));if(s===null){return g(a)}return s}e.offset(-1);return g(a)}if(u(t,0,128)){return t}if(u(t,161,223)){return 65377+t-161}if(u(t,129,159)||u(t,224,252)){o=t;return null}return g(a)}}function j(e){var t=e.fatal;this.encode=function(e,t){var i=t.get();if(i===p){return f}t.offset(1);if(u(i,0,128)){return e.emit(i)}if(i===165){return e.emit(92)}if(i===8254){return e.emit(126)}if(u(i,65377,65439)){return e.emit(i-65377+161)}var n=b(i,y("jis0208"));if(n===null){return m(i)}var r=d(n,188);var s=r<31?129:193;var a=n%188;var o=a<63?64:65;return e.emit(r+s,a+o)}}n["shift_jis"].getEncoder=function(e){return new j(e)};n["shift_jis"].getDecoder=function(e){return new R(e)};function F(e){var a=e.fatal;var o=0;this.decode=function(e){var t=e.get();if(t===f&&o===0){return p}if(t===f&&o!==0){o=0;return g(a)}e.offset(1);if(o!==0){var i=o;var n=null;o=0;if(u(i,129,198)){var r=(26+26+126)*(i-129);if(u(t,65,90)){n=r+t-65}else if(u(t,97,122)){n=r+26+t-97}else if(u(t,129,254)){n=r+26+26+t-129}}if(u(i,199,253)&&u(t,161,254)){n=(26+26+126)*(199-129)+(i-199)*94+(t-161)}var s=n===null?null:v(n,y("euc-kr"));if(n===null){e.offset(-1)}if(s===null){return g(a)}return s}if(u(t,0,127)){return t}if(u(t,129,253)){o=t;return null}return g(a)}}function H(e){var t=e.fatal;this.encode=function(e,t){var i=t.get();if(i===p){return f}t.offset(1);if(u(i,0,127)){return e.emit(i)}var n=b(i,y("euc-kr"));if(n===null){return m(i)}var r,s;if(n<(26+26+126)*(199-129)){r=d(n,26+26+126)+129;s=n%(26+26+126);var a=s<26?65:s<26+26?71:77;return e.emit(r,s+a)}n=n-(26+26+126)*(199-129);r=d(n,94)+199;s=n%94+161;return e.emit(r,s)}}n["euc-kr"].getEncoder=function(e){return new H(e)};n["euc-kr"].getDecoder=function(e){return new F(e)};function z(r,e){var s=e.fatal;var a=null,o=null;this.decode=function(e){var t=e.get();if(t===f&&a===null&&o===null){return p}if(t===f&&(a!==null||o!==null)){return g(s)}e.offset(1);if(a===null){a=t;return null}var i;if(r){i=(a<<8)+t}else{i=(t<<8)+a}a=null;if(o!==null){var n=o;o=null;if(u(i,56320,57343)){return 65536+(n-55296)*1024+(i-56320)}e.offset(-2);return g(s)}if(u(i,55296,56319)){o=i;return null}if(u(i,56320,57343)){return g(s)}return i}}function U(a,e){var t=e.fatal;this.encode=function(n,e){function t(e){var t=e>>8;var i=e&255;if(a){return n.emit(t,i)}return n.emit(i,t)}var i=e.get();if(i===p){return f}e.offset(1);if(u(i,55296,57343)){m(i)}if(i<=65535){return t(i)}var r=d(i-65536,1024)+55296;var s=(i-65536)%1024+56320;t(r);return t(s)}}n["utf-16be"].getEncoder=function(e){return new U(true,e)};n["utf-16be"].getDecoder=function(e){return new z(true,e)};n["utf-16le"].getEncoder=function(e){return new U(false,e)};n["utf-16le"].getDecoder=function(e){return new z(false,e)};function N(e){var t=e.fatal;this.decode=function(e){var t=e.get();if(t===f){return p}e.offset(1);if(u(t,0,127)){return t}return 63360+t-128}}function K(e,t){var i=t.fatal;this.encode=function(e,t){var i=t.get();if(i===p){return f}t.offset(1);if(u(i,0,127)){return e.emit(i)}if(u(i,63360,63487)){return e.emit(i-63360+128)}m(i)}}n["x-user-defined"].getEncoder=function(e){return new K(false,e)};n["x-user-defined"].getDecoder=function(e){return new N(false,e)};function J(e,t){if(t.match([255,254])){t.offset(2);return"utf-16le"}if(t.match([254,255])){t.offset(2);return"utf-16be"}if(t.match([239,187,191])){t.offset(3);return"utf-8"}return e}if(!("TextEncoder"in t))t["TextEncoder"]=P;if(!("TextDecoder"in t))t["TextDecoder"]=S})(window.EnsembleVideo)})(window.EnsembleVideo=window.EnsembleVideo||{},e);(function(i){"use strict";window.EnsembleVideo=window.EnsembleVideo||{};window.EnsembleVideo.Reporting=function(e,t){this.plugin=t;this.tokenId=null;this.encodingDuration=t.primaryConfig.encodingDuration;this.shortContentId=e.shortContentId;this.shortPlaylistId=e.shortPlaylistId;this.apiUrl=e.webApiBaseUrl;this.isMobile=e.isMobileDevice;this.reportingPostInterval=e.reportingMobilePostInterval;this.userAgent=navigator.userAgent;this.duration={total:0,previousPositionInt:0};this.isCdnLiveStream=e.isCdnLiveStream;this.viewingContextParams=e.viewingContextParams;this.isContentRestricted=e.isContentRestricted;this.maxSessionsCount=e.maxSessionsCount;this.isPlaybackActive=false;this.sessionsCounterDecreased=false;this.setDurationViewedToZero=false};window.EnsembleVideo.Reporting.prototype={initialize:function(){this.registerPlayerEvents()},registerPlayerEvents:function(){try{var e=this;e.registerPrimaryPlayerEvents(e);e.registerSecondaryPlayerEvents(e);window.addEventListener("pagehide",function(){if(e.beforeUnloadTriggered){return}e.pageHideTriggered=true;e.updateContentPlaybackInfo()},false);window.addEventListener("beforeunload",function(){if(e.pageHideTriggered){return}e.beforeUnloadTriggered=true;e.updateContentPlaybackInfo()},false)}catch(e){console.log(e)}},registerPrimaryPlayerEvents:function(t){this.plugin.primaryPlayerApi.on("firstFrame",function(e){if(!t.plugin.isPrimaryMainPlayer())return;console.log("First frame occurred!");t.handlePlaybackStart(e)});this.plugin.primaryPlayerApi.on("seek",function(e){if(!t.plugin.isPrimaryMainPlayer())return;t.handlePlaybackSeek(e)});this.plugin.primaryPlayerApi.on("pause",function(e){if(!t.plugin.isPrimaryMainPlayer())return;console.log("Pause occurred!");t.handlePlaybackPause(e)});if(this.isContentRestricted){this.plugin.primaryPlayerApi.on("play",function(e){if(!t.plugin.isPrimaryMainPlayer())return;console.log("Play occurred!");t.handlePlaybackPlay(e)})}this.plugin.primaryPlayerApi.on("complete",function(){if(!t.plugin.isPrimaryMainPlayer())return;console.log("Complete occurred!");t.updateContentPlaybackInfo()});this.plugin.primaryPlayerApi.on("time",function(e){if(!t.plugin.isPrimaryMainPlayer())return;t.handleUploadTime(e.position)})},registerSecondaryPlayerEvents:function(t){if(!t.plugin.isDualPlugin)return;this.plugin.secondaryPlayerApi.on("firstFrame",function(e){if(t.plugin.isPrimaryMainPlayer())return;console.log("First frame occurred!");t.handlePlaybackStart(e)});this.plugin.secondaryPlayerApi.on("seek",function(e){if(t.plugin.isPrimaryMainPlayer())return;t.handlePlaybackSeek(e)});this.plugin.secondaryPlayerApi.on("pause",function(e){if(t.plugin.isPrimaryMainPlayer())return;console.log("Pause occurred!");t.handlePlaybackPause(e)});if(this.isContentRestricted){this.plugin.secondaryPlayerApi.on("play",function(e){if(t.plugin.isPrimaryMainPlayer())return;console.log("Play occurred!");t.handlePlaybackPlay(e)})}this.plugin.secondaryPlayerApi.on("complete",function(){if(t.plugin.isPrimaryMainPlayer())return;console.log("Complete occurred!");t.updateContentPlaybackInfo()});this.plugin.secondaryPlayerApi.on("time",function(e){if(t.plugin.isPrimaryMainPlayer())return;t.handleUploadTime(e.position)})},handlePlaybackStart:function(e){this.pageHideTriggered=false;this.beforeUnloadTriggered=false;this.isPlaybackActive=true;var t=this;i.ajax({cache:false,type:"post",data:{ShortContentId:this.shortContentId,ShortPlaylistId:this.shortPlaylistId,TokenId:this.tokenId,DurationViewed:this.duration.total,UserAgent:this.userAgent,Duration:this.encodingDuration===0?this.plugin.getMainPlayerApi().getDuration():this.encodingDuration,IsCdnLiveStream:this.isCdnLiveStream,IsMobile:this.isMobile,ViewingContextParams:this.viewingContextParams,isContentRestricted:this.isContentRestricted},url:this.apiUrl+"/player/InitializeReportingInfo",success:function(e){if(e.tokenId!=="0"){t.tokenId=e.tokenId}if(t.isContentRestricted&&e.currentSessionCount>=t.maxSessionsCount){t.setDurationViewedToZero=true;window.location.reload()}}})},handlePlaybackPause:function(e){if(!this.isContentRestricted)return;this.isPlaybackActive=false;var t=this;setTimeout(function(){if(t.isPlaybackActive)return;i.ajax({cache:false,type:"get",async:true,global:false,url:t.apiUrl+"/player/HandleSessionsCount",data:{contentId:t.shortContentId,increaseCount:false},success:function(e){if(e.success){t.sessionsCounterDecreased=true}}})},3e4)},handlePlaybackPlay:function(e){this.isPlaybackActive=true;if(!this.isContentRestricted||!this.sessionsCounterDecreased)return;var t=this;i.ajax({cache:false,type:"get",async:true,global:false,url:this.apiUrl+"/player/HandleSessionsCount",data:{contentId:this.shortContentId,increaseCount:true},success:function(e){if(!e.success||e.currentSessionsCount>t.maxSessionsCount){window.location.reload()}else{t.sessionsCounterDecreased=false}},error:function(){window.location.reload()}})},handlePlaybackSeek:function(e){this.duration.previousPositionInt=Math.floor(e.position)},updateContentPlaybackInfo:function(){this.isPlaybackActive=false;if(this.duration.total===0){return}var e=this.duration.total;this.duration.total=0;this.duration.previousPositionInt=0;var t=this.setDurationViewedToZero?0:this.encodingDuration>0&&e>this.encodingDuration?this.encodingDuration:e;var i=this.apiUrl+"player/UpdateContentPlaybackInfo";if(navigator.sendBeacon){var n="ShortContentId="+this.shortContentId+"&TokenId="+this.tokenId+"&DurationViewed="+t+"&IsMobile="+this.isMobile;var r=new Blob([n],{type:"application/x-www-form-urlencoded"});var s=navigator.sendBeacon(i,r);console.log("sendBeacon: URL = ",i,"; data = ",n,"; status = ",s)}else{this.postData({apiUrl:i,runAjaxGlobalEvents:false,asyncRequest:false,parameters:{ShortContentId:this.shortContentId,TokenId:this.tokenId,DurationViewed:t,IsMobile:this.isMobile}})}},handleUploadTime:function(e){var t=Math.floor(e);if(t===this.duration.previousPositionInt){return}this.duration.previousPositionInt=t;this.duration.total+=1;if(this.isMobile&&this.reportingPostInterval>0&&this.duration.total%this.reportingPostInterval===0){i.ajax({cache:false,type:"get",async:true,global:false,data:{TokenId:this.tokenId,DurationViewed:this.encodingDuration>0&&this.duration.total>this.encodingDuration?this.encodingDuration:this.duration.total},url:this.apiUrl+"/player/UpdateDuration"})}},postData:function(e){i.ajax({cache:false,type:"post",async:e.asyncRequest,global:false,data:e.parameters,url:this.apiUrl+"/player/UpdateContentPlaybackInfo"})}}})(e);(function(o){"use strict";window.EnsembleVideo=window.EnsembleVideo||{};window.EnsembleVideo.EmbedCode=function(e){this.shortContentId=e};window.EnsembleVideo.EmbedCode.prototype={initialize:function(){this.embedCodeWithIFrameContainerId="#embedCodeWithIFrameCodeContainer";this.embedCodeWithIFrameCodeTemplate="#embedCodeWithIFrameCodeTemplate";this.embedCodeWithJavaScriptContainerId="#embedCodeWithJavaScriptCodeContainer";this.embedCodeWithJavaScriptCodeTemplate="#embedCodeWithJavaScriptCodeTemplate";this.embedCodeWithResponsiveIFrameContainerId="#embedCodeWithResponsiveIFrameCodeContainer";this.embedCodeWithResponsiveIFrameCodeTemplate="#embedCodeWithResponsiveIFrameCodeTemplate";this.embedCodeWithResponsiveJavaScriptContainerId="#embedCodeWithResponsiveJavaScriptCodeContainer";this.embedCodeWithResponsiveJavaScriptCodeTemplate="#embedCodeWithResponsiveJavaScriptCodeTemplate";this.embedSize="#embedSize";this.displayTitle=o("#embedWithWithoutTitle").prop("checked");this.showCaptions=o("#embedWithWithoutCaptions").prop("checked");this.displaySharing=o("#embedWithWithoutSharing").prop("checked");this.annotations=o("#embedWithWithoutAnnotations").prop("checked");this.downloadLink=o("#embedWithWithoutDownloadLink").prop("checked");this.metaData=o("#embedWithWithoutMetaData").prop("checked");this.credits=o("#embedWithWithoutMetaData").prop("checked");this.links=o("#embedWithWithoutLinks").prop("checked");this.embedCode=o("#embedWithWithoutEmbedCode").prop("checked");this.attachments=o("#embedWithWithoutAttachments").prop("checked");this.ads=o("#embedWithWithoutAds").prop("checked");this.captionSearch=o("#embedWithWithoutCaptionSearch").prop("checked");this.embedAsThumbnail=o("#embedWithWithoutEmbedAsThumbnail").prop("checked");this.viewersReport=o("#embedWithWithoutViewersReport").prop("checked");this.autoPlay=o("#embedWithWithoutAutoPlay").prop("checked");this.audioPreviewImage=o("#embedWithWithoutAudioPreviewImage").prop("checked");this.hideControls=false;this.width=o("#videoWidth").val();this.originalWidth=this.width;this.height=o("#videoHeight").val();this.originalHeight=this.height;this.javaScriptEmbedCodeTemplateWithNewOptions="#javaScriptEmbedCodeTemplateWithNewOptions";this.iFrameEmbedCodeTemplateWithNewOptions="#iFrameEmbedCodeTemplateWithNewOptions";this.iFrameResponsiveEmbedCodeTemplate="#iFrameResponsiveEmbedCodeTemplate";this.audioIFrameResponsiveEmbedCodeTemplate="#audioIFrameResponsiveEmbedCodeTemplate";this.javaScriptResponsiveEmbedCodeTemplate="#javaScriptResponsiveEmbedCodeTemplate";this.audioJavaScriptResponsiveEmbedCodeTemplate="#audioJavaScriptResponsiveEmbedCodeTemplate";this.isYouTubeContent=o("#isYouTubeContent").val()==="True";this.isInitialLoad=true;this.isAudio=o("#isAudioContent").val()==="True";this.handleEmbed();this.createEmbedCode()},handleEmbed:function(){var t=this;o("#embedMode").on("change",function(e){if(o(this).val()==="iFrameResponsive"){o(t.embedCodeWithIFrameContainerId).hide();o(t.embedCodeWithJavaScriptContainerId).hide();o(t.embedCodeWithResponsiveIFrameContainerId).show();o(t.embedCodeWithResponsiveJavaScriptContainerId).hide();o(t.embedSize).prop("disabled",true);t.hideUseIFrameContainer();t.disableEmbedModeAndHideCustomSizeOption();t.createEmbedCode()}else if(o(this).val()==="iFrame"){o(t.embedCodeWithIFrameContainerId).show();o(t.embedCodeWithJavaScriptContainerId).hide();o(t.embedCodeWithResponsiveIFrameContainerId).hide();o(t.embedCodeWithResponsiveJavaScriptContainerId).hide();o(t.embedSize).prop("disabled",false);t.hideUseIFrameContainer();t.createEmbedCode()}else if(o(this).val()==="JavaScriptResponsive"){o(t.embedCodeWithIFrameContainerId).hide();o(t.embedCodeWithJavaScriptContainerId).hide();o(t.embedCodeWithResponsiveIFrameContainerId).hide();o(t.embedCodeWithResponsiveJavaScriptContainerId).show();o(t.embedSize).prop("disabled",true);t.showUseIFrameContainer();t.disableEmbedModeAndHideCustomSizeOption();t.createEmbedCode()}else{o(t.embedCodeWithIFrameContainerId).hide();o(t.embedCodeWithJavaScriptContainerId).show();o(t.embedCodeWithResponsiveIFrameContainerId).hide();o(t.embedCodeWithResponsiveJavaScriptContainerId).hide();o(t.embedSize).prop("disabled",false);t.showUseIFrameContainer();t.createEmbedCode()}});o("#embedSizeCustomButton").on("click",function(){t.customSize=o("#embedSizeCustom").val();if(t.customSize.match(/\d+x\d+/im)){t.width=t.customSize.split("x")[0];t.height=t.customSize.split("x")[1];t.createCustomSizeEmbeddedCode(false,true)}});o(t.embedSize).on("change",function(){t.customSize=o(this).val();t.createCustomSizeEmbeddedCode(true,false);if(t.customSize==="original"){t.width=t.originalWidth;t.height=t.originalHeight;t.createCustomSizeEmbeddedCode(true,true)}else if(t.customSize.match(/\d+x\d+/im)){t.width=t.customSize.split("x")[0];t.height=t.customSize.split("x")[1];t.createCustomSizeEmbeddedCode(true,true)}});o("#embedWithWithoutTitle").on("click",function(){t.displayTitle=o(this).prop("checked");t.createEmbedCode()});o("#embedWithWithoutCaptions").on("click",function(){t.showCaptions=o(this).prop("checked");t.createEmbedCode()});o("#embedWithWithoutSharing").on("click",function(){t.displaySharing=o(this).prop("checked");t.createEmbedCode()});o("#embedWithWithoutAnnotations").on("click",function(){t.annotations=o(this).prop("checked");t.createEmbedCode()});o("#embedWithWithoutDownloadLink").on("click",function(){t.downloadLink=o(this).prop("checked");t.createEmbedCode()});o("#embedWithWithoutMetaData").on("click",function(){t.metaData=o(this).prop("checked");t.credits=o(this).prop("checked");t.createEmbedCode()});o("#embedWithWithoutLinks").on("click",function(){t.links=o(this).prop("checked");t.createEmbedCode()});o("#embedWithWithoutAutoPlay").on("click",function(){t.autoPlay=o(this).prop("checked");t.createEmbedCode()});o("#embedWithWithoutEmbedCode").on("click",function(){t.embedCode=o(this).prop("checked");t.createEmbedCode()});o("#embedWithWithoutAds").on("click",function(){t.ads=o(this).prop("checked");if(t.isAudio&&t.ads&&o("#embedWithWithoutAudioPreviewImage").length>0){o("#embedWithWithoutAudioPreviewImage").prop("checked",true);t.audioPreviewImage=true}t.createEmbedCode()});o("#embedWithWithoutAttachments").on("click",function(){t.attachments=o(this).prop("checked");t.createEmbedCode()});o("#embedWithWithoutCaptionSearch").on("click",function(){t.captionSearch=o(this).prop("checked");t.createEmbedCode()});o("#embedWithWithoutEmbedAsThumbnail").on("click",function(){t.embedAsThumbnail=o(this).prop("checked");if(t.embedAsThumbnail&&o("#embedWithWithoutAudioPreviewImage").length>0){o("#embedWithWithoutAudioPreviewImage").prop("checked",true);t.audioPreviewImage=true}t.createEmbedCode()});o("#embedWithWithoutAudioPreviewImage").on("click",function(){t.audioPreviewImage=o(this).prop("checked");if(!t.audioPreviewImage&&o("#embedWithWithoutEmbedAsThumbnail").length>0){o("#embedWithWithoutEmbedAsThumbnail").prop("checked",false);t.embedAsThumbnail=false}if(t.isAudio&&!t.audioPreviewImage&&o("#embedWithWithoutAds").length>0){o("#embedWithWithoutAds").prop("checked",false);t.ads=false}t.createEmbedCode()});o("#embedWithWithoutViewersReport").on("click",function(){t.viewersReport=o(this).prop("checked");t.createEmbedCode()});o("#embedUseIFrameOptionInput").on("click",function(){t.useIFrame=o(this).prop("checked");t.createEmbedCode()})},createCustomSizeEmbeddedCode:function(e,t){if(this.customSize==="custom"){o("#embedSizeCustom").show();o("#embedSizeCustomButton").show()}else{if(e){o("#embedSizeCustom").hide();o("#embedSizeCustomButton").hide()}}if(t)this.createEmbedCode()},hideUseIFrameContainer:function(){if(o("#embedUseIFrameOption"))o("#embedUseIFrameOption").hide()},removeAudioPreviewImageContainer:function(){if(this.isAudio)return;if(o("#embedAudioPreviewImageOption"))o("#embedAudioPreviewImageOption").remove()},disableEmbedModeAndHideCustomSizeOption:function(){o(this.embedSize)[0].selected=true;o(this.embedSize).prop("disabled",true);o("#customSize").hide();this.width=this.originalWidth;this.height=this.originalHeight},showUseIFrameContainer:function(){if(o("#embedUseIFrameOption"))o("#embedUseIFrameOption").show()},getContainerHeight:function(){if(this.isAudio){return this.getAudioHeight()}else{if(this.isOneOfMenuOptionsAreChecked()||this.isExternal){return parseInt(this.height,10)+40}else{return parseInt(this.height,10)}}},isOneOfMenuOptionsAreChecked:function(){var e=false;if(o("#embedWithWithoutSharingJwPlayer"))e=o("#embedWithWithoutSharingJwPlayer").prop("checked");if(e||o("#embedWithWithoutAnnotation")&&o("#embedWithWithoutAnnotation").prop("checked")||o("#embedWithWithoutDownloadLink")&&o("#embedWithWithoutDownloadLink").prop("checked")||o("#embedWithWithoutMetaData").prop("checked")||o("#embedWithWithoutLink").prop("checked")||o("#embedWithWithoutEmbedCode").prop("checked")||o("#embedWithWithoutAds")&&o("#embedWithWithoutAds").prop("checked")||o("#embedWithWithoutAttachments").prop("checked")||o("#embedWithWithoutCaptionSearch").prop("checked")||this.contentHasEncodings){return true}else{return false}},isOneOfMenuOptionsAreCheckedForAudio:function(){var e=false;if(o("#embedWithWithoutSharingJwPlayer"))e=o("#embedWithWithoutSharingJwPlayer").prop("checked");if(e||o("#embedWithWithoutAnnotation")&&o("#embedWithWithoutAnnotation").prop("checked")||o("#embedWithWithoutMetaData").prop("checked")||o("#embedWithWithoutLink").prop("checked")||o("#embedWithWithoutEmbedCode").prop("checked")||o("#embedWithWithoutAds")&&o("#embedWithWithoutAds").prop("checked")||o("#embedWithWithoutAttachments").prop("checked")||o("#embedWithWithoutCaptionSearch").prop("checked")||o("#embedWithWithoutViewersReport").prop("checked")||this.contentHasEncodings){return true}else{return false}},getAudioHeight:function(){if(this.isOneOfMenuOptionsAreCheckedForAudio()){return 155}else if(o("#embedWithWithoutDownloadLink")&&o("#embedWithWithoutDownloadLink").prop("checked")){return 65}else{return 30}},getPaddingTop:function(){if(!this.embedAsThumbnail&&this.isOneOfMenuOptionsAreChecked()){return 40}else{return 0}},removeHideControlsCheckbox:function(){if(o("#embedHideControlsOption")){o("#embedHideControlsOption").remove()}},setDefaultEmbedTemplate:function(){if(!this.isInitialLoad)return;var e=o("#embedMode");if(!e)return;e.val("iFrameResponsive");o(this.embedCodeWithIFrameContainerId).hide();o(this.embedCodeWithResponsiveIFrameContainerId).show();o(this.embedSize).prop("disabled",true)},createEmbedCode:function(e){var t=this.height;var i=this.getContainerHeight();if(this.isAudio&&this.audioPreviewImage){t=i=Math.ceil(this.width*9/16);if(this.isOneOfMenuOptionsAreChecked()){i+=40}}i=i<40?40:i;var n=o(this.iFrameEmbedCodeTemplateWithNewOptions).tmpl({contentID:this.shortContentId,destinationID:"",displayTitle:this.displayTitle,autoPlay:this.autoPlay,startTime:"0",hideControls:this.hideControls,showCaptions:this.showCaptions,displaySharing:this.displaySharing,displayAnnotations:this.annotations,displayAds:this.ads,displayAttachments:this.attachments,displayDownloadIcon:this.downloadLink,displayMetaData:this.metaData,displayCredits:this.credits,displayLinks:this.links,displayEmbedCode:this.embedCode,displayCaptionSearch:this.captionSearch,embedAsThumbnail:this.embedAsThumbnail,displayViewersReport:this.viewersReport,audioPreviewImage:this.audioPreviewImage,width:this.width,height:i,containerWidth:this.width,containerHeight:i});var r=o(this.javaScriptEmbedCodeTemplateWithNewOptions).tmpl({contentID:this.shortContentId,destinationID:"",displayTitle:this.displayTitle,autoPlay:this.autoPlay,startTime:"0",hideControls:this.hideControls,showCaptions:this.showCaptions,displaySharing:this.displaySharing,displayAnnotations:this.annotations,displayAds:this.ads,displayAttachments:this.attachments,displayDownloadIcon:this.downloadLink,displayMetaData:this.metaData,displayCredits:this.credits,displayLinks:this.links,displayEmbedCode:this.embedCode,displayCaptionSearch:this.captionSearch,embedAsThumbnail:this.embedAsThumbnail,displayViewersReport:this.viewersReport,width:this.width,height:i,containerWidth:this.width,containerHeight:i});var s;if(this.isAudio&&!this.audioPreviewImage){s=o(this.audioIFrameResponsiveEmbedCodeTemplate).tmpl({contentID:this.shortContentId,destinationID:"",displayTitle:this.displayTitle,autoPlay:this.autoPlay,startTime:"0",hideControls:this.hideControls,showCaptions:this.showCaptions,displaySharing:this.displaySharing,displayAnnotations:this.annotations,displayAds:this.ads,displayAttachments:this.attachments,displayDownloadIcon:this.downloadLink,displayMetaData:this.metaData,displayCredits:this.credits,displayLinks:this.links,displayEmbedCode:this.embedCode,audioPreviewImage:this.audioPreviewImage,embedAsThumbnail:this.embedAsThumbnail,audioHeight:this.getAudioHeight()})}else{s=o(this.iFrameResponsiveEmbedCodeTemplate).tmpl({contentID:this.shortContentId,destinationID:"",displayTitle:this.displayTitle,autoPlay:this.autoPlay,startTime:"0",hideControls:this.hideControls,showCaptions:this.showCaptions,displaySharing:this.displaySharing,displayAnnotations:this.annotations,displayAds:this.ads,displayAttachments:this.attachments,displayDownloadIcon:this.downloadLink,displayMetaData:this.metaData,displayCredits:this.credits,displayLinks:this.links,displayEmbedCode:this.embedCode,displayCaptionSearch:this.captionSearch,embedAsThumbnail:this.embedAsThumbnail,displayViewersReport:this.viewersReport,audioPreviewImage:this.audioPreviewImage,paddingTop:this.getPaddingTop()})}var a;if(this.isAudio&&!this.audioPreviewImage){a=o(this.audioJavaScriptResponsiveEmbedCodeTemplate).tmpl({contentID:this.shortContentId,destinationID:"",displayTitle:this.displayTitle,autoPlay:this.autoPlay,startTime:"0",hideControls:this.hideControls,showCaptions:this.showCaptions,displaySharing:this.displaySharing,displayAnnotations:this.annotations,displayAds:this.ads,displayAttachments:this.attachments,displayDownloadIcon:this.downloadLink,displayMetaData:this.metaData,displayCredits:this.credits,displayLinks:this.links,displayEmbedCode:this.embedCode,audioPreviewImage:this.audioPreviewImage,embedAsThumbnail:this.embedAsThumbnail,audioHeight:this.getAudioHeight()})}else{a=o(this.javaScriptResponsiveEmbedCodeTemplate).tmpl({contentID:this.shortContentId,destinationID:"",displayTitle:this.displayTitle,autoPlay:this.autoPlay,startTime:"0",hideControls:this.hideControls,showCaptions:this.showCaptions,displaySharing:this.displaySharing,displayAnnotations:this.annotations,displayAds:this.ads,displayAttachments:this.attachments,displayDownloadIcon:this.downloadLink,displayMetaData:this.metaData,displayCredits:this.credits,displayLinks:this.links,audioPreviewImage:this.audioPreviewImage,displayEmbedCode:this.embedCode,displayCaptionSearch:this.captionSearch,embedAsThumbnail:this.embedAsThumbnail,displayViewersReport:this.viewersReport,paddingTop:this.getPaddingTop()})}o(this.embedCodeWithIFrameContainerId).empty();o(this.embedCodeWithIFrameContainerId).append(o(this.embedCodeWithIFrameCodeTemplate).tmpl({inputValue:n[0].outerHTML.replace(/>\s+</g,"><")}));o(this.embedCodeWithJavaScriptContainerId).empty();o(this.embedCodeWithJavaScriptContainerId).append(o(this.embedCodeWithJavaScriptCodeTemplate).tmpl({inputValue:r[0].outerHTML.replace(/>\s+</g,"><")}));o(this.embedCodeWithResponsiveIFrameContainerId).empty();o(this.embedCodeWithResponsiveIFrameContainerId).append(o(this.embedCodeWithResponsiveIFrameCodeTemplate).tmpl({inputValue:s[0].outerHTML.replace(/>\s+</g,"><")}));o(this.embedCodeWithResponsiveJavaScriptContainerId).empty();o(this.embedCodeWithResponsiveJavaScriptContainerId).append(o(this.embedCodeWithResponsiveJavaScriptCodeTemplate).tmpl({inputValue:a[0].outerHTML.replace(/>\s+</g,"><")}));this.setDefaultEmbedTemplate();this.removeHideControlsCheckbox();this.isInitialLoad=false}}})(e);(function(y){"use strict";window.EnsembleVideo=window.EnsembleVideo||{};var w=function(e){this.$el=e.$el;this.onSearch=e.onSearch||function(){};this.$el.on("input",function(e){var t=e.target.value;if(t!==this.lastValue){this.lastValue=t;if(this.submitTimeout){clearTimeout(this.submitTimeout)}this.submitTimeout=setTimeout(function(){this.onSearch(this.$el.val())}.bind(this),1e3)}}.bind(this));this.$el.on("keypress",function(e){var t=e.keyCode?e.keyCode:e.which;if(t===13){if(this.submitTimeout){clearTimeout(this.submitTimeout)}this.onSearch(this.$el.val());e.preventDefault()}}.bind(this))};var n={apiUrl:"",pageSize:100,onLoaded:function(){},onError:function(){},parseData:function(e){return e||[]}};var r={pageNumber:1,search:"",viewingContextId:0,fromDate:(new Date).toJSON()};var C=function(e,t,i){this.settings=y.extend({},n,e);this.state=y.extend({},r,t);this.results=this.lastLoad=[];this._hasLoaded=false;if(i){this.results=this.lastLoad=i;this._hasLoaded=true;this._deferred=y.Deferred().resolve();this.settings.onLoaded(this.results,this.lastLoad,this.hasMore(),false)}};C.prototype={loadMore:function(e,n){if(this._deferred&&this._deferred.state()==="pending"){this._deferred.always(function(){this.loadMore(e,n)}.bind(this));return this._deferred.promise()}y.extend(this.state,e);if(n){this.state.pageNumber=1;this.results=this.lastLoad=[];this._hasLoaded=false}if(this._hasLoaded&&!this.hasMore()){return this._deferred.promise()}this._deferred=y.ajax({cache:false,url:this.settings.apiUrl,data:{pageNumber:this.state.pageNumber,pageSize:this.settings.pageSize,search:this.state.search.trim(),viewingContextId:this.state.viewingContextId,fromDate:this.state.fromDate},xhrFields:{withCredentials:true}}).done(function(e,t,i){this._hasLoaded=true;this.lastLoad=this.settings.parseData(e)||[];this.state.pageNumber=this.state.pageNumber+1;if(this.lastLoad.length){this.results=this.results.concat(this.lastLoad)}this.settings.onLoaded(this.results,this.lastLoad,this.hasMore(),n)}.bind(this)).fail(function(e,t,i){this.settings.onError(e,t,i)}.bind(this));return this._deferred.promise()},hasMore:function(){return!this._hasLoaded||this.lastLoad.length===this.settings.pageSize}};window.EnsembleVideo.ViewersReport=function(e){this.$el=e.$el;this.apiUrl=e.apiUrl;this.contentId=e.contentId;this.lessHeight=(e.lessHeight||0)+107;this.isJavaScriptEmbed=e.isJavaScriptEmbed};window.EnsembleVideo.ViewersReport.prototype={initialize:function(){var a=y("#recent .results",this.$el),o=y("#aggregate .results",this.$el),l=y("#search",this.$el),h=y("#scope",this.$el),c=y(".refresh",this.$el),u=y(".loading",this.$el),d=(new Date).toJSON(),f=y("#noResults",this.$el),p="100vh",g,m=function(s,a){return function(i,e,t,n){var r=y(s,this.$el);if(n){a.empty()}if(!i.length){a.closest(".resultsContainer").hide();f.show()}y.each(e,function(e,t){t.resultClass=(e+i.length)%2?"even":"odd";var o=y(r.tmpl(t));o.focus(function(){a.evScrollLoader("scrollTo",o.offset().top-2)});o.keydown(function(e){var t,i,n,r;if(e.which===33||e.keyCode===33){e.preventDefault();t=o.prevAll();if(!t.length){return}r=10;n=t.length-1;r=r>n?n:r;t.eq(r).focus()}else if(e.which===34||e.keyCode===34){e.preventDefault();i=o.nextAll();if(!i.length){return}r=10;n=i.length-1;r=r>n?n:r;i.eq(r).focus()}else if(e.which===35||e.keyCode===35){e.preventDefault();i=o.nextAll();if(!i.length){return}i.last().focus()}else if(e.which===36||e.keyCode===36){e.preventDefault();t=o.prevAll();if(!t.length){return}t.last().focus()}else if(e.which===38||e.keyCode===38){e.preventDefault();var s=o.prev();if(s&&s.length){s.focus()}}else if(e.which===40||e.keyCode===40){e.preventDefault();var a=o.next();if(a&&a.length){a.focus()}}});a.append(o)});if(i.length){a.closest(".resultsContainer").show();f.hide()}if(!t){a.evScrollLoader("hideLoader")}else{a.evScrollLoader("showLoader")}}},v=function(){},b=function(){return h.length&&h.find(":selected").val()||0};if(this.$el&&this.$el.length){this.$el.tabs();if(!this.contentId){return y.Deferred.reject().promise()}u.show();y.ajax({cache:false,url:this.apiUrl+"v1/contents/"+this.contentId+"/viewers",data:{viewingContextId:b(),fromDate:d},xhrFields:{withCredentials:true}}).done(function(e,t,i){var n=new C({apiUrl:this.apiUrl+"v1/contents/"+this.contentId+"/viewers/recent",onLoaded:m("#recentResultTmpl",a).bind(this),onError:v,parseData:function(e){return e&&e.data}},{pageNumber:2,viewingContextId:b(),fromDate:d},e.recent.data),r=new C({apiUrl:this.apiUrl+"v1/contents/"+this.contentId+"/viewers/aggregate",onLoaded:m("#aggregateResultTmpl",o).bind(this),onError:v,parseData:function(e){return e&&e.data}},{pageNumber:2,viewingContextId:b(),fromDate:d},e.aggregate.data),s=new w({$el:l,onSearch:function(e){u.show();y.when(n.loadMore({search:e},true),r.loadMore({search:e},true)).always(function(){u.hide()})}});if(this.isJavaScriptEmbed){g=this.$el.closest(".plugin-container");if(g.length){p=Math.floor(g.height())+"px"}}a.evScrollLoader({height:"calc("+p+" - "+this.lessHeight+"px)",scrollStyle:"overlay",onScrolled:function(){if(n.hasMore()){u.show();n.loadMore().always(function(){u.hide()})}}});if(!n.hasMore()){a.evScrollLoader("hideLoader")}o.evScrollLoader({height:"calc("+p+" - "+this.lessHeight+"px)",scrollStyle:"overlay",onScrolled:function(){if(r.hasMore()){u.show();r.loadMore().always(function(){u.hide()})}}});if(!r.hasMore()){o.evScrollLoader("hideLoader")}y(".scrollWrap",this.$el).css("max-height","");h.on("change",function(){var e=b();u.show();y.when(n.loadMore({viewingContextId:e},true),r.loadMore({viewingContextId:e},true)).always(function(){u.hide()})});c.click(function(){d=(new Date).toJSON();u.show();y.when(n.loadMore({fromDate:d},true),r.loadMore({fromDate:d},true)).always(function(){u.hide()})})}.bind(this)).fail(function(e,t,i){v()}).always(function(){u.hide()})}}}})(e);"use strict";(function(){window.EnsembleVideo=window.EnsembleVideo||{};window.EnsembleVideo.Platform=function(){this.initCompleted=false;this.isWebkit=false;this.isMobilePhone=false;this.isIphone=false;this.isAndroid=false;this.isIos=false;this.isWindowsPhone=false;this.isAndroidPhone=false;this.isTierTablet=false;this.isTierIphone=false;this.isTierRichCss=false;this.isTierGenericMobile=false;this.engineWebKit="webkit";this.deviceIphone="iphone";this.deviceIpod="ipod";this.deviceIpad="ipad";this.deviceMacPpc="macintosh";this.deviceAndroid="android";this.deviceGoogleTV="googletv";this.deviceHtcFlyer="htc_flyer";this.deviceWinPhone7="windows phone os 7";this.deviceWinPhone8="windows phone 8";this.deviceWinPhone10="windows phone 10",this.deviceWinMob="windows ce";this.deviceWindows="windows";this.deviceIeMob="iemobile";this.deviceUbuntu="ubuntu";this.devicePpc="ppc";this.enginePie="wm5 pie";this.deviceBB="blackberry";this.deviceBB10="bb10";this.vndRIM="vnd.rim";this.deviceBBStorm="blackberry95";this.deviceBBBold="blackberry97";this.deviceBBBoldTouch="blackberry 99";this.deviceBBTour="blackberry96";this.deviceBBCurve="blackberry89";this.deviceBBCurveTouch="blackberry 938";this.deviceBBTorch="blackberry 98";this.deviceBBPlaybook="playbook";this.deviceSymbian="symbian";this.deviceSymbos="symbos";this.deviceS60="series60";this.deviceS70="series70";this.deviceS80="series80";this.deviceS90="series90";this.devicePalm="palm";this.deviceWebOS="webos";this.deviceWebOShp="hpwos";this.engineBlazer="blazer";this.engineXiino="xiino";this.deviceNuvifone="nuvifone";this.deviceBada="bada";this.deviceTizen="tizen";this.deviceMeego="meego";this.deviceKindle="kindle";this.engineSilk="silk-accelerated";this.vndwap="vnd.wap";this.wml="wml";this.deviceTablet="tablet";this.deviceBrew="brew";this.deviceDanger="danger";this.deviceHiptop="hiptop";this.devicePlaystation="playstation";this.devicePlaystationVita="vita";this.deviceNintendoDs="nitro";this.deviceNintendo="nintendo";this.deviceWii="wii";this.deviceXbox="xbox";this.deviceArchos="archos";this.engineFirefox="firefox",this.engineChrome="chrome";this.engineSafari="safari";this.engineInternetExplorer="msie";this.engineTrident="trident";this.engineOpera="opera";this.engineNetfront="netfront";this.engineUpBrowser="up.browser";this.engineOpenWeb="openweb";this.deviceMidp="midp";this.uplink="up.link";this.engineTelecaQ="teleca q";this.engineObigo="obigo";this.devicePda="pda";this.mini="mini";this.mobile="mobile";this.mobi="mobi";this.maemo="maemo";this.linux="linux";this.mylocom2="sony/com";this.manuSonyEricsson="sonyericsson";this.manuericsson="ericsson";this.manuSamsung1="sec-sgh";this.manuSony="sony";this.manuHtc="htc";this.svcDocomo="docomo";this.svcKddi="kddi";this.svcVodafone="vodafone";this.disUpdate="update";this.uagent="";this.nVersion="";this.isChromeBrowser=false;this.isIeBrowser=false;this.isSafariBrowser=false;this.isSafariOnIos=false;this.androidVersion=0;this.iosVersion=0};window.EnsembleVideo.Platform.prototype={InitDeviceScan:function(){this.initCompleted=false;if(navigator&&navigator.userAgent){this.uagent=navigator.userAgent.toLowerCase();if(navigator.appVersion)this.nVersion=navigator.appVersion}this.isWebkit=this.DetectWebkit();this.isIphone=this.DetectIphone();this.isAndroid=this.DetectAndroid();this.isAndroidPhone=this.DetectAndroidPhone();this.isIos=this.DetectIos();this.isTierIphone=this.DetectTierIphone();this.isTierTablet=this.DetectTierTablet();this.isMobilePhone=this.DetectMobileQuick();this.isTierRichCss=this.DetectTierRichCss();this.isTierGenericMobile=this.DetectTierOtherPhones();this.isChromeBrowser=this.DetectChromeBrowser();this.isIeBrowser=this.DetectIeBrowser();this.isSafariBrowser=this.DetectSafariBrowser();this.initCompleted=true},SetUserAgent:function(){if(navigator&&navigator.userAgent){this.uagent=navigator.userAgent.toLowerCase();if(navigator.appVersion)this.nVersion=navigator.appVersion}},DetectIphone:function(){if(this.initCompleted||this.isIphone)return this.isIphone;if(this.uagent.search(this.deviceIphone)>-1){if(this.DetectIpad()||this.DetectIpod())return false;else return true}else return false},DetectIpod:function(){if(this.uagent.search(this.deviceIpod)>-1)return true;else return false},DetectIphoneOrIpod:function(){if(this.DetectIphone()||this.DetectIpod())return true;else return false},DetectIpad:function(){if(this.uagent.search(this.deviceIpad)>-1&&this.DetectWebkit())return true;else return false},DetectIos:function(){if(this.DetectIphoneOrIpod()||this.DetectIpad()){this.iosVersion=this.DetectIosVersion();this.isSafariOnIos=this.IsSafariOnIos();return true}else return false},IsSafariOnIos:function(){if(this.uagent.search(this.engineSafari)>-1)return true;return false},DetectIosVersion:function(){var e=0;try{var t=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.nVersion);t=t[1]+"."+t[2];e=parseFloat(t)}catch(e){console.log(e.message)}return e},DetectAndroid:function(){if(this.initCompleted||this.isAndroid)return this.isAndroid;if(this.uagent.search(this.deviceAndroid)>-1){this.androidVersion=this.DetectAndroidVersion();return true}if(this.DetectGoogleTV())return true;if(this.uagent.search(this.deviceHtcFlyer)>-1)return true;else return false},DetectAndroidPhone:function(){if(this.initCompleted||this.isAndroidPhone)return this.isAndroidPhone;if(this.DetectAndroid()&&this.uagent.search(this.mobile)>-1)return true;if(this.DetectOperaAndroidPhone())return true;if(this.uagent.search(this.deviceHtcFlyer)>-1)return true;else return false},DetectAndroidTablet:function(){if(!this.DetectAndroid())return false;if(this.DetectOperaMobile())return false;if(this.uagent.search(this.deviceHtcFlyer)>-1)return false;if(this.uagent.search(this.mobile)>-1)return false;else return true},DetectAndroidWebKit:function(){if(this.DetectAndroid()&&this.DetectWebkit())return true;else return false},DetectGoogleTV:function(){if(this.uagent.search(this.deviceGoogleTV)>-1)return true;else return false},DetectWebkit:function(){if(this.initCompleted||this.isWebkit)return this.isWebkit;if(this.uagent.search(this.engineWebKit)>-1)return true;else return false},DetectWindowsPhone:function(){if(this.DetectWindowsPhone7()||this.DetectWindowsPhone8()||this.DetectWindowsPhone10())return true;else return false},DetectWindowsPhone7:function(){if(this.uagent.search(this.deviceWinPhone7)>-1)return true;else return false},DetectWindowsPhone8:function(){if(this.uagent.search(this.deviceWinPhone8)>-1)return true;else return false},DetectWindowsPhone10:function(){if(this.uagent.search(this.deviceWinPhone10)>-1)return true;else return false},DetectWindowsMobile:function(){if(this.DetectWindowsPhone())return false;if(this.uagent.search(this.deviceWinMob)>-1||this.uagent.search(this.deviceIeMob)>-1||this.uagent.search(this.enginePie)>-1)return true;if(this.uagent.search(this.devicePpc)>-1&&!(this.uagent.search(this.deviceMacPpc)>-1))return true;if(this.uagent.search(this.manuHtc)>-1&&this.uagent.search(this.deviceWindows)>-1)return true;else return false},DetectBlackBerry:function(){if(this.uagent.search(this.deviceBB)>-1||this.uagent.search(this.vndRIM)>-1)return true;if(this.DetectBlackBerry10Phone())return true;else return false},DetectBlackBerry10Phone:function(){if(this.uagent.search(this.deviceBB10)>-1&&this.uagent.search(this.mobile)>-1)return true;else return false},DetectBlackBerryTablet:function(){if(this.uagent.search(this.deviceBBPlaybook)>-1)return true;else return false},DetectBlackBerryWebKit:function(){if(this.DetectBlackBerry()&&this.uagent.search(this.engineWebKit)>-1)return true;else return false},DetectBlackBerryTouch:function(){if(this.DetectBlackBerry()&&(this.uagent.search(this.deviceBBStorm)>-1||this.uagent.search(this.deviceBBTorch)>-1||this.uagent.search(this.deviceBBBoldTouch)>-1||this.uagent.search(this.deviceBBCurveTouch)>-1))return true;else return false},DetectBlackBerryHigh:function(){if(this.DetectBlackBerryWebKit())return false;if(this.DetectBlackBerry()&&(this.DetectBlackBerryTouch()||this.uagent.search(this.deviceBBBold)>-1||this.uagent.search(this.deviceBBTour)>-1||this.uagent.search(this.deviceBBCurve)>-1))return true;else return false},DetectBlackBerryLow:function(){if(this.DetectBlackBerry()){if(this.DetectBlackBerryHigh()||this.DetectBlackBerryWebKit())return false;else return true}else return false},DetectS60OssBrowser:function(){if(this.DetectWebkit()){if(this.uagent.search(this.deviceS60)>-1||this.uagent.search(this.deviceSymbian)>-1)return true;else return false}else return false},DetectSymbianOS:function(){if(this.uagent.search(this.deviceSymbian)>-1||this.uagent.search(this.deviceS60)>-1||this.uagent.search(this.deviceSymbos)>-1&&this.DetectOperaMobile||this.uagent.search(this.deviceS70)>-1||this.uagent.search(this.deviceS80)>-1||this.uagent.search(this.deviceS90)>-1)return true;else return false},DetectPalmOS:function(){if(this.DetectPalmWebOS())return false;if(this.uagent.search(this.devicePalm)>-1||this.uagent.search(this.engineBlazer)>-1||this.uagent.search(this.engineXiino)>-1)return true;else return false},DetectPalmWebOS:function(){if(this.uagent.search(this.deviceWebOS)>-1)return true;else return false},DetectWebOSTablet:function(){if(this.uagent.search(this.deviceWebOShp)>-1&&this.uagent.search(this.deviceTablet)>-1)return true;else return false},DetectChromeBrowser:function(){if(this.uagent.search(this.engineChrome)>-1)return true;return false},DetectIeBrowser:function(){if(this.uagent.search(this.engineInternetExplorer)>-1||this.uagent.search(this.engineTrident)>-1)return true;return false},DetectSafariBrowser:function(){if(this.uagent.search(this.engineSafari)>-1&&!this.DetectChromeBrowser())return true;return false},DetectOperaMobile:function(){if(this.uagent.search(this.engineOpera)>-1&&(this.uagent.search(this.mini)>-1||this.uagent.search(this.mobi)>-1))return true;else return false},DetectOperaAndroidPhone:function(){if(this.uagent.search(this.engineOpera)>-1&&this.uagent.search(this.deviceAndroid)>-1&&this.uagent.search(this.mobi)>-1)return true;else return false},DetectOperaAndroidTablet:function(){if(this.uagent.search(this.engineOpera)>-1&&this.uagent.search(this.deviceAndroid)>-1&&this.uagent.search(this.deviceTablet)>-1)return true;else return false},DetectKindle:function(){if(this.uagent.search(this.deviceKindle)>-1&&!this.DetectAndroid())return true;else return false},DetectAmazonSilk:function(){if(this.uagent.search(this.engineSilk)>-1)return true;else return false},DetectGarminNuvifone:function(){if(this.uagent.search(this.deviceNuvifone)>-1)return true;else return false},DetectBada:function(){if(this.uagent.search(this.deviceBada)>-1)return true;else return false},DetectTizen:function(){if(this.uagent.search(this.deviceTizen)>-1)return true;else return false},DetectMeego:function(){if(this.uagent.search(this.deviceMeego)>-1)return true;else return false},DetectFirefoxOS:function(){if(this.DetectFirefoxOSPhone()||this.DetectFirefoxOSTablet())return true;else return false},DetectFirefoxOSPhone:function(){if(this.DetectIos()||this.DetectAndroid()||this.DetectSailfish())return false;if(this.uagent.search(this.engineFirefox)>-1&&this.uagent.search(this.mobile)>-1)return true;return false},DetectFirefoxOSTablet:function(){if(this.DetectIos()||this.DetectAndroid()||this.DetectSailfish())return false;if(this.uagent.search(this.engineFirefox)>-1&&this.uagent.search(this.deviceTablet)>-1)return true;return false},DetectSailfish:function(){if(this.uagent.search(this.deviceSailfish)>-1)return true;else return false},DetectSailfishPhone:function(){if(this.DetectSailfish()&&this.uagent.search(this.mobile)>-1)return true;return false},DetectUbuntu:function(){if(this.DetectUbuntuPhone()||this.DetectUbuntuTablet())return true;else return false},DetectUbuntuPhone:function(){if(this.uagent.search(this.deviceUbuntu)>-1&&this.uagent.search(this.mobile)>-1)return true;return false},DetectUbuntuTablet:function(){if(this.uagent.search(this.deviceUbuntu)>-1&&this.uagent.search(this.deviceTablet)>-1)return true;return false},DetectDangerHiptop:function(){if(this.uagent.search(this.deviceDanger)>-1||this.uagent.search(this.deviceHiptop)>-1)return true;else return false},DetectSonyMylo:function(){if(this.uagent.search(this.manuSony)>-1&&(this.uagent.search(this.qtembedded)>-1||this.uagent.search(this.mylocom2)>-1))return true;else return false},DetectMaemoTablet:function(){if(this.uagent.search(this.maemo)>-1)return true;if(this.uagent.search(this.linux)>-1&&this.uagent.search(this.deviceTablet)>-1&&!this.DetectWebOSTablet()&&!this.DetectAndroid())return true;else return false},DetectArchos:function(){if(this.uagent.search(this.deviceArchos)>-1)return true;else return false},DetectGameConsole:function(){if(this.DetectSonyPlaystation()||this.DetectNintendo()||this.DetectXbox())return true;else return false},DetectSonyPlaystation:function(){if(this.uagent.search(this.devicePlaystation)>-1)return true;else return false},DetectGamingHandheld:function(){if(this.uagent.search(this.devicePlaystation)>-1&&this.uagent.search(this.devicePlaystationVita)>-1)return true;else return false},DetectNintendo:function(){if(this.uagent.search(this.deviceNintendo)>-1||this.uagent.search(this.deviceWii)>-1||this.uagent.search(this.deviceNintendoDs)>-1)return true;else return false},DetectXbox:function(){if(this.uagent.search(this.deviceXbox)>-1)return true;else return false},DetectBrewDevice:function(){if(this.uagent.search(this.deviceBrew)>-1)return true;else return false},DetectSmartphone:function(){if(this.DetectTierIphone()||this.DetectS60OssBrowser()||this.DetectSymbianOS()||this.DetectWindowsMobile()||this.DetectBlackBerry()||this.DetectPalmOS())return true;return false},DetectMobileQuick:function(){if(this.DetectTierTablet())return false;if(this.initCompleted||this.isMobilePhone)return this.isMobilePhone;if(this.DetectSmartphone())return true;if(this.uagent.search(this.mobile)>-1)return true;if(this.DetectKindle()||this.DetectAmazonSilk())return true;if(this.uagent.search(this.deviceMidp)>-1||this.DetectBrewDevice())return true;if(this.DetectOperaMobile()||this.DetectArchos())return true;if(this.uagent.search(this.engineObigo)>-1||this.uagent.search(this.engineNetfront)>-1||this.uagent.search(this.engineUpBrowser)>-1||this.uagent.search(this.engineOpenWeb)>-1)return true;return false},DetectMobileLong:function(){if(this.DetectMobileQuick())return true;if(this.DetectGameConsole())return true;if(this.DetectDangerHiptop()||this.DetectMaemoTablet()||this.DetectSonyMylo()||this.DetectGarminNuvifone()||this.DetectArchos())return true;if(this.uagent.search(this.devicePda)>-1&&!(this.uagent.search(this.disUpdate)>-1))return true;if(this.uagent.search(this.manuSamsung1)>-1||this.uagent.search(this.manuSonyEricsson)>-1||this.uagent.search(this.manuericsson)>-1)return true;if(this.uagent.search(this.svcDocomo)>-1||this.uagent.search(this.svcKddi)>-1||this.uagent.search(this.svcVodafone)>-1)return true;return false},DetectTierTablet:function(){if(this.initCompleted||this.isTierTablet)return this.isTierTablet;if(this.DetectIpad()||this.DetectAndroidTablet()||this.DetectBlackBerryTablet()||this.DetectFirefoxOSTablet()||this.DetectUbuntuTablet()||this.DetectWebOSTablet())return true;else return false},DetectTierIphone:function(){if(this.initCompleted||this.isTierIphone)return this.isTierIphone;if(this.DetectIphoneOrIpod()||this.DetectAndroidPhone()||this.DetectWindowsPhone()||this.DetectBlackBerry10Phone()||this.DetectPalmWebOS()||this.DetectBada()||this.DetectTizen()||this.DetectFirefoxOSPhone()||this.DetectSailfishPhone()||this.DetectUbuntuPhone()||this.DetectGamingHandheld())return true;if(this.DetectBlackBerryWebKit()&&this.DetectBlackBerryTouch())return true;else return false},DetectTierRichCss:function(){if(this.initCompleted||this.isTierRichCss)return this.isTierRichCss;if(this.DetectTierIphone()||this.DetectKindle()||this.DetectTierTablet())return false;if(!this.DetectMobileQuick())return false;if(this.DetectWebkit())return true;if(this.DetectS60OssBrowser()||this.DetectBlackBerryHigh()||this.DetectWindowsMobile()||this.uagent.search(this.engineTelecaQ)>-1)return true;else return false},DetectTierOtherPhones:function(){if(this.initCompleted||this.isTierGenericMobile)return this.isTierGenericMobile;if(this.DetectTierIphone()||this.DetectTierRichCss()||this.DetectTierTablet())return false;if(this.DetectMobileLong())return true;else return false},DetectAndroidVersion:function(){var e=0;try{e=parseFloat(this.uagent.slice(this.uagent.indexOf(this.deviceAndroid)+8))}catch(e){console.log(e.message)}return e}}})()})($ev);
//# sourceMappingURL=singleplugin.min.js.map