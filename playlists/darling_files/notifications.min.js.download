/*! EnsembleVideo - v5.4.0 */

function GetLanguage(e){var t="en-US";var i=getCookie("layout");var n=i.split("&");for(var a=0;a<n.length;a++){var r=n[a].indexOf("userLanguage=");if(r>-1){t=n[a].substring(13);break}}if(e){var o=t.indexOf('-');if(o>-1){t=t.substring(0,o)}}return t}function GetUserDateFormat(e){var t="MM/DD/YYYY";var i=getCookie("layout");var n=i.split("&");for(var a=0;a<n.length;a++){var r=n[a].indexOf("userDateFormat=");if(r>-1){if(e)t=n[a].substring(15);else t=n[a].substring(15).toUpperCase();break}}return t}function GetUserDateTimeFormat(){var e="MM/DD/YYYY";var t="hh:mm A";var i=getCookie("layout");var n=i.split("&");for(var a=0;a<n.length;a++){var r=n[a].indexOf("userDateFormat=");var o=n[a].indexOf("userTimeFormat=");if(r>-1){e=n[a].substring(15).toUpperCase()}if(o>-1){t=n[a].substring(15);t=t.replace("tt","A")}}return e+" "+t}function GetUserTimeZone(){var e="America/New_York";var t=getCookie("layout");var i=t.split("&");for(var n=0;n<i.length;n++){var a=i[n].indexOf("userTimeZone=");if(a>-1){e=i[n].substring(13);break}}return e}function GetTimeFormat(){return Show24Hours()?"HH:mm":"hh:mm A"}function Show24Hours(){var e=true;var t=getCookie("layout");var i=t.split("&");for(var n=0;n<i.length;n++){var a=i[n].indexOf("userTimeFormat=");if(a>-1){var r=i[n].substring(15);if(r.indexOf("tt")>-1)e=false}}return e}function getCookie(e){var t=e+"=";var i=decodeURIComponent(document.cookie);var n=i.split(';');for(var a=0;a<n.length;a++){var r=n[a];while(r.charAt(0)==' '){r=r.substring(1)}if(r.indexOf(t)==0){return r.substring(t.length,r.length)}}return""}function ConvertFromUtcToLocalDateTimeFromNow(t){try{var e="Just Now";var i=GetUserTimeZone();var n=moment.utc(t).tz(i).fromNow();if(n.indexOf(e)>-1)n=moment.utc(t).tz(i).fromNow(true);return n}catch(e){console.log(e);return t}}function ConvertFromUtcToLocalDateWithUserFormat(t){try{var e=GetUserTimeZone();var i=moment.utc(t).tz(e).toDate();var n=GetUserDateFormat();return formatDateTime(i,n)}catch(e){console.log(e);return t}}function formatDateTime(e,t){return moment(e).format(t)}var EnsembleVideo=EnsembleVideo||{};EnsembleVideo.Platform=function(){this.initCompleted=false;this.isWebkit=false;this.isMobilePhone=false;this.isIphone=false;this.isAndroid=false;this.isIos=false;this.isWindowsPhone=false;this.isAndroidPhone=false;this.isTierTablet=false;this.isTierIphone=false;this.isTierRichCss=false;this.isTierGenericMobile=false;this.engineWebKit='webkit';this.deviceIphone='iphone';this.deviceIpod='ipod';this.deviceIpad='ipad';this.deviceMacPpc='macintosh';this.deviceAndroid='android';this.deviceGoogleTV='googletv';this.deviceHtcFlyer='htc_flyer';this.deviceWinPhone7='windows phone os 7';this.deviceWinPhone8='windows phone 8';this.deviceWinPhone10='windows phone 10',this.deviceWinMob='windows ce';this.deviceWindows='windows';this.deviceIeMob='iemobile';this.deviceUbuntu="ubuntu";this.devicePpc='ppc';this.enginePie='wm5 pie';this.deviceBB='blackberry';this.deviceBB10='bb10';this.vndRIM='vnd.rim';this.deviceBBStorm='blackberry95';this.deviceBBBold='blackberry97';this.deviceBBBoldTouch='blackberry 99';this.deviceBBTour='blackberry96';this.deviceBBCurve='blackberry89';this.deviceBBCurveTouch='blackberry 938';this.deviceBBTorch='blackberry 98';this.deviceBBPlaybook='playbook';this.deviceSymbian='symbian';this.deviceSymbos='symbos';this.deviceS60='series60';this.deviceS70='series70';this.deviceS80='series80';this.deviceS90='series90';this.devicePalm='palm';this.deviceWebOS='webos';this.deviceWebOShp='hpwos';this.engineBlazer='blazer';this.engineXiino='xiino';this.deviceNuvifone='nuvifone';this.deviceBada='bada';this.deviceTizen='tizen';this.deviceMeego='meego';this.deviceKindle='kindle';this.engineSilk='silk-accelerated';this.vndwap='vnd.wap';this.wml='wml';this.deviceTablet='tablet';this.deviceBrew='brew';this.deviceDanger='danger';this.deviceHiptop='hiptop';this.devicePlaystation='playstation';this.devicePlaystationVita='vita';this.deviceNintendoDs='nitro';this.deviceNintendo='nintendo';this.deviceWii='wii';this.deviceXbox='xbox';this.deviceArchos='archos';this.engineFirefox='firefox',this.engineChrome='chrome';this.engineSafari='safari';this.engineOpera='opera';this.engineInternetExplorer='msie';this.engineTrident='trident';this.engineNetfront='netfront';this.engineUpBrowser='up.browser';this.engineOpenWeb='openweb';this.deviceMidp='midp';this.uplink='up.link';this.engineTelecaQ='teleca q';this.engineObigo='obigo';this.devicePda='pda';this.mini='mini';this.mobile='mobile';this.mobi='mobi';this.maemo='maemo';this.linux='linux';this.mylocom2='sony/com';this.manuSonyEricsson='sonyericsson';this.manuericsson='ericsson';this.manuSamsung1='sec-sgh';this.manuSony='sony';this.manuHtc='htc';this.svcDocomo='docomo';this.svcKddi='kddi';this.svcVodafone='vodafone';this.disUpdate='update';this.uagent='';this.isChromeBrowser=false;this.isSafariBrowser=false;this.androidVersion=0};EnsembleVideo.Platform.prototype={InitDeviceScan:function(){this.initCompleted=false;if(navigator&&navigator.userAgent)this.uagent=navigator.userAgent.toLowerCase();this.isWebkit=this.DetectWebkit();this.isIphone=this.DetectIphone();this.isAndroid=this.DetectAndroid();this.isAndroidPhone=this.DetectAndroidPhone();this.isIos=this.DetectIos();this.isTierIphone=this.DetectTierIphone();this.isTierTablet=this.DetectTierTablet();this.isMobilePhone=this.DetectMobileQuick();this.isTierRichCss=this.DetectTierRichCss();this.isTierGenericMobile=this.DetectTierOtherPhones();this.isChromeBrowser=this.DetectChromeBrowser();this.isIeBrowser=this.DetectIeBrowser();this.isSafariBrowser=this.DetectSafariBrowser();this.initCompleted=true},DetectIphone:function(){if(this.initCompleted||this.isIphone)return this.isIphone;if(this.uagent.search(this.deviceIphone)>-1){if(this.DetectIpad()||this.DetectIpod())return false;else return true}else return false},DetectIpod:function(){if(this.uagent.search(this.deviceIpod)>-1)return true;else return false},DetectIphoneOrIpod:function(){if(this.DetectIphone()||this.DetectIpod())return true;else return false},DetectIpad:function(){if(this.uagent.search(this.deviceIpad)>-1&&this.DetectWebkit())return true;else return false},DetectIos:function(){if(this.DetectIphoneOrIpod()||this.DetectIpad())return true;else return false},DetectAndroid:function(){if(this.initCompleted||this.isAndroid)return this.isAndroid;if(this.uagent.search(this.deviceAndroid)>-1){this.androidVersion=this.DetectAndroidVersion();return true}if(this.DetectGoogleTV())return true;if(this.uagent.search(this.deviceHtcFlyer)>-1)return true;else return false},DetectAndroidPhone:function(){if(this.initCompleted||this.isAndroidPhone)return this.isAndroidPhone;if(this.DetectAndroid()&&this.uagent.search(this.mobile)>-1)return true;if(this.DetectOperaAndroidPhone())return true;if(this.uagent.search(this.deviceHtcFlyer)>-1)return true;else return false},DetectAndroidTablet:function(){if(!this.DetectAndroid())return false;if(this.DetectOperaMobile())return false;if(this.uagent.search(this.deviceHtcFlyer)>-1)return false;if(this.uagent.search(this.mobile)>-1)return false;else return true},DetectAndroidWebKit:function(){if(this.DetectAndroid()&&this.DetectWebkit())return true;else return false},DetectGoogleTV:function(){if(this.uagent.search(this.deviceGoogleTV)>-1)return true;else return false},DetectWebkit:function(){if(this.initCompleted||this.isWebkit)return this.isWebkit;if(this.uagent.search(this.engineWebKit)>-1)return true;else return false},DetectWindowsPhone:function(){if(this.DetectWindowsPhone7()||this.DetectWindowsPhone8()||this.DetectWindowsPhone10())return true;else return false},DetectWindowsPhone7:function(){if(this.uagent.search(this.deviceWinPhone7)>-1)return true;else return false},DetectWindowsPhone8:function(){if(this.uagent.search(this.deviceWinPhone8)>-1)return true;else return false},DetectWindowsPhone10:function(){if(this.uagent.search(this.deviceWinPhone10)>-1)return true;else return false},DetectWindowsMobile:function(){if(this.DetectWindowsPhone())return false;if(this.uagent.search(this.deviceWinMob)>-1||this.uagent.search(this.deviceIeMob)>-1||this.uagent.search(this.enginePie)>-1)return true;if(this.uagent.search(this.devicePpc)>-1&&!(this.uagent.search(this.deviceMacPpc)>-1))return true;if(this.uagent.search(this.manuHtc)>-1&&this.uagent.search(this.deviceWindows)>-1)return true;else return false},DetectBlackBerry:function(){if(this.uagent.search(this.deviceBB)>-1||this.uagent.search(this.vndRIM)>-1)return true;if(this.DetectBlackBerry10Phone())return true;else return false},DetectBlackBerry10Phone:function(){if(this.uagent.search(this.deviceBB10)>-1&&this.uagent.search(this.mobile)>-1)return true;else return false},DetectBlackBerryTablet:function(){if(this.uagent.search(this.deviceBBPlaybook)>-1)return true;else return false},DetectBlackBerryWebKit:function(){if(this.DetectBlackBerry()&&this.uagent.search(this.engineWebKit)>-1)return true;else return false},DetectBlackBerryTouch:function(){if(this.DetectBlackBerry()&&(this.uagent.search(this.deviceBBStorm)>-1||this.uagent.search(this.deviceBBTorch)>-1||this.uagent.search(this.deviceBBBoldTouch)>-1||this.uagent.search(this.deviceBBCurveTouch)>-1))return true;else return false},DetectBlackBerryHigh:function(){if(this.DetectBlackBerryWebKit())return false;if(this.DetectBlackBerry()&&(this.DetectBlackBerryTouch()||this.uagent.search(this.deviceBBBold)>-1||this.uagent.search(this.deviceBBTour)>-1||this.uagent.search(this.deviceBBCurve)>-1))return true;else return false},DetectBlackBerryLow:function(){if(this.DetectBlackBerry()){if(this.DetectBlackBerryHigh()||this.DetectBlackBerryWebKit())return false;else return true}else return false},DetectS60OssBrowser:function(){if(this.DetectWebkit()){if(this.uagent.search(this.deviceS60)>-1||this.uagent.search(this.deviceSymbian)>-1)return true;else return false}else return false},DetectSymbianOS:function(){if(this.uagent.search(this.deviceSymbian)>-1||this.uagent.search(this.deviceS60)>-1||this.uagent.search(this.deviceSymbos)>-1&&this.DetectOperaMobile||this.uagent.search(this.deviceS70)>-1||this.uagent.search(this.deviceS80)>-1||this.uagent.search(this.deviceS90)>-1)return true;else return false},DetectPalmOS:function(){if(this.DetectPalmWebOS())return false;if(this.uagent.search(this.devicePalm)>-1||this.uagent.search(this.engineBlazer)>-1||this.uagent.search(this.engineXiino)>-1)return true;else return false},DetectPalmWebOS:function(){if(this.uagent.search(this.deviceWebOS)>-1)return true;else return false},DetectWebOSTablet:function(){if(this.uagent.search(this.deviceWebOShp)>-1&&this.uagent.search(this.deviceTablet)>-1)return true;else return false},DetectChromeBrowser:function(){if(this.uagent.search(this.engineChrome)>-1)return true;return false},DetectIeBrowser:function(){if(this.uagent.search(this.engineInternetExplorer)>-1||this.uagent.search(this.engineTrident)>-1)return true;return false},DetectSafariBrowser:function(){if(this.uagent.search(this.engineSafari)>-1&&!this.DetectChromeBrowser())return true;return false},DetectOperaMobile:function(){if(this.uagent.search(this.engineOpera)>-1&&(this.uagent.search(this.mini)>-1||this.uagent.search(this.mobi)>-1))return true;else return false},DetectOperaAndroidPhone:function(){if(this.uagent.search(this.engineOpera)>-1&&this.uagent.search(this.deviceAndroid)>-1&&this.uagent.search(this.mobi)>-1)return true;else return false},DetectOperaAndroidTablet:function(){if(this.uagent.search(this.engineOpera)>-1&&this.uagent.search(this.deviceAndroid)>-1&&this.uagent.search(this.deviceTablet)>-1)return true;else return false},DetectKindle:function(){if(this.uagent.search(this.deviceKindle)>-1&&!this.DetectAndroid())return true;else return false},DetectAmazonSilk:function(){if(this.uagent.search(this.engineSilk)>-1)return true;else return false},DetectGarminNuvifone:function(){if(this.uagent.search(this.deviceNuvifone)>-1)return true;else return false},DetectBada:function(){if(this.uagent.search(this.deviceBada)>-1)return true;else return false},DetectTizen:function(){if(this.uagent.search(this.deviceTizen)>-1)return true;else return false},DetectMeego:function(){if(this.uagent.search(this.deviceMeego)>-1)return true;else return false},DetectFirefoxOS:function(){if(this.DetectFirefoxOSPhone()||this.DetectFirefoxOSTablet())return true;else return false},DetectFirefoxOSPhone:function(){if(this.DetectIos()||this.DetectAndroid()||this.DetectSailfish())return false;if(this.uagent.search(this.engineFirefox)>-1&&this.uagent.search(this.mobile)>-1)return true;return false},DetectFirefoxOSTablet:function(){if(this.DetectIos()||this.DetectAndroid()||this.DetectSailfish())return false;if(this.uagent.search(this.engineFirefox)>-1&&this.uagent.search(this.deviceTablet)>-1)return true;return false},DetectSailfish:function(){if(this.uagent.search(this.deviceSailfish)>-1)return true;else return false},DetectSailfishPhone:function(){if(this.DetectSailfish()&&this.uagent.search(this.mobile)>-1)return true;return false},DetectUbuntu:function(){if(this.DetectUbuntuPhone()||this.DetectUbuntuTablet())return true;else return false},DetectUbuntuPhone:function(){if(this.uagent.search(this.deviceUbuntu)>-1&&this.uagent.search(this.mobile)>-1)return true;return false},DetectUbuntuTablet:function(){if(this.uagent.search(this.deviceUbuntu)>-1&&this.uagent.search(this.deviceTablet)>-1)return true;return false},DetectDangerHiptop:function(){if(this.uagent.search(this.deviceDanger)>-1||this.uagent.search(this.deviceHiptop)>-1)return true;else return false},DetectSonyMylo:function(){if(this.uagent.search(this.manuSony)>-1&&(this.uagent.search(this.qtembedded)>-1||this.uagent.search(this.mylocom2)>-1))return true;else return false},DetectMaemoTablet:function(){if(this.uagent.search(this.maemo)>-1)return true;if(this.uagent.search(this.linux)>-1&&this.uagent.search(this.deviceTablet)>-1&&!this.DetectWebOSTablet()&&!this.DetectAndroid())return true;else return false},DetectArchos:function(){if(this.uagent.search(this.deviceArchos)>-1)return true;else return false},DetectGameConsole:function(){if(this.DetectSonyPlaystation()||this.DetectNintendo()||this.DetectXbox())return true;else return false},DetectSonyPlaystation:function(){if(this.uagent.search(this.devicePlaystation)>-1)return true;else return false},DetectGamingHandheld:function(){if(this.uagent.search(this.devicePlaystation)>-1&&this.uagent.search(this.devicePlaystationVita)>-1)return true;else return false},DetectNintendo:function(){if(this.uagent.search(this.deviceNintendo)>-1||this.uagent.search(this.deviceWii)>-1||this.uagent.search(this.deviceNintendoDs)>-1)return true;else return false},DetectXbox:function(){if(this.uagent.search(this.deviceXbox)>-1)return true;else return false},DetectBrewDevice:function(){if(this.uagent.search(this.deviceBrew)>-1)return true;else return false},DetectSmartphone:function(){if(this.DetectTierIphone()||this.DetectS60OssBrowser()||this.DetectSymbianOS()||this.DetectWindowsMobile()||this.DetectBlackBerry()||this.DetectPalmOS())return true;return false},DetectMobileQuick:function(){if(this.DetectTierTablet())return false;if(this.initCompleted||this.isMobilePhone)return this.isMobilePhone;if(this.DetectSmartphone())return true;if(this.uagent.search(this.mobile)>-1)return true;if(this.DetectKindle()||this.DetectAmazonSilk())return true;if(this.uagent.search(this.deviceMidp)>-1||this.DetectBrewDevice())return true;if(this.DetectOperaMobile()||this.DetectArchos())return true;if(this.uagent.search(this.engineObigo)>-1||this.uagent.search(this.engineNetfront)>-1||this.uagent.search(this.engineUpBrowser)>-1||this.uagent.search(this.engineOpenWeb)>-1)return true;return false},DetectMobileLong:function(){if(this.DetectMobileQuick())return true;if(this.DetectGameConsole())return true;if(this.DetectDangerHiptop()||this.DetectMaemoTablet()||this.DetectSonyMylo()||this.DetectGarminNuvifone()||this.DetectArchos())return true;if(this.uagent.search(this.devicePda)>-1&&!(this.uagent.search(this.disUpdate)>-1))return true;if(this.uagent.search(this.manuSamsung1)>-1||this.uagent.search(this.manuSonyEricsson)>-1||this.uagent.search(this.manuericsson)>-1)return true;if(this.uagent.search(this.svcDocomo)>-1||this.uagent.search(this.svcKddi)>-1||this.uagent.search(this.svcVodafone)>-1)return true;return false},DetectTierTablet:function(){if(this.initCompleted||this.isTierTablet)return this.isTierTablet;if(this.DetectIpad()||this.DetectAndroidTablet()||this.DetectBlackBerryTablet()||this.DetectFirefoxOSTablet()||this.DetectUbuntuTablet()||this.DetectWebOSTablet())return true;else return false},DetectTierIphone:function(){if(this.initCompleted||this.isTierIphone)return this.isTierIphone;if(this.DetectIphoneOrIpod()||this.DetectAndroidPhone()||this.DetectWindowsPhone()||this.DetectBlackBerry10Phone()||this.DetectPalmWebOS()||this.DetectBada()||this.DetectTizen()||this.DetectFirefoxOSPhone()||this.DetectSailfishPhone()||this.DetectUbuntuPhone()||this.DetectGamingHandheld())return true;if(this.DetectBlackBerryWebKit()&&this.DetectBlackBerryTouch())return true;else return false},DetectTierRichCss:function(){if(this.initCompleted||this.isTierRichCss)return this.isTierRichCss;if(this.DetectTierIphone()||this.DetectKindle()||this.DetectTierTablet())return false;if(!this.DetectMobileQuick())return false;if(this.DetectWebkit())return true;if(this.DetectS60OssBrowser()||this.DetectBlackBerryHigh()||this.DetectWindowsMobile()||this.uagent.search(this.engineTelecaQ)>-1)return true;else return false},DetectTierOtherPhones:function(){if(this.initCompleted||this.isTierGenericMobile)return this.isTierGenericMobile;if(this.DetectTierIphone()||this.DetectTierRichCss()||this.DetectTierTablet())return false;if(this.DetectMobileLong())return true;else return false},DetectAndroidVersion:function(){var e=0;try{e=parseFloat(this.uagent.slice(this.uagent.indexOf(this.deviceAndroid)+8))}catch(e){console.log(e.message)}return e}};var EnsembleVideo=EnsembleVideo||{};var platform=new EnsembleVideo.Platform;platform.InitDeviceScan();var isAndroidOrIos=platform.isAndroid||platform.isIos;var loggedLibraryId=jQuery('#LoggedLibraryId').val();var loggedOrganizationId=jQuery('#LoggedOrganizationId').val();var loggedInstitutionId=jQuery('#LoggedInstitutionId').val();(function($){"use strict";EnsembleVideo.Notifications=function(){var baseUrl=$('#HostBaseURL').val(),loggedUserId=$('#LoggedUserId').val(),userPermissions={loggedUserIsSysAdmin:$('#LoggedUserIsSysAdmin').val()==="True",loggedUserIsAdmin:$('#LoggedUserIsAdmin').val()==="True"},globalization={init:function(){var e=GetLanguage(true);moment.locale(e);moment.updateLocale(e,{relativeTime:{s:'Just Now'}})}},mySignalR={hubConnection:baseUrl+'/hapi/evhubs/notificationHub',signalRIsEnabled:$('#SignalRIsEnabled').val()==="True",init:function(){var e=this;if(!e.signalRIsEnabled){console.log("SignalR Is Not Enabled");return}console.log(baseUrl);console.log(loggedUserId);console.log(loggedLibraryId);var t=(new signalR.HubConnectionBuilder).configureLogging(signalR.LogLevel.Debug).withUrl(e.hubConnection).build();t.on("RefreshNotifications",function(){EnsembleVideo.Notifications.Notifications.pageNumber=1;EnsembleVideo.Notifications.Notifications.getNotifications()});t.onclose(function(e){console.log("Connection Closed...");console.log("Re-Connecting Hub...");setTimeout(function(){t.start().then(function(){console.log("Hub connected.");t.invoke("JoinGroup",loggedUserId).catch(function(e){return console.log(e.toString())});t.invoke("JoinGroup","System").catch(function(e){return console.log(e.toString())})}).catch(function(e){return console.log(e.toString())})},3e3)});console.log("Connecting Hub...");t.start().then(function(){console.log("Hub connected.");t.invoke("JoinGroup",loggedUserId).catch(function(e){return console.log(e.toString())});t.invoke("JoinGroup","System").catch(function(e){return console.log(e.toString())})}).catch(function(e){return console.log(e.toString())})}},notifications={scrollLoaderInProcess:false,pageNumber:1,totalPages:0,pageSize:10,mainNotificationIcon:'#mainNotificationIcon',notificationsMenu:'#notifications_menu',markAllAsReadLink:'#markAllAsRead',editNotificationsLink:'#editNotifications',notificationDropdownMenu:'#notification-dropdown-menu',notificationsList:'#notificationsList',notificationsListItems:'#notificationsList li',notificationLink:'#notificationsList a',markAsReadNotificationAction:'.markAsReadNotification',deleteNotification:'.deleteNotification',notificationActions:'.notificationActions',notificationProgress:'#notificationProgress',noNotificationsMessage:'#no-notifications-message',templates:{system:{system:"<li class='list-group-item system-notification-alert read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}'>"+"<div class='notification-alert'>"+"<span class='notificationIcon pull-left'><i class='fa fa-exclamation-triangle'></i></span>"+"<span class='notificationDescription'>"+"{{html system}} </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})"+"</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>"},admin:{storageQuota:{storageQuotaAlert:"<li class='list-group-item notification-alert read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}'>"+"<div class='notification-alert'>"+"<span class='notificationIcon pull-left'><i class='fa fa-pie-chart'></i></span>"+"<span class='notificationDescription'>"+"<a href='/app/admin/diskUsage.aspx'>{{html message}}</a>"+"</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>",storageQuotaAlertNoLink:"<li class='list-group-item notification-alert read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}'>"+"<div class='notification-alert'>"+"<span class='notificationIcon pull-left'><i class='fa fa-pie-chart'></i></span>"+"<span class='notificationDescription'>{{html message}}</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>"},transcodingAlerts:{transcoderIsAvailableAlertNotSysAdmin:"<li class='list-group-item notification-alert read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}'>"+"<div class='notification-alert'>"+"<span class='notificationIcon pull-left'><i class='fa fa-compress'></i></span>"+"<span class='notificationDescription'>{{html message}}</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>",transcoderIsAvailableAlertSysAdmin:"<li class='list-group-item notification-alert read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}'>"+"<div class='notification-alert'>"+"<span class='notificationIcon pull-left'><i class='fa fa-compress'></i></span>"+"<span class='notificationDescription'>"+"<a href='/app/admin/transcodingConfig.aspx'>{{html message}}</a>"+"</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>",transcoderIsAvailableFixed:"<li class='list-group-item notification-info read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}'>"+"<div class='notification-info'>"+"<span class='notificationIcon pull-left'><i class='fa fa-compress'></i></span>"+"<span class='notificationDescription'>{{html message}}</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>"},ensembleStudioAlerts:{deviceIsAvailableAlert:"<li class='list-group-item notification-alert read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}'>"+"<div class='notification-alert'>"+"<span class='notificationIcon pull-left'><i class='fa fa-calendar-check-o'></i></span>"+"<span class='notificationDescription'>"+"<a href='/Settings/Organizations/DeviceManagement'>{{html message}}</a>"+"</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>",deviceIsFixed:"<li class='list-group-item notification-info read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}'>"+"<div class='notification-info'>"+"<span class='notificationIcon pull-left'><i class='fa fa-calendar-check-o'></i></span>"+"<span class='notificationDescription'>{{html message}}</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>"},licenseExpiration:{licenseExpirationAlert:"<li class='list-group-item notification-alert read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}'>"+"<div class='notification-alert'>"+"<span class='notificationIcon pull-left'><i class='fa fa-bolt'></i></span>"+"<span class='notificationDescription'>{{html message}}</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>"}},library:{newMedia:"<li class='list-group-item notification-info read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}' data-current='${newMedia.libraryId === loggedLibraryId}' data-action='${newMedia.actionType}'>"+"<div class='notification-info'>"+"<span class='notificationIcon pull-left'><i class='${icon}'></i></span>"+"<span class='notificationDescription'>"+"<a href='/hapi/v1/contents/${newMedia.contentId}/preview' target='_blank'>{{html message}}</a>"+"</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>",mediaFailure:"<li class='list-group-item notification-alert read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}' data-current='${mediaFailure.libraryId === loggedLibraryId}' data-action='${mediaFailure.actionType}'>"+"<div class='notification-alert'>"+"<span class='notificationIcon pull-left'><i class='${icon}'></i></span>"+"<span class='notificationDescription'>{{html message}}</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>",sharing:{shareOrPublish:"<li class='list-group-item notification-info read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}' data-current='${sharing.libraryId === loggedLibraryId}' data-action='${sharing.actionType}'>"+"<div class='notification-info'>"+"<span class='notificationIcon pull-left'><i class='${icon}'></i></span>"+"<span class='notificationDescription'>"+"<a href='/hapi/v1/contents/${sharing.contentId}/preview' target='_blank'>{{html message}}</a>"+"</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>",unshareOrUnpublish:"<li class='list-group-item notification-info read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}' data-current='${sharing.libraryId === loggedLibraryId}' data-action='${sharing.actionType}'>"+"<div class='notification-info'>"+"<span class='notificationIcon pull-left'><i class='${icon}'></i></span>"+"<span class='notificationDescription'>{{html message}}</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>"},liveStreaming:"<li class='list-group-item notification-info read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}' data-current='${liveStreaming.libraryId === loggedLibraryId}' data-action='${liveStreaming.actionType}'>"+"<div class='notification-info'>"+"<span class='notificationIcon pull-left'><i class='fa fa-wifi'></i></span>"+"<span class='notificationDescription'>"+"<a href='/hapi/v1/contents/${liveStreaming.contentId}/preview' target='_blank'>{{html message}}</a>"+"</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>",ensembleStudio:{ensembleStudioRecordingStart:"<li class='list-group-item notification-info read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}' data-current='${ensembleStudio.libraryId === loggedLibraryId}' data-action='${ensembleStudio.actionType}'>"+"<div class='notification-info'>"+"<span class='notificationIcon pull-left'><i class='fa fa-calendar-check-o'></i></span>"+"<span class='notificationDescription'>"+"<a href='/hapi/v1/contents/${ensembleStudio.contentId}/preview' target='_blank'>{{html message}}</a>"+"</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>",ensembleStudioRecordingFailedContributor:"<li class='list-group-item notification-alert read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}' data-current='${ensembleStudio.libraryId === loggedLibraryId}' data-action='${ensembleStudio.actionType}'>"+"<div class='notification-alert'>"+"<span class='notificationIcon pull-left'><i class='fa fa-calendar-check-o'></i></span>"+"<span class='notificationDescription'>{{html message}}</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>",ensembleStudioRecordingFailedAdmin:"<li class='list-group-item notification-alert read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}' data-current='${ensembleStudio.libraryId === loggedLibraryId}' data-action='${ensembleStudio.actionType}'>"+"<div class='notification-alert'>"+"<span class='notificationIcon pull-left'><i class='fa fa-calendar-check-o'></i></span>"+"<span class='notificationDescription'>"+"<a href='/settings/Organizations/DeviceManagement/Dashboard'>{{html message}}</a>"+"</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>"},dropboxSubmissions:{successDropboxSubmission:"<li class='list-group-item notification-info read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}' data-current='${dropboxSubmissions.libraryId === loggedLibraryId}' data-action='${dropboxSubmissions.actionType}'>"+"<div class='notification-info'>"+"<span class='notificationIcon pull-left'><i class='fa fa-dropbox'></i></span>"+"<span class='notificationDescription'>{{html message}}</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>",failedDropboxSubmission:"<li class='list-group-item notification-alert read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}' data-current='${dropboxSubmissions.libraryId === loggedLibraryId}' data-action='${dropboxSubmissions.actionType}'>"+"<div class='notification-alert'>"+"<span class='notificationIcon pull-left'><i class='fa fa-dropbox'></i></span>"+"<span class='notificationDescription'>{{html message}}</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>"},quizSubmissions:"<li class='list-group-item notification-info read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}' data-current='${quizSubmissions.libraryId === loggedLibraryId}'>"+"<div class='notification-info'>"+"<span class='notificationIcon pull-left'><i class='fa fa-question-circle-o'></i></span>"+"<span class='notificationDescription'>{{html message}}</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>",storageQuota:{storageQuotaAlert:"<li class='list-group-item notification-alert read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}' data-current='${libraryStorageQuota.libraryId === loggedLibraryId}'>"+"<div class='notification-alert'>"+"<span class='notificationIcon pull-left'><i class='fa fa-pie-chart'></i></span>"+"<span class='notificationDescription'>"+"<a href='/app/admin/diskUsage.aspx'>{{html message}}</a>"+"</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>",storageQuotaAlertNoLink:"<li class='list-group-item notification-alert read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}' data-current='${libraryStorageQuota.libraryId === loggedLibraryId}'>"+"<div class='notification-alert'>"+"<span class='notificationIcon pull-left'><i class='fa fa-pie-chart'></i></span>"+"<span class='notificationDescription'>{{html message}}</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>"},closedCaptions:"<li class='list-group-item notification-info read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}' data-current='${closedCaptions.libraryId === loggedLibraryId}' data-action='${closedCaptions.actionType}'>"+"<div class='notification-info'>"+"<span class='notificationIcon pull-left'><i class='fa fa-cc'></i></span>"+"<span class='notificationDescription'>{{html message}}</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>",audioDescription:"<li class='list-group-item notification-info read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}' data-current='${audioDescription.libraryId === loggedLibraryId}' data-action='${audioDescription.actionType}'>"+"<div class='notification-info'>"+"<span class='notificationIcon pull-left'><i class='fa fa-audio-description'></i></span>"+"<span class='notificationDescription'>{{html message}}</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>",contentDelete:{contentDeleteUndelete:"<li class='list-group-item notification-info read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}' data-current='${contentDelete.libraryId === loggedLibraryId}' data-action='${contentDelete.actionType}'>"+"<div class='notification-info'>"+"<span class='notificationIcon pull-left'><i class='${icon}'></i></span>"+"<span class='notificationDescription'>{{html message}}</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>",contentDeleteFailed:"<li class='list-group-item notification-alert read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}' data-current='${contentDelete.libraryId === loggedLibraryId}' data-action='${contentDelete.actionType}'>"+"<div class='notification-alert'>"+"<span class='notificationIcon pull-left'><i class='fa fa-trash'></i></span>"+"<span class='notificationDescription'>{{html message}}</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>"}},webTriggered:{windowsService:{alert:"<li class='list-group-item notification-alert read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}'>"+"<div class='notification-alert'>"+"<span class='notificationIcon pull-left'><i class='fa fa-tachometer'></i></span>"+"<span class='notificationDescription'>"+"{{html message}}"+"</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>",fixed:"<li class='list-group-item notification-info read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}'>"+"<div class='notification-info'>"+"<span class='notificationIcon pull-left'><i class='fa fa-tachometer'></i></span>"+"<span class='notificationDescription'>"+"{{html message}}"+"</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>"},storageQuota:{storageQuotaAlert:"<li class='list-group-item notification-alert read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}'>"+"<div class='notification-alert'>"+"<span class='notificationIcon pull-left'><i class='fa fa-pie-chart'></i></span>"+"<span class='notificationDescription'>"+"<a href='/app/admin/diskUsage.aspx'>{{html message}}</a>"+"</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>",storageQuotaAlertNoLink:"<li class='list-group-item notification-alert read-${read}' data-id='${id}' data-type='${eventType}' data-read='${read}'>"+"<div class='notification-alert'>"+"<span class='notificationIcon pull-left'><i class='fa fa-pie-chart'></i></span>"+"<span class='notificationDescription'>{{html message}}</span>"+"<span class='${isAndroidOrIos ? 'mobileNotificationActions' : 'notificationActions'}'>"+"<span class='deleteNotification' title='Delete'><i class='fa fa-times-circle'></i></span>"+"<span class='markAsReadNotification' title='${read ? 'Mark as Unread' : 'Mark as Read'}' data-read='${read}'><i class='${read ? 'fa fa-circle-thin' : 'fa fa-circle'}'></i></span>"+"</span>"+"</div>"+"</li>"}}},messages:{admin:{storageQuota:{organizationStorageQuotaThreshold:"You have <b>${adminStorageQuota.storageQuotaAvailableInPrecentage}%</b> of your <b>${adminStorageQuota.organizationName}</b> organization storage quota remaining. You can permanently delete content in your organization or use the <a href=\"/app/admin/reports/reporting.aspx?InstitutionID=${adminStorageQuota.institutionId}&OrganizationID=${adminStorageQuota.organizationId}&LibraryID=156BDF7B-0091-47E9-B971-532B4F339042&ReportName=MediaCleanup\">Media Cleanup Report</a> to delete content. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",organizationStorageQuotaOverLimit:"You have used 100% of your <b>${adminStorageQuota.organizationName}</b> organization storage quota of ${adminStorageQuota.storageQuota} ${adminStorageQuota.storageQuotaUnit}. Please permanently delete content in your organization or use the <a href=\"/app/admin/reports/reporting.aspx?InstitutionID=${adminStorageQuota.institutionId}&OrganizationID=${adminStorageQuota.organizationId}&LibraryID=156BDF7B-0091-47E9-B971-532B4F339042&ReportName=MediaCleanup\">Media Cleanup Report</a> to delete content. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",institutionStorageQuotaThreshold:"You have <b>${adminStorageQuota.storageQuotaAvailableInPrecentage}%</b> of your <b>${adminStorageQuota.institutionName}</b> institution storage quota remaining. You can permanently delete content in your institution or use the <a href=\"/app/admin/reports/reporting.aspx?InstitutionID=${adminStorageQuota.institutionId}&OrganizationID=CAC5F941-6D39-44F8-AE56-DF38F7A30F13&LibraryID=156BDF7B-0091-47E9-B971-532B4F339042&ReportName=MediaCleanup\">Media Cleanup Report</a> to delete content. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",institutionStorageQuotaOverLimit:"You have used 100% of your <b>${adminStorageQuota.institutionName}</b> institution storage quota of ${adminStorageQuota.storageQuota} ${adminStorageQuota.storageQuotaUnit}. Please permanently delete content in your organization or use the <a href=\"/app/admin/reports/reporting.aspx?InstitutionID=${adminStorageQuota.institutionId}&OrganizationID=CAC5F941-6D39-44F8-AE56-DF38F7A30F13&LibraryID=156BDF7B-0091-47E9-B971-532B4F339042&ReportName=MediaCleanup\">Media Cleanup Report</a> to delete content. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})"},transcodingAlerts:{alert:"<b>${transcodingAlerts.name}</b> transcoder is not available. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",fixed:"<b>${transcodingAlerts.name}</b> transcoder is now available. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})"},ensembleStudioAlerts:{deviceIsAvailableAlert:"The Ensemble Studio device <b>${ensembleStudioAlerts.deviceName}</b> is not available in the <b>${ensembleStudioAlerts.institutionName}</b> Institution. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",deviceIsAvailableFixed:"The Ensemble Studio device <b>${ensembleStudioAlerts.deviceName}</b> is now available in the <b>${ensembleStudioAlerts.institutionName}</b> Institution. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",deviceIsRebooted:"The Ensemble Studio device <b>${ensembleStudioAlerts.deviceName}</b> has been automatically rebooted in the <b>${ensembleStudioAlerts.institutionName}</b> Institution. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})"},licenseExpiration:{system:{licenseIsInvalid:"No valid System license found. Please email <a href=\"mailto:sales@ensemblevideo.com?Subject=Ensemble Video License Renewal\">sales@ensemblevideo.com</a> to renew your license. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",licenseExpired:"Your System license expired on ${ConvertFromUtcToLocalDateWithUserFormat(licenseExpiration.expirationDate)}. Please email <a href=\"mailto:sales@ensemblevideo.com?Subject=Ensemble Video License Renewal\">sales@ensemblevideo.com</a> to renew your license. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",licenseExpiresToday:"Your System license expires today. Please email <a href=\"mailto:sales@ensemblevideo.com?Subject=Ensemble Video License Renewal\">sales@ensemblevideo.com</a> to renew your license. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",licenseExpiresWithinAMonth:"Your System license will expire in ${licenseExpiration.daysLeft} day(s). Please email <a href=\"mailto:sales@ensemblevideo.com?Subject=Ensemble Video License Renewal\">sales@ensemblevideo.com</a> to renew your license. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",licenseTitleLimitReached:"You have reached your System licensed video title limit of ${licenseExpiration.count}. Please email <a href=\"mailto:sales@ensemblevideo.com?Subject=Ensemble Video License Renewal\">sales@ensemblevideo.com</a> to renew your license. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",withinTenPercent:"You are using ${licenseExpiration.usedCount} video title(s) out of the total of ${licenseExpiration.count} allowed by your System license. Please email <a href=\"mailto:sales@ensemblevideo.com?Subject=Ensemble Video License Renewal\">sales@ensemblevideo.com</a> to renew your license. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})"},feature:{licenseExpired:"Your ${licenseExpiration.licenseName} license expired on (${ConvertFromUtcToLocalDateWithUserFormat(licenseExpiration.expirationDate)}) in the <b>${licenseExpiration.institutionName}</b> Institution. Please email <a href=\"mailto:sales@ensemblevideo.com?Subject=Ensemble Video License Renewal\">sales@ensemblevideo.com</a> to renew your license. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",licenseExpiresToday:"Your ${licenseExpiration.licenseName} license expires today in the <b>${licenseExpiration.institutionName}</b> Institution. Please email <a href=\"mailto:sales@ensemblevideo.com?Subject=Ensemble Video License Renewal\">sales@ensemblevideo.com</a> to renew your license. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",expiresWithinAMonth:"Your ${licenseExpiration.licenseName} will expire in ${licenseExpiration.daysLeft} day(s) in the <b>${licenseExpiration.institutionName}</b> Institution. Please email <a href=\"mailto:sales@ensemblevideo.com?Subject=Ensemble Video License Renewal\">sales@ensemblevideo.com</a> to renew your license. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",limitReached:"Your ${licenseExpiration.licenseName} has reached your licensed limit of ${licenseExpiration.count} in the <b>${licenseExpiration.institutionName}</b> Institution. Please email <a href=\"mailto:sales@ensemblevideo.com?Subject=Ensemble Video License Renewal\">sales@ensemblevideo.com</a> to renew your license. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})"},automaticCaptions:{institutionOverLimit:"Your Automatic Captions license limit has been reached and can no longer be used in the <b>${licenseExpiration.institutionName}</b> Institution. Please email <a href=\"mailto:sales@ensemblevideo.com?Subject=Ensemble Video License Renewal\">sales@ensemblevideo.com</a> to renew your license. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",institutionThreshold:"The Available time in your Automatic Captions license is running low (<b>${licenseExpiration.availableHoursInPercentage}%</b>) in the <b>${licenseExpiration.institutionName}</b> Institution. Please email <a href=\"mailto:sales@ensemblevideo.com?Subject=Ensemble Video License Upgrade\">sales@ensemblevideo.com</a> to upgrade your license. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",organizationOverLimit:"The <b>${licenseExpiration.organizationName}</b> organization Automatic Captions license limit has been reached and can no longer be used. Please email <a href=\"mailto:sales@ensemblevideo.com?Subject=Ensemble Video License Renewal\">sales@ensemblevideo.com</a> to renew your license. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",organizationThreshold:"The Available time in your Automatic Captions license is running low (<b>${licenseExpiration.availableHoursInPercentage}%</b>) in the <b>${licenseExpiration.organizationName}</b> Organization. Please email <a href=\"mailto:sales@ensemblevideo.com?Subject=Ensemble Video License Upgrade\">sales@ensemblevideo.com</a> to upgrade your license. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})"}}},library:{newMedia:{upload:"<b>${newMedia.contentTitle}</b> was added to your <b>${newMedia.libraryName}</b> Media Library after Upload. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",copy:"<b>${newMedia.contentTitle}</b> was copied to your <b>${newMedia.libraryName}</b> Media Library from the <b>${newMedia.sourceLibraryName}</b> Media Library. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",ensembleStudioRecording:"<b>${newMedia.contentTitle}</b> was added to your <b>${newMedia.libraryName}</b> Media Library from Ensemble Studio. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",dropbox:"<b>${newMedia.contentTitle}</b> was added to your <b>${newMedia.dropboxName}</b> Dropbox submissions. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",zoom:"<b>${newMedia.contentTitle}</b> was added to your <b>${newMedia.libraryName}</b> Media Library from Zoom. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",webEx:"<b>${newMedia.contentTitle}</b> was added to your <b>${newMedia.libraryName}</b> Media Library from WebEx. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",ingest:"<b>${newMedia.contentTitle}</b> was added to your <b>${newMedia.libraryName}</b> Media Library from an Ingest Directory. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",watch:"<b>${newMedia.contentTitle}</b> was added to your <b>${newMedia.libraryName}</b> Media Library from a Watch Directory. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",trim:"<b>${newMedia.contentTitle}</b> was added to your <b>${newMedia.libraryName}</b> Media Library after being Trimmed. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",chromeRecorder:"<b>${newMedia.contentTitle}</b> was added to your <b>${newMedia.libraryName}</b> Media Library from the Ensemble Video Recorder. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",ensembleAnthem:"<b>${newMedia.contentTitle}</b> was added to your <b>${newMedia.libraryName}</b> Media Library from Ensemble Anthem. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",liveCaptureRecording:"<b>${newMedia.contentTitle}</b> was added to your <b>${newMedia.libraryName}</b> Media Library from Live Streaming. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",liveStreamRecording:"<b>${newMedia.contentTitle}</b> was added to your <b>${newMedia.libraryName}</b> Media Library from Live Streaming. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",youTube:"<b>${newMedia.contentTitle}</b> was added to your <b>${newMedia.libraryName}</b> Media Library from YouTube. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",manualEntry:"<b>${newMedia.contentTitle}</b> was added to your <b>${newMedia.libraryName}</b> Media Library by Manual Entry. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})"},mediaFailure:{upload:"<b>${mediaFailure.contentTitle}</b> failed to be added to your <b>${mediaFailure.libraryName}</b> Media Library after Upload. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",copy:"<b>${mediaFailure.contentTitle}</b> failed to be copied to your <b>${mediaFailure.libraryName}</b> Media Library from the <b>${mediaFailure.sourceLibraryName}</b> Media Library. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",dropbox:"<b>${mediaFailure.contentTitle}</b> failed to be added to your <b>${mediaFailure.dropboxName}</b> Dropbox submissions. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",trim:"<b>${mediaFailure.contentTitle}</b> failed to be trimmed into <b>${mediaFailure.libraryName}</b> Media Library. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",ensembleStudioRecording:"<b>${mediaFailure.contentTitle}</b> failed to be added to your <b>${mediaFailure.libraryName}</b> Media Library from Ensemble Studio. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",zoom:"<b>${mediaFailure.contentTitle}</b> failed to be added to your <b>${mediaFailure.libraryName}</b> Media Library from Zoom. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",webEx:"<b>${mediaFailure.contentTitle}</b> failed to be added to your <b>${mediaFailure.libraryName}</b> Media Library from WebEx. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",ingest:"<b>${mediaFailure.contentTitle}</b> failed to be added to your <b>${mediaFailure.libraryName}</b> Media Library from an Ingest Directory. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",watch:"<b>${mediaFailure.contentTitle}</b> failed to be added to your <b>${mediaFailure.libraryName}</b> Media Library from a Watch Directory. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",chromeRecorder:"<b>${mediaFailure.contentTitle}</b> failed to be added to your <b>${mediaFailure.libraryName}</b> Media Library from the Ensemble Video Recorder. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",ensembleAnthem:"<b>${mediaFailure.contentTitle}</b> failed to be added to your <b>${mediaFailure.libraryName}</b> Media Library from Ensemble Anthem. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",liveStreamRecording:"<b>${mediaFailure.contentTitle}</b> failed to be added to your <b>${mediaFailure.libraryName}</b> Media Library from Live Streaming. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",liveCaptureRecording:"<b>${mediaFailure.contentTitle}</b> failed to be added to your <b>${mediaFailure.libraryName}</b> Media Library from Live Streaming. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",youTube:"<b>${mediaFailure.contentTitle}</b> failed to be added to your <b>${mediaFailure.libraryName}</b> Media Library from YouTube. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})"},sharing:{share:"<b>${sharing.contentTitle}</b> was shared to your <b>${sharing.libraryName}</b> Shared Library from the <b>${sharing.sourceLibraryName}</b> Media Library. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",unshare:"<b>${sharing.contentTitle}</b> was unshared from your <b>${sharing.libraryName}</b> Shared Library from the <b>${sharing.sourceLibraryName}</b> Media Library. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",directPublish:"<b>${sharing.contentTitle}</b> was directly published to your <b>${sharing.playlistName}</b> Playlist in <b>${sharing.libraryName}</b> Media Library from the <b>${sharing.sourceLibraryName}</b> Media Library. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",directUnpublish:"<b>${sharing.contentTitle}</b> was unpublished from your <b>${sharing.playlistName}</b> Playlist in <b>${sharing.libraryName}</b> Media Library from the <b>${sharing.sourceLibraryName}</b> Media Library. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})"},liveStreaming:{liveStreamStart:"<b>${liveStreaming.contentTitle}</b> went live in Live Streaming in <b>${liveStreaming.libraryName}</b> Library. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",liveCaptureStart:"<b>${liveStreaming.contentTitle}</b> went live in Live Streaming and is recording to your <b>${liveStreaming.libraryName}</b> Media Library. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})"},ensembleStudio:{ensembleStudioRecordingStart:"<b>${ensembleStudio.recordingName}</b> recording was started in Ensemble Studio in <b>${ensembleStudio.libraryName}</b> Library. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",ensembleStudioRecordingFailedContributor:"<b>${ensembleStudio.recordingName}</b> recording has failed in Ensemble Studio in <b>${ensembleStudio.libraryName}</b> Library. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",ensembleStudioRecordingFailedAdmin:"<b>${ensembleStudio.recordingName}</b> recording has failed in Ensemble Studio in <b>${ensembleStudio.libraryName}</b> Library. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})"},dropboxSubmissions:{newSubmission:"<a href=\"/hapi/v1/contents/${dropboxSubmissions.contentId}/preview\" target=\"_blank\"><b>${dropboxSubmissions.contentTitle}</b></a> was submitted to your <a href=\"/app/admin/dropbox/${dropboxSubmissions.dropboxUrl}\"><b>${dropboxSubmissions.dropboxName}</b></a> Dropbox by ${dropboxSubmissions.submittedByName}. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",failedSubmission:"<b>${dropboxSubmissions.contentTitle}</b> failed to be added to your <b>${dropboxSubmissions.dropboxName}</b> Dropbox by ${dropboxSubmissions.submittedByName}. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})"},quizSubmissions:{newSubmission:"<a href=\"/app/admin/quiz/results.aspx?QuizKey=${quizSubmissions.quizKey}\"><b>${quizSubmissions.submittedByName}</b></a> completed the <a href=\"/hapi/v1/quiz/${quizSubmissions.quizKey}/preview\" target=\"_blank\"><b>${quizSubmissions.quizName}</b></a> Quiz. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})"},storageQuota:{storageQuotaThreshold:"You have <b>${libraryStorageQuota.storageQuotaAvailableInPrecentage}%</b> of your <b>${libraryStorageQuota.libraryName}</b> library storage quota remaining. You can permanently delete content in your <b>${libraryStorageQuota.libraryName}</b> library or use the <a href=\"/app/admin/reports/reporting.aspx?InstitutionID=${libraryStorageQuota.institutionId}&OrganizationID=${libraryStorageQuota.organizationId}&LibraryID=${libraryStorageQuota.libraryId}&ReportName=MediaCleanup\">Media Cleanup Report</a> to delete content. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",storageQuotaOverLimit:"You have used 100% of your <b>${libraryStorageQuota.libraryName}</b> library storage quota of ${libraryStorageQuota.storageQuota} ${libraryStorageQuota.storageQuotaUnit}. Please permanently delete content in your <b>${libraryStorageQuota.libraryName}</b> library or use the <a href=\"/app/admin/reports/reporting.aspx?InstitutionID=${libraryStorageQuota.institutionId}&OrganizationID=${libraryStorageQuota.organizationId}&LibraryID=${libraryStorageQuota.libraryId}&ReportName=MediaCleanup\">Media Cleanup Report</a> to delete content. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})"},closedCaptions:{upload:"A Closed Caption file was added to the <b>${closedCaptions.contentTitle}</b> item in your <b>${closedCaptions.libraryName}</b> Media Library. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",automaticSync:"A Closed Caption file was added to the <b>${closedCaptions.contentTitle}</b>item in your <b>${closedCaptions.libraryName}</b> Media Library from a Automatic Sync. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",amara:"A Closed Caption file was edited and published to the <b>${closedCaptions.contentTitle}</b> item in your <b>${closedCaptions.libraryName}</b> Media Library. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",watchDirectory:"A Closed Caption file was added to the <b>${closedCaptions.contentTitle}</b> item in your <b>${closedCaptions.libraryName}</b> Media Library from Watch directory. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",automaticCaptions:"A Closed Caption file was added to the <b>${closedCaptions.contentTitle}</b> item in your <b>${closedCaptions.libraryName}</b> Media Library from Automatic Captions. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",zoom:"A Closed Caption file was added to the <b>${closedCaptions.contentTitle}</b> item in your <b>${closedCaptions.libraryName}</b> Media Library from Zoom. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})"},audioDescription:{upload:"An Audio Description file was added to the <b>${audioDescription.contentTitle}</b> item in your <b>${audioDescription.libraryName}</b> Media Library. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",textToSpeech:"An Audio Description file was edited and published to the <b>${audioDescription.contentTitle}</b> item in your <b>${audioDescription.libraryName}</b> Media Library. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})"},contentDelete:{contentDelete:"Content <b>${contentDelete.contentTitle}</b> has been deleted from your <b>${contentDelete.libraryName}</b> Media Library. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",contentPermanentDelete:"Content <b>${contentDelete.contentTitle}</b> has been permanently deleted from your <b>${contentDelete.libraryName}</b> Media Library. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",contentDeleteFailed:"Content <b>${contentDelete.contentTitle}</b> was not permanently deleted from your <b>${contentDelete.libraryName}</b> Media Library. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",contentUndelete:"Content <b>${contentDelete.contentTitle}</b> has been undeleted in your <b>${contentDelete.libraryName}</b> Media Library. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})"}},webTriggered:{windowsService:{alert:"<b>Ensemble Video Windows Service</b> is not available. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})",fixed:"<b>Ensemble Video Windows Service</b> is now available. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})"},storageQuota:{storageQuotaOverLimit:"You have used 100% of your <b>${storageQuotaOverLimit.libraryName}</b> library storage quota of ${storageQuotaOverLimit.storageQuota} ${storageQuotaOverLimit.storageQuotaUnit}. Please permanently delete content in your <b>${storageQuotaOverLimit.libraryName}</b> library or use the <a href=\"/app/admin/reports/reporting.aspx?InstitutionID=${storageQuotaOverLimit.institutionId}&OrganizationID=${storageQuotaOverLimit.organizationId}&LibraryID=${storageQuotaOverLimit.libraryId}&ReportName=MediaCleanup\">Media Cleanup Report</a> to delete content. </br>(${ConvertFromUtcToLocalDateTimeFromNow(createdOn)})"}}},labels:{mainNotificationBadge:'.mainNotificationBadge',notificationNumber:'.notificationsNumber',mediaLibrary:'#mediaLibraryLabel',sharedLibrary:'#sharedLibraryLabel',playlists:'#playlistsLabel',quizzes:'#quizzesLabel',dropbox:'#dropboxLabel',ensembleStudio:'#ensembleStudioLabel',liveStream:'#liveStreamLabel',counts:{maxTotalUnseenToDisplay:99,maxTotalUnseenToDisplayUI:"99+",maxUnreadToDisplay:9,maxUnreadToDisplayUI:"9+",totalUnseen:0,totalUnread:0,mediaLibraryUnread:0,sharedLibraryUnread:0,playlistsUnread:0,quizzesUnread:0,dropboxUnread:0,ensembleStudioUnread:0,liveStreamUnread:0}},formMessage:function(e,t){var i=[];var n=$.tmpl(e,t);for(var a=0;a<n.length;++a){var r=n[a].outerHTML;var o=n[a].textContent;var s=r!==undefined?r:o;i.push(s)}return i.join('')},getNotifications:function(appendNotifications){var self=this;$.ajax({beforeSend:function(){$(self.notificationProgress).show();if(!appendNotifications){$(self.notificationsList).empty()}},complete:function(){$(self.notificationProgress).hide();self.scrollLoaderInProcess=false},cache:false,url:'/hapi/v1/Notifications',type:'GET',dataType:'json',data:{libraryId:loggedLibraryId,pageNumber:self.pageNumber,pageSize:self.pageSize},success:jQuery.proxy(function(response){self.pageNumber=response.pageNumber;self.totalPages=response.totalPages;self.showHideNoNotificationsMessage(response.totalItemsCount);self.handleNotificationList(eval(response.notifications)||[]);self.handleNotificationLabels(response)},this),error:jQuery.proxy(function(e){},this)})},showHideNoNotificationsMessage:function(e){var t=this;if(e===0)$(t.noNotificationsMessage).show();else $(t.noNotificationsMessage).hide()},handleNotificationList:function(e){var i=this;$(e).each(function(e){try{var t=$(this)[0];switch(t.eventType){case"NewMedia":i.libraryHandlers.handleNewMediaNotifications(t);break;case"MediaFailure":i.libraryHandlers.handleMediaFailureNotifications(t);break;case"QuizSubmissions":i.libraryHandlers.handleQuizSubmissionsNotifications(t);break;case"Sharing":i.libraryHandlers.handleSharingNotifications(t);break;case"LibraryStorageQuota":i.libraryHandlers.handleLibraryStorageQuotaNotifications(t);break;case"DropboxSubmissions":i.libraryHandlers.handleDropboxSubmissionsNotifications(t);break;case"EnsembleStudio":i.libraryHandlers.handleEnsembleStudioNotifications(t);break;case"LiveStreaming":i.libraryHandlers.handleLiveStreamingNotifications(t);break;case"ClosedCaptions":i.libraryHandlers.handleClosedCaptionsNotifications(t);break;case"AudioDescription":i.libraryHandlers.handleAudioDescriptionNotifications(t);break;case"ContentDelete":i.libraryHandlers.handleContentDeleteNotifications(t);break;case"System":i.systemHandlers.handleSystemNotifications(t);break;case"StorageQuota":i.adminHandlers.handleAdminStorageQuotaNotifications(t);break;case"TranscodingAlerts":i.adminHandlers.handleAdminTranscodingAlertsNotifications(t);break;case"EnsembleStudioAlerts":i.adminHandlers.handleAdminEnsembleStudioAlertsNotifications(t);break;case"LicenseExpiration":i.adminHandlers.handleAdminLicenseExpirationNotifications(t);break;case"WindowsService":i.webTriggeredHandlers.handleWindowsServiceNotifications(t);break;case"StorageQuotaOverLimit":i.webTriggeredHandlers.handleStorageQuotaOverLimitNotifications(t);break}}catch(e){console.log(e.message)}})},handleNotificationLabels:function(e){var t=this;var i=e.notificationCounts;t.labels.counts.totalUnseen=i.totalUnseen;t.labels.counts.totalUnread=i.totalUnread;t.labels.counts.mediaLibraryUnread=i.mediaLibraryUnread;t.labels.counts.sharedLibraryUnread=i.sharedLibraryUnread;t.labels.counts.playlistsUnread=i.directPublishedUnread;t.labels.counts.quizzesUnread=i.quizzesUnread;t.labels.counts.dropboxUnread=i.dropboxUnread;t.labels.counts.ensembleStudioUnread=i.ensembleStudioUnread;t.labels.counts.liveStreamUnread=i.liveStreamUnread;t.updateLabels()},updateLabels:function(){var e=this;var t=e.labels.counts.totalUnseen===0?'':e.labels.counts.totalUnseen>e.labels.counts.maxTotalUnseenToDisplay?e.labels.counts.maxTotalUnseenToDisplayUI:e.labels.counts.totalUnseen;var i=e.labels.counts.mediaLibraryUnread===0?'':e.labels.counts.mediaLibraryUnread>e.labels.counts.maxUnreadToDisplay?e.labels.counts.maxUnreadToDisplayUI:e.labels.counts.mediaLibraryUnread;var n=e.labels.counts.sharedLibraryUnread===0?'':e.labels.counts.sharedLibraryUnread>e.labels.counts.maxUnreadToDisplay?e.labels.counts.maxUnreadToDisplayUI:e.labels.counts.sharedLibraryUnread;var a=e.labels.counts.playlistsUnread===0?'':e.labels.counts.playlistsUnread>e.labels.counts.maxUnreadToDisplay?e.labels.counts.maxUnreadToDisplayUI:e.labels.counts.playlistsUnread;var r=e.labels.counts.quizzesUnread===0?'':e.labels.counts.quizzesUnread>e.labels.counts.maxUnreadToDisplay?e.labels.counts.maxUnreadToDisplayUI:e.labels.counts.quizzesUnread;var o=e.labels.counts.dropboxUnread===0?'':e.labels.counts.dropboxUnread>e.labels.counts.maxUnreadToDisplay?e.labels.counts.maxUnreadToDisplayUI:e.labels.counts.dropboxUnread;var s=e.labels.counts.ensembleStudioUnread===0?'':e.labels.counts.ensembleStudioUnread>e.labels.counts.maxUnreadToDisplay?e.labels.counts.maxUnreadToDisplayUI:e.labels.counts.ensembleStudioUnread;var c=e.labels.counts.liveStreamUnread===0?'':e.labels.counts.liveStreamUnread>e.labels.counts.maxUnreadToDisplay?e.labels.counts.maxUnreadToDisplayUI:e.labels.counts.liveStreamUnread;$(e.labels.mainNotificationBadge).text(t);$(e.labels.mediaLibrary).text(i);$(e.labels.sharedLibrary).text(n);$(e.labels.playlists).text(a);$(e.labels.quizzes).text(r);$(e.labels.dropbox).text(o);$(e.labels.ensembleStudio).text(s);$(e.labels.liveStream).text(c)},systemHandlers:{handleSystemNotifications:function(e){var t=EnsembleVideo.Notifications.Notifications;e.system=e.system.replace("#userId#",loggedUserId+'?backUrl='+location.pathname);$.tmpl(t.templates.system.system,e).appendTo(t.notificationsList)}},adminHandlers:{handleAdminStorageQuotaNotifications:function(e){var t=EnsembleVideo.Notifications.Notifications;var i=false;switch(e.adminStorageQuota.actionType){case"OrganizationStorageQuotaOverLimit":i=loggedOrganizationId===e.adminStorageQuota.organizationId;e.message=t.formMessage(t.messages.admin.storageQuota.organizationStorageQuotaOverLimit,e);break;case"OrganizationStorageQuotaThreshold":i=loggedOrganizationId===e.adminStorageQuota.organizationId;e.message=t.formMessage(t.messages.admin.storageQuota.organizationStorageQuotaThreshold,e);break;case"InstitutionStorageQuotaOverLimit":i=loggedInstitutionId===e.adminStorageQuota.institutionId;e.message=t.formMessage(t.messages.admin.storageQuota.institutionStorageQuotaOverLimit,e);break;case"InstitutionStorageQuotaThreshold":i=loggedInstitutionId===e.adminStorageQuota.institutionId;e.message=t.formMessage(t.messages.admin.storageQuota.institutionStorageQuotaThreshold,e);break}if(i){$.tmpl(t.templates.admin.storageQuota.storageQuotaAlert,e).appendTo(t.notificationsList)}else{$.tmpl(t.templates.admin.storageQuota.storageQuotaAlertNoLink,e).appendTo(t.notificationsList)}},handleAdminTranscodingAlertsNotifications:function(e){var t=EnsembleVideo.Notifications.Notifications;switch(e.transcodingAlerts.actionType){case"TranscoderIsAvailable":{if(e.transcodingAlerts.isFixed!==true){e.message=t.formMessage(t.messages.admin.transcodingAlerts.alert,e);if(EnsembleVideo.Notifications.UserPermissions.loggedUserIsSysAdmin)$.tmpl(t.templates.admin.transcodingAlerts.transcoderIsAvailableAlertSysAdmin,e).appendTo(t.notificationsList);else $.tmpl(t.templates.admin.transcodingAlerts.transcoderIsAvailableAlertNotSysAdmin,e).appendTo(t.notificationsList)}else{e.message=t.formMessage(t.messages.admin.transcodingAlerts.fixed,e);$.tmpl(t.templates.admin.transcodingAlerts.transcoderIsAvailableFixed,e).appendTo(t.notificationsList)}}break}},handleAdminEnsembleStudioAlertsNotifications:function(e){var t=EnsembleVideo.Notifications.Notifications;switch(e.ensembleStudioAlerts.actionType){case"EnsembleStudioDeviceIsAvailable":{if(e.ensembleStudioAlerts.isFixed!==true){e.message=t.formMessage(t.messages.admin.ensembleStudioAlerts.deviceIsAvailableAlert,e);$.tmpl(t.templates.admin.ensembleStudioAlerts.deviceIsAvailableAlert,e).appendTo(t.notificationsList)}else{e.message=t.formMessage(t.messages.admin.ensembleStudioAlerts.deviceIsAvailableFixed,e);$.tmpl(t.templates.admin.ensembleStudioAlerts.deviceIsFixed,e).appendTo(t.notificationsList)}}break;case"EnsembleStudioDeviceIsRebooted":{e.message=t.formMessage(t.messages.admin.ensembleStudioAlerts.deviceIsRebooted,e);$.tmpl(t.templates.admin.ensembleStudioAlerts.deviceIsFixed,e).appendTo(t.notificationsList)}break}},handleAdminLicenseExpirationNotifications:function(e){var t=EnsembleVideo.Notifications.Notifications;switch(e.licenseExpiration.actionType){case"SystemInvalidLicense":e.message=t.formMessage(t.messages.admin.licenseExpiration.system.licenseIsInvalid,e);break;case"TitlesLicenseExpired":e.message=t.formMessage(t.messages.admin.licenseExpiration.system.licenseExpired,e);break;case"TitlesExpiresToday":e.message=t.formMessage(t.messages.admin.licenseExpiration.system.licenseExpiresToday,e);break;case"TitlesExpiresWithinAMonth":e.message=t.formMessage(t.messages.admin.licenseExpiration.system.licenseExpiresWithinAMonth,e);break;case"TitlesLimitReached":e.message=t.formMessage(t.messages.admin.licenseExpiration.system.licenseTitleLimitReached,e);break;case"TitlesWithinTenPercent":e.message=t.formMessage(t.messages.admin.licenseExpiration.system.withinTenPercent,e);break;case"EnsembleAnthemLicenseExpired":case"EnsembleStudioLicenseExpired":e.message=t.formMessage(t.messages.admin.licenseExpiration.feature.licenseExpired,e);break;case"EnsembleAnthemExpiresToday":case"EnsembleStudioExpiresToday":e.message=t.formMessage(t.messages.admin.licenseExpiration.feature.licenseExpiresToday,e);break;case"EnsembleAnthemExpiresWithinAMonth":case"EnsembleStudioExpiresWithinAMonth":e.message=t.formMessage(t.messages.admin.licenseExpiration.feature.expiresWithinAMonth,e);break;case"EnsembleAnthemLimitReached":case"EnsembleStudioLimitReached":e.message=t.formMessage(t.messages.admin.licenseExpiration.feature.limitReached,e);break;case"InstitutionAutomaticCaptionLicenseOverLimit":e.message=t.formMessage(t.messages.admin.licenseExpiration.automaticCaptions.institutionOverLimit,e);break;case"InstitutionAutomaticCaptionLicenseThreshold":e.message=t.formMessage(t.messages.admin.licenseExpiration.automaticCaptions.institutionThreshold,e);break;case"OrganizationAutomaticCaptionLicenseOverLimit":e.message=t.formMessage(t.messages.admin.licenseExpiration.automaticCaptions.organizationOverLimit,e);break;case"OrganizationAutomaticCaptionLicenseThreshold":e.message=t.formMessage(t.messages.admin.licenseExpiration.automaticCaptions.organizationThreshold,e);break}$.tmpl(t.templates.admin.licenseExpiration.licenseExpirationAlert,e).appendTo(t.notificationsList)}},libraryHandlers:{handleNewMediaNotifications:function(e){var t=EnsembleVideo.Notifications.Notifications;switch(e.newMedia.actionType){case"Upload":e.icon="fa fa-caret-square-o-right";e.message=t.formMessage(t.messages.library.newMedia.upload,e);break;case"Copy":e.icon="fa fa-files-o";e.message=t.formMessage(t.messages.library.newMedia.copy,e);break;case"Dropbox":e.icon="fa fa-dropbox";e.message=t.formMessage(t.messages.library.newMedia.dropbox,e);break;case"Trim":e.icon="fa fa-caret-square-o-right";e.message=t.formMessage(t.messages.library.newMedia.trim,e);break;case"EnsembleStudioRecording":e.icon="fa fa-calendar-check-o";e.message=t.formMessage(t.messages.library.newMedia.ensembleStudioRecording,e);break;case"Zoom":e.icon="fa fa-caret-square-o-right";e.message=t.formMessage(t.messages.library.newMedia.zoom,e);break;case"WebEx":e.icon="fa fa-caret-square-o-right";e.message=t.formMessage(t.messages.library.newMedia.webEx,e);break;case"Ingest":e.icon="fa fa-caret-square-o-right";e.message=t.formMessage(t.messages.library.newMedia.ingest,e);break;case"Watch":e.icon="fa fa-caret-square-o-right";e.message=t.formMessage(t.messages.library.newMedia.watch,e);break;case"ChromeRecorder":e.icon="fa fa-chrome";e.message=t.formMessage(t.messages.library.newMedia.chromeRecorder,e);break;case"EnsembleAnthem":e.icon="fa fa-crosshairs";e.message=t.formMessage(t.messages.library.newMedia.ensembleAnthem,e);break;case"LiveStreamRecording":e.icon="fa fa-wifi";e.message=t.formMessage(t.messages.library.newMedia.liveStreamRecording,e);break;case"LiveCaptureRecording":e.icon="fa fa-wifi";e.message=t.formMessage(t.messages.library.newMedia.liveCaptureRecording,e);break;case"YouTube":e.icon="fa fa-youtube-play";e.message=t.formMessage(t.messages.library.newMedia.youTube,e);break;case"ManualEntry":e.icon="fa fa-caret-square-o-right";e.message=t.formMessage(t.messages.library.newMedia.manualEntry,e);break}$.tmpl(t.templates.library.newMedia,e).appendTo(t.notificationsList)},handleMediaFailureNotifications:function(e){var t=EnsembleVideo.Notifications.Notifications;switch(e.mediaFailure.actionType){case"Upload":e.icon="fa fa-caret-square-o-right";e.message=t.formMessage(t.messages.library.mediaFailure.upload,e);break;case"Copy":e.icon="fa fa-files-o";e.message=t.formMessage(t.messages.library.mediaFailure.copy,e);break;case"Dropbox":e.icon="fa fa-dropbox";e.message=t.formMessage(t.messages.library.mediaFailure.dropbox,e);break;case"Trim":e.icon="fa fa-caret-square-o-right";e.message=t.formMessage(t.messages.library.mediaFailure.trim,e);break;case"EnsembleStudioRecording":e.icon="fa fa-calendar-check-o";e.message=t.formMessage(t.messages.library.mediaFailure.ensembleStudioRecording,e);break;case"Zoom":e.icon="fa fa-caret-square-o-right";e.message=t.formMessage(t.messages.library.mediaFailure.zoom,e);break;case"WebEx":e.icon="fa fa-caret-square-o-right";e.message=t.formMessage(t.messages.library.mediaFailure.webEx,e);break;case"Ingest":e.icon="fa fa-caret-square-o-right";e.message=t.formMessage(t.messages.library.mediaFailure.ingest,e);break;case"Watch":e.icon="fa fa-caret-square-o-right";e.message=t.formMessage(t.messages.library.mediaFailure.watch,e);break;case"ChromeRecorder":e.icon="fa fa-chrome";e.message=t.formMessage(t.messages.library.mediaFailure.chromeRecorder,e);break;case"EnsembleAnthem":e.icon="fa fa-crosshairs";e.message=t.formMessage(t.messages.library.mediaFailure.ensembleAnthem,e);break;case"LiveStreamRecording":e.icon="fa fa-wifi";e.message=t.formMessage(t.messages.library.mediaFailure.liveStreamRecording,e);break;case"LiveCaptureRecording":e.icon="fa fa-wifi";e.message=t.formMessage(t.messages.library.mediaFailure.liveCaptureRecording,e);break;case"YouTube":e.icon="fa fa-youtube-play";e.message=t.formMessage(t.messages.library.mediaFailure.youTube,e);break}$.tmpl(t.templates.library.mediaFailure,e).appendTo(t.notificationsList)},handleSharingNotifications:function(e){var t=EnsembleVideo.Notifications.Notifications;switch(e.sharing.actionType){case"Share":e.icon="fa fa-folder-open";e.message=e.sharing.published?t.formMessage(t.messages.library.sharing.share,e):t.formMessage(t.messages.library.sharing.unshare,e);break;case"DirectPublish":e.icon="fa fa-share-square-o";e.message=e.sharing.published?t.formMessage(t.messages.library.sharing.directPublish,e):t.formMessage(t.messages.library.sharing.directUnpublish,e);break}if(e.sharing.published){$.tmpl(t.templates.library.sharing.shareOrPublish,e).appendTo(t.notificationsList)}else{$.tmpl(t.templates.library.sharing.unshareOrUnpublish,e).appendTo(t.notificationsList)}},handleQuizSubmissionsNotifications:function(e){var t=EnsembleVideo.Notifications.Notifications;e.message=t.formMessage(t.messages.library.quizSubmissions.newSubmission,e);$.tmpl(t.templates.library.quizSubmissions,e).appendTo(t.notificationsList)},handleLibraryStorageQuotaNotifications:function(e){var t=EnsembleVideo.Notifications.Notifications;switch(e.libraryStorageQuota.actionType){case"LibraryStorageQuotaOverLimit":e.message=t.formMessage(t.messages.library.storageQuota.storageQuotaOverLimit,e);break;case"LibraryStorageQuotaThreshold":e.message=t.formMessage(t.messages.library.storageQuota.storageQuotaThreshold,e);break}if(loggedLibraryId===e.libraryStorageQuota.libraryId){$.tmpl(t.templates.library.storageQuota.storageQuotaAlert,e).appendTo(t.notificationsList)}else{$.tmpl(t.templates.library.storageQuota.storageQuotaAlertNoLink,e).appendTo(t.notificationsList)}},handleDropboxSubmissionsNotifications:function(e){var t=EnsembleVideo.Notifications.Notifications;if(e.dropboxSubmissions.isFailed){e.message=t.formMessage(t.messages.library.dropboxSubmissions.failedSubmission,e);$.tmpl(t.templates.library.dropboxSubmissions.failedDropboxSubmission,e).appendTo(t.notificationsList)}else{e.message=t.formMessage(t.messages.library.dropboxSubmissions.newSubmission,e);$.tmpl(t.templates.library.dropboxSubmissions.successDropboxSubmission,e).appendTo(t.notificationsList)}},handleEnsembleStudioNotifications:function(e){var t=EnsembleVideo.Notifications.Notifications;switch(e.ensembleStudio.actionType){case"EnsembleStudioRecordingStart":e.message=t.formMessage(t.messages.library.ensembleStudio.ensembleStudioRecordingStart,e);$.tmpl(t.templates.library.ensembleStudio.ensembleStudioRecordingStart,e).appendTo(t.notificationsList);break;case"EnsembleStudioRecordingFailed":if(EnsembleVideo.Notifications.UserPermissions.loggedUserIsAdmin){e.message=t.formMessage(t.messages.library.ensembleStudio.ensembleStudioRecordingFailedAdmin,e);$.tmpl(t.templates.library.ensembleStudio.ensembleStudioRecordingFailedAdmin,e).appendTo(t.notificationsList)}else{e.message=t.formMessage(t.messages.library.ensembleStudio.ensembleStudioRecordingFailedContributor,e);$.tmpl(t.templates.library.ensembleStudio.ensembleStudioRecordingFailedContributor,e).appendTo(t.notificationsList)}break}},handleLiveStreamingNotifications:function(e){var t=EnsembleVideo.Notifications.Notifications;switch(e.liveStreaming.actionType){case"LiveStreamStart":e.message=t.formMessage(t.messages.library.liveStreaming.liveStreamStart,e);break;case"LiveCaptureStart":e.message=t.formMessage(t.messages.library.liveStreaming.liveCaptureStart,e);break}$.tmpl(t.templates.library.liveStreaming,e).appendTo(t.notificationsList)},handleClosedCaptionsNotifications:function(e){var t=EnsembleVideo.Notifications.Notifications;switch(e.closedCaptions.actionType){case"ClosedCaptionsUpload":e.message=t.formMessage(t.messages.library.closedCaptions.upload,e);break;case"ClosedCaptionsAutomaticSync":e.message=t.formMessage(t.messages.library.closedCaptions.automaticSync,e);break;case"ClosedCaptionsAmara":e.message=t.formMessage(t.messages.library.closedCaptions.amara,e);break;case"ClosedCaptionsWatchDirectory":e.message=t.formMessage(t.messages.library.closedCaptions.watchDirectory,e);break;case"ClosedCaptionsAutomaticCaptions":e.message=t.formMessage(t.messages.library.closedCaptions.automaticCaptions,e);break;case"ClosedCaptionsZoom":e.message=t.formMessage(t.messages.library.closedCaptions.zoom,e);break}$.tmpl(t.templates.library.closedCaptions,e).appendTo(t.notificationsList)},handleAudioDescriptionNotifications:function(e){var t=EnsembleVideo.Notifications.Notifications;switch(e.audioDescription.actionType){case"AudioDescriptionUpload":e.message=t.formMessage(t.messages.library.audioDescription.upload,e);break;case"AudioDescriptionTextToSpeech":e.message=t.formMessage(t.messages.library.audioDescription.textToSpeech,e);break}$.tmpl(t.templates.library.audioDescription,e).appendTo(t.notificationsList)},handleContentDeleteNotifications:function(e){var t=EnsembleVideo.Notifications.Notifications;switch(e.contentDelete.actionType){case"ContentDelete":e.icon="fa fa-trash";e.message=t.formMessage(t.messages.library.contentDelete.contentDelete,e);$.tmpl(t.templates.library.contentDelete.contentDeleteUndelete,e).appendTo(t.notificationsList);break;case"ContentPermanentDelete":e.icon="fa fa-trash";e.message=t.formMessage(t.messages.library.contentDelete.contentPermanentDelete,e);$.tmpl(t.templates.library.contentDelete.contentDeleteUndelete,e).appendTo(t.notificationsList);break;case"ContentDeleteFailed":e.message=t.formMessage(t.messages.library.contentDelete.contentDeleteFailed,e);$.tmpl(t.templates.library.contentDelete.contentDeleteFailed,e).appendTo(t.notificationsList);break;case"ContentUndelete":e.icon="fa fa-undo";e.message=t.formMessage(t.messages.library.contentDelete.contentUndelete,e);$.tmpl(t.templates.library.contentDelete.contentDeleteUndelete,e).appendTo(t.notificationsList);break}}},webTriggeredHandlers:{handleWindowsServiceNotifications:function(e){var t=EnsembleVideo.Notifications.Notifications;if(e.windowsService.isFixed===true){e.message=t.formMessage(t.messages.webTriggered.windowsService.fixed,e);$.tmpl(t.templates.webTriggered.windowsService.fixed,e).appendTo(t.notificationsList)}else{e.message=t.formMessage(t.messages.webTriggered.windowsService.alert,e);$.tmpl(t.templates.webTriggered.windowsService.alert,e).appendTo(t.notificationsList)}},handleStorageQuotaOverLimitNotifications:function(e){var t=EnsembleVideo.Notifications.Notifications;e.message=t.formMessage(t.messages.webTriggered.storageQuota.storageQuotaOverLimit,e);if(loggedLibraryId===e.storageQuotaOverLimit.libraryId){$.tmpl(t.templates.webTriggered.storageQuota.storageQuotaAlert,e).appendTo(t.notificationsList)}else{$.tmpl(t.templates.webTriggered.storageQuota.storageQuotaAlertNoLink,e).appendTo(t.notificationsList)}}},handleDeleteNotificationClick:function(e){var t=this;var i=e.currentTarget;var n=$(i).parents('li');var a=n.data('id');var r=n.data('type');var o=n.data('action');var s=n.data('read');var c=n.data('current');$.ajax({beforeSend:function(){},complete:function(){t.showHideNoNotificationsMessage($(t.notificationsListItems).length)},cache:false,url:'/hapi/v1/Notifications/'+a,type:'DELETE',dataType:'json',success:jQuery.proxy(function(e){n.remove();if(!s){t.updateLabelCounts(true,r,o,c)}if(t.loadMoreNotifications()){t.handleScroll()}},this),error:jQuery.proxy(function(e){},this)})},loadMoreNotifications:function(){var e=this;return $(e.notificationsList).height()>=$(e.notificationsList).get(0).scrollHeight},updateLabelCounts:function(e,t,i,n){if(!n)return;var a=this;if(t==="NewMedia"||t==="MediaFailure")a.labels.counts.mediaLibraryUnread=e&&a.labels.counts.mediaLibraryUnread>0?a.labels.counts.mediaLibraryUnread-1:a.labels.counts.mediaLibraryUnread+1;else if(t==="QuizSubmissions")a.labels.counts.quizzesUnread=e&&a.labels.counts.quizzesUnread>0?a.labels.counts.quizzesUnread-1:a.labels.counts.quizzesUnread+1;else if(t==="Sharing"&&i==="Share")a.labels.counts.sharedLibraryUnread=e&&a.labels.counts.sharedLibraryUnread>0?a.labels.counts.sharedLibraryUnread-1:a.labels.counts.sharedLibraryUnread+1;else if(t==="Sharing"&&i==="DirectPublish")a.labels.counts.playlistsUnread=e&&a.labels.counts.playlistsUnread>0?a.labels.counts.playlistsUnread-1:a.labels.counts.playlistsUnread+1;else if(t==="DropboxSubmissions")a.labels.counts.dropboxUnread=e&&a.labels.counts.dropboxUnread>0?a.labels.counts.dropboxUnread-1:a.labels.counts.dropboxUnread+1;else if(t==="EnsembleStudio")a.labels.counts.ensembleStudioUnread=e&&a.labels.counts.ensembleStudioUnread>0?a.labels.counts.ensembleStudioUnread-1:a.labels.counts.ensembleStudioUnread+1;else if(t==="LiveStreaming")a.labels.counts.liveStreamUnread=e&&a.labels.counts.liveStreamUnread>0?a.labels.counts.liveStreamUnread-1:a.labels.counts.liveStreamUnread+1;a.updateLabels()},handleOpenNotificationPanel:function(e){var t=this;if($(t.notificationDropdownMenu).is(":visible"))return;t.pageNumber=1;$.ajax({beforeSend:function(){$(t.notificationDropdownMenu).slideDown();$(t.notificationDropdownMenu).focus()},complete:function(){},cache:false,url:'/hapi/v1/Notifications/MarkAllAsSeen',type:'PUT',dataType:'json',data:{seen:true},success:jQuery.proxy(function(e){t.labels.counts.totalUnseen=0;t.updateLabels()},this),error:jQuery.proxy(function(e){console.log(e)},this)})},handleCloseNotificationPanel:function(e){$(this.notificationDropdownMenu).slideUp()},handleNotificationLinkClick:function(e){var t=e.currentTarget;this.handleNotificationMarkAsReadAjax(t,true)},handleMarkAllAsReadLinkClick:function(e){var t=e.currentTarget;var i=$(t).data('read');this.handleNotificationMarkAllAsReadAjax(i)},handleEditNotificationsLinkClick:function(){window.location.replace('/Settings/Libraries/UserNotifications/Index/'+loggedUserId+'?backUrl='+location.pathname)},handleMarkAsReadNotificationClick:function(e){var t=e.currentTarget;var i=$(t).data('read');this.handleNotificationMarkAsReadAjax(t,!i)},handleNotificationMarkAsReadAjax:function(e,t){var i=this;var n=$(e).parents('li');var a=n.data('id');var r=n.data('type');var o=n.data('action');var s=n.data('current');$.ajax({beforeSend:function(){},complete:function(){},cache:false,url:'/hapi/v1/Notifications/'+a+'/MarkAsRead',type:'PUT',dataType:'json',data:{read:t},success:jQuery.proxy(function(e){i.markNotificationAsReadOrUnread(n,t,r,o,s)},this),error:jQuery.proxy(function(e){console.log(e)},this)})},markNotificationAsReadOrUnread:function(e,t,i,n,a){var r=this;$(e).data('read',t);$(e).removeClass(t?'read-false':'read-true').addClass(t?'read-true':'read-false');$(e).find(r.markAsReadNotificationAction).attr('title',t?'Mark as Unread':'Mark as Read');$(e).find(r.markAsReadNotificationAction).data('read',t);$(e).find(r.markAsReadNotificationAction).find('i').removeClass(t?'fa-circle':'fa-circle-thin').addClass(t?'fa-circle-thin':'fa-circle');r.updateLabelCounts(t,i,n,a)},handleNotificationMarkAllAsReadAjax:function(e){var t=this;$.ajax({beforeSend:function(){t.pageNumber=1},complete:function(){},cache:false,url:'/hapi/v1/Notifications/MarkAllAsRead',type:'PUT',dataType:'json',data:{libraryId:loggedLibraryId,read:e},success:jQuery.proxy(function(e){t.getNotifications()},this),error:jQuery.proxy(function(e){console.log(e)},this)})},handleScroll:function(){var e=this;if(e.scrollLoaderInProcess)return;var t=$(e.notificationsList);if($(t).scrollTop()+$(t).height()>jQuery(t)[0].scrollHeight-50){e.scrollLoaderInProcess=true;if(e.pageNumber<e.totalPages){e.pageNumber+=1;e.getNotifications(true)}}},handleShowNotificationActions:function(e){$(e.currentTarget).find(this.notificationActions).attr('style','display: inline-grid;')},handleHideNotificationActions:function(e){$(e.currentTarget).find(this.notificationActions).hide()},handleMarkAsReadAndSeenByEventType:function(e,t){if($(e.currentTarget).find(this.labels.notificationNumber).text()==="")return;$.ajax({beforeSend:function(){},complete:function(){},cache:false,url:'/hapi/v1/Notifications/MarkAsReadAndSeenByEventTypes',type:'PUT',dataType:'json',data:{libraryId:loggedLibraryId,eventTypes:t},success:jQuery.proxy(function(e){},this),error:jQuery.proxy(function(e){console.log(e)},this)})},handleMarkAsReadAndSeenByActionType:function(e,t){if($(e.currentTarget).find(this.labels.notificationNumber).text()==="")return;$.ajax({beforeSend:function(){},complete:function(){},cache:false,url:'/hapi/v1/Notifications/MarkAsReadAndSeenByActionTypes',type:'PUT',dataType:'json',data:{libraryId:loggedLibraryId,actionTypes:t},success:jQuery.proxy(function(e){},this),error:jQuery.proxy(function(e){console.log(e)},this)})},init:function(){var t=this;t.getNotifications();$(document).on('click',t.deleteNotification,$.proxy(t.handleDeleteNotificationClick,this));$(document).on('click',t.markAsReadNotificationAction,$.proxy(t.handleMarkAsReadNotificationClick,this));$(document).on('click',t.notificationLink,$.proxy(t.handleNotificationLinkClick,this));$(document).on('mouseover',t.notificationsListItems,$.proxy(t.handleShowNotificationActions,this));$(document).on('mouseleave',t.notificationsListItems,$.proxy(t.handleHideNotificationActions,this));$(t.mainNotificationIcon).on('click',$.proxy(t.handleOpenNotificationPanel,this));$(t.notificationDropdownMenu).on('blur',$.proxy(t.handleCloseNotificationPanel,this));$(t.markAllAsReadLink).on('click',$.proxy(t.handleMarkAllAsReadLinkClick,this));$(t.editNotificationsLink).on('click',$.proxy(t.handleEditNotificationsLinkClick,this));$(t.labels.mediaLibrary).parent('a').on('click',function(e){t.handleMarkAsReadAndSeenByEventType(e,[100,101]);t.handleMarkAsReadAndSeenByActionType(e,[134])});$(t.labels.sharedLibrary).parents('a').on('click',function(e){t.handleMarkAsReadAndSeenByActionType(e,[116])});$(t.labels.playlists).parents('a').on('click',function(e){t.handleMarkAsReadAndSeenByActionType(e,[117])});$(t.labels.quizzes).parents('a').on('click',function(e){t.handleMarkAsReadAndSeenByEventType(e,[106])});$(t.labels.dropbox).parents('a').on('click',function(e){t.handleMarkAsReadAndSeenByEventType(e,[105])});$(t.labels.ensembleStudio).parents('a').on('click',function(e){t.handleMarkAsReadAndSeenByEventType(e,[104])});$(t.labels.liveStream).parents('a').on('click',function(e){t.handleMarkAsReadAndSeenByEventType(e,[103])});$(t.notificationsList).scroll(function(){t.handleScroll()})}},init=function(){if(loggedLibraryId==='00000000-0000-0000-0000-000000000000')return;globalization.init();notifications.init();mySignalR.init()};return{Init:init,Notifications:notifications,UserPermissions:userPermissions}}();$(document).ready(EnsembleVideo.Notifications.Init)})(jQuery);(function e(t,i){if(typeof exports==="object"&&typeof module==="object")module.exports=i();else if(typeof define==="function"&&define.amd)define([],i);else if(typeof exports==="object")exports["signalR"]=i();else t["signalR"]=i()})(window,function(){return function(i){var n={};function a(e){if(n[e]){return n[e].exports}var t=n[e]={i:e,l:false,exports:{}};i[e].call(t.exports,t,t.exports,a);t.l=true;return t.exports}a.m=i;a.c=n;a.d=function(e,t,i){if(!a.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:i})}};a.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};a.t=function(t,e){if(e&1)t=a(t);if(e&8)return t;if(e&4&&typeof t==="object"&&t&&t.__esModule)return t;var i=Object.create(null);a.r(i);Object.defineProperty(i,"default",{enumerable:true,value:t});if(e&2&&typeof t!="string")for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i};a.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};a.d(e,"a",e);return e};a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};a.p="";return a(a.s=0)}([function(e,t,i){"use strict";i.r(t);var n=i(1);var a=i.n(n);var r=i(3);i.d(t,"VERSION",function(){return r["VERSION"]});i.d(t,"AbortError",function(){return r["AbortError"]});i.d(t,"HttpError",function(){return r["HttpError"]});i.d(t,"TimeoutError",function(){return r["TimeoutError"]});i.d(t,"HttpClient",function(){return r["HttpClient"]});i.d(t,"HttpResponse",function(){return r["HttpResponse"]});i.d(t,"DefaultHttpClient",function(){return r["DefaultHttpClient"]});i.d(t,"HubConnection",function(){return r["HubConnection"]});i.d(t,"HubConnectionState",function(){return r["HubConnectionState"]});i.d(t,"HubConnectionBuilder",function(){return r["HubConnectionBuilder"]});i.d(t,"MessageType",function(){return r["MessageType"]});i.d(t,"LogLevel",function(){return r["LogLevel"]});i.d(t,"HttpTransportType",function(){return r["HttpTransportType"]});i.d(t,"TransferFormat",function(){return r["TransferFormat"]});i.d(t,"NullLogger",function(){return r["NullLogger"]});i.d(t,"JsonHubProtocol",function(){return r["JsonHubProtocol"]});if(!Uint8Array.prototype.indexOf){Object.defineProperty(Uint8Array.prototype,"indexOf",{value:Array.prototype.indexOf,writable:true})}if(!Uint8Array.prototype.slice){Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice,writable:true})}if(!Uint8Array.prototype.forEach){Object.defineProperty(Uint8Array.prototype,"forEach",{value:Array.prototype.forEach,writable:true})}},function(i,e,de){(function(ce){var le;(function(e,t){true?i.exports=t():undefined})(this,function(){"use strict";function i(e){var t=typeof e;return e!==null&&(t==="object"||t==="function")}function l(e){return typeof e==="function"}var e=void 0;if(Array.isArray){e=Array.isArray}else{e=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}var n=e;var a=0;var r=void 0;var o=void 0;var s=function e(t,i){T[a]=t;T[a+1]=i;a+=2;if(a===2){if(o){o(w)}else{$()}}};function t(e){o=e}function c(e){s=e}var d=typeof window!=="undefined"?window:undefined;var u=d||{};var f=u.MutationObserver||u.WebKitMutationObserver;var p=typeof self==="undefined"&&typeof process!=="undefined"&&{}.toString.call(process)==="[object process]";var h=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function m(){return function(){return process.nextTick(w)}}function b(){if(typeof r!=="undefined"){return function(){r(w)}}return y()}function g(){var e=0;var t=new f(w);var i=document.createTextNode("");t.observe(i,{characterData:true});return function(){i.data=e=++e%2}}function v(){var e=new MessageChannel;e.port1.onmessage=w;return function(){return e.port2.postMessage(0)}}function y(){var e=setTimeout;return function(){return e(w,1)}}var T=new Array(1e3);function w(){for(var e=0;e<a;e+=2){var t=T[e];var i=T[e+1];t(i);T[e]=undefined;T[e+1]=undefined}a=0}function S(){try{var e=le;var t=de(!function e(){var t=new Error("Cannot find module 'vertx'");t.code="MODULE_NOT_FOUND";throw t}());r=t.runOnLoop||t.runOnContext;return b()}catch(e){return y()}}var $=void 0;if(p){$=m()}else if(f){$=g()}else if(h){$=v()}else if(d===undefined&&"function"==="function"){$=S()}else{$=y()}function L(e,t){var i=this;var n=new this.constructor(N);if(n[k]===undefined){X(n)}var a=i._state;if(a){var r=arguments[a-1];s(function(){return Y(a,n,r,i._result)})}else{j(i,n,e,t)}return n}function D(e){var t=this;if(e&&typeof e==="object"&&e.constructor===t){return e}var i=new t(N);B(i,e);return i}var k=Math.random().toString(36).substring(16);function N(){}var A=void 0;var C=1;var M=2;var I=new W;function x(){return new TypeError("You cannot resolve a promise with itself")}function E(){return new TypeError("A promises callback cannot return that same promise.")}function F(e){try{return e.then}catch(e){I.error=e;return I}}function U(e,t,i,n){try{e.call(t,i,n)}catch(e){return e}}function O(e,n,a){s(function(t){var i=false;var e=U(a,n,function(e){if(i){return}i=true;if(n!==e){B(t,e)}else{_(t,e)}},function(e){if(i){return}i=true;Q(t,e)},"Settle: "+(t._label||" unknown promise"));if(!i&&e){i=true;Q(t,e)}},e)}function R(t,e){if(e._state===C){_(t,e._result)}else if(e._state===M){Q(t,e._result)}else{j(e,undefined,function(e){return B(t,e)},function(e){return Q(t,e)})}}function P(e,t,i){if(t.constructor===e.constructor&&i===L&&t.constructor.resolve===D){R(e,t)}else{if(i===I){Q(e,I.error);I.error=null}else if(i===undefined){_(e,t)}else if(l(i)){O(e,t,i)}else{_(e,t)}}}function B(e,t){if(e===t){Q(e,x())}else if(i(t)){P(e,t,F(t))}else{_(e,t)}}function H(e){if(e._onerror){e._onerror(e._result)}z(e)}function _(e,t){if(e._state!==A){return}e._result=t;e._state=C;if(e._subscribers.length!==0){s(z,e)}}function Q(e,t){if(e._state!==A){return}e._state=M;e._result=t;s(H,e)}function j(e,t,i,n){var a=e._subscribers;var r=a.length;e._onerror=null;a[r]=t;a[r+C]=i;a[r+M]=n;if(r===0&&e._state){s(z,e)}}function z(e){var t=e._subscribers;var i=e._state;if(t.length===0){return}var n=void 0,a=void 0,r=e._result;for(var o=0;o<t.length;o+=3){n=t[o];a=t[o+i];if(n){Y(i,n,a,r)}else{a(r)}}e._subscribers.length=0}function W(){this.error=null}var q=new W;function V(e,t){try{return e(t)}catch(e){q.error=e;return q}}function Y(e,t,i,n){var a=l(i),r=void 0,o=void 0,s=void 0,c=void 0;if(a){r=V(i,n);if(r===q){c=true;o=r.error;r.error=null}else{s=true}if(t===r){Q(t,E());return}}else{r=n;s=true}if(t._state!==A){}else if(a&&s){B(t,r)}else if(c){Q(t,o)}else if(e===C){_(t,r)}else if(e===M){Q(t,r)}}function G(i,e){try{e(function e(t){B(i,t)},function e(t){Q(i,t)})}catch(e){Q(i,e)}}var K=0;function J(){return K++}function X(e){e[k]=K++;e._state=undefined;e._result=undefined;e._subscribers=[]}function Z(){return new Error("Array Methods must be provided an Array")}function Z(){return new Error("Array Methods must be provided an Array")}var ee=function(){function e(e,t){this._instanceConstructor=e;this.promise=new e(N);if(!this.promise[k]){X(this.promise)}if(n(t)){this.length=t.length;this._remaining=t.length;this._result=new Array(this.length);if(this.length===0){_(this.promise,this._result)}else{this.length=this.length||0;this._enumerate(t);if(this._remaining===0){_(this.promise,this._result)}}}else{Q(this.promise,Z())}}e.prototype._enumerate=function e(t){for(var i=0;this._state===A&&i<t.length;i++){this._eachEntry(t[i],i)}};e.prototype._eachEntry=function e(t,i){var n=this._instanceConstructor;var a=n.resolve;if(a===D){var r=F(t);if(r===L&&t._state!==A){this._settledAt(t._state,i,t._result)}else if(typeof r!=="function"){this._remaining--;this._result[i]=t}else if(n===oe){var o=new n(N);P(o,t,r);this._willSettleAt(o,i)}else{this._willSettleAt(new n(function(e){return e(t)}),i)}}else{this._willSettleAt(a(t),i)}};e.prototype._settledAt=function e(t,i,n){var a=this.promise;if(a._state===A){this._remaining--;if(t===M){Q(a,n)}else{this._result[i]=n}}if(this._remaining===0){_(a,this._result)}};e.prototype._willSettleAt=function e(t,i){var n=this;j(t,undefined,function(e){return n._settledAt(C,i,e)},function(e){return n._settledAt(M,i,e)})};return e}();function te(e){return new ee(this,e).promise}function ie(a){var r=this;if(!n(a)){return new r(function(e,t){return t(new TypeError("You must pass an array to race."))})}else{return new r(function(e,t){var i=a.length;for(var n=0;n<i;n++){r.resolve(a[n]).then(e,t)}})}}function ne(e){var t=this;var i=new t(N);Q(i,e);return i}function ae(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function re(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var oe=function(){function t(e){this[k]=J();this._result=this._state=undefined;this._subscribers=[];if(N!==e){typeof e!=="function"&&ae();this instanceof t?G(this,e):re()}}t.prototype.catch=function e(t){return this.then(null,t)};t.prototype.finally=function e(t){var i=this;var n=i.constructor;return i.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})})};return t}();oe.prototype.then=L;oe.all=te;oe.race=ie;oe.resolve=D;oe.reject=ne;oe._setScheduler=t;oe._setAsap=c;oe._asap=s;function se(){var e=void 0;if(typeof ce!=="undefined"){e=ce}else if(typeof self!=="undefined"){e=self}else{try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if(i==="[object Promise]"&&!t.cast){return}}e.Promise=oe}oe.polyfill=se;oe.Promise=oe;oe.polyfill();return oe})}).call(this,de(2))},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(1,eval)("this")}catch(e){if(typeof window==="object")i=window}e.exports=i},function(e,t,i){"use strict";i.r(t);i.d(t,"VERSION",function(){return p});var n=i(4);i.d(t,"AbortError",function(){return n["AbortError"]});i.d(t,"HttpError",function(){return n["HttpError"]});i.d(t,"TimeoutError",function(){return n["TimeoutError"]});var a=i(5);i.d(t,"HttpClient",function(){return a["HttpClient"]});i.d(t,"HttpResponse",function(){return a["HttpResponse"]});var r=i(6);i.d(t,"DefaultHttpClient",function(){return r["DefaultHttpClient"]});var o=i(10);i.d(t,"HubConnection",function(){return o["HubConnection"]});i.d(t,"HubConnectionState",function(){return o["HubConnectionState"]});var s=i(16);i.d(t,"HubConnectionBuilder",function(){return s["HubConnectionBuilder"]});var c=i(15);i.d(t,"MessageType",function(){return c["MessageType"]});var l=i(9);i.d(t,"LogLevel",function(){return l["LogLevel"]});var d=i(18);i.d(t,"HttpTransportType",function(){return d["HttpTransportType"]});i.d(t,"TransferFormat",function(){return d["TransferFormat"]});var u=i(14);i.d(t,"NullLogger",function(){return u["NullLogger"]});var f=i(23);i.d(t,"JsonHubProtocol",function(){return f["JsonHubProtocol"]});var p="1.1.4"},function(e,t,i){"use strict";i.r(t);i.d(t,"HttpError",function(){return a});i.d(t,"TimeoutError",function(){return r});i.d(t,"AbortError",function(){return o});var n=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)if(t.hasOwnProperty(i))e[i]=t[i]};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();var a=function(r){n(e,r);function e(e,t){var i=this.constructor;var n=this;var a=i.prototype;n=r.call(this,e)||this;n.statusCode=t;n.__proto__=a;return n}return e}(Error);var r=function(a){n(e,a);function e(e){var t=this.constructor;if(e===void 0){e="A timeout occurred."}var i=this;var n=t.prototype;i=a.call(this,e)||this;i.__proto__=n;return i}return e}(Error);var o=function(a){n(e,a);function e(e){var t=this.constructor;if(e===void 0){e="An abort occurred."}var i=this;var n=t.prototype;i=a.call(this,e)||this;i.__proto__=n;return i}return e}(Error)},function(e,t,i){"use strict";i.r(t);i.d(t,"HttpResponse",function(){return a});i.d(t,"HttpClient",function(){return r});var n=undefined&&undefined.__assign||Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a))e[a]=t[a]}return e};var a=function(){function e(e,t,i){this.statusCode=e;this.statusText=t;this.content=i}return e}();var r=function(){function e(){}e.prototype.get=function(e,t){return this.send(n({},t,{method:"GET",url:e}))};e.prototype.post=function(e,t){return this.send(n({},t,{method:"POST",url:e}))};e.prototype.delete=function(e,t){return this.send(n({},t,{method:"DELETE",url:e}))};e.prototype.getCookieString=function(e){return""};return e}()},function(e,t,i){"use strict";i.r(t);i.d(t,"DefaultHttpClient",function(){return c});var n=i(4);var a=i(5);var r=i(7);var o=i(8);var s=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)if(t.hasOwnProperty(i))e[i]=t[i]};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();var c=function(i){s(e,i);function e(e){var t=i.call(this)||this;if(typeof XMLHttpRequest!=="undefined"){t.httpClient=new o["XhrHttpClient"](e)}else{t.httpClient=new r["NodeHttpClient"](e)}return t}e.prototype.send=function(e){if(e.abortSignal&&e.abortSignal.aborted){return Promise.reject(new n["AbortError"])}if(!e.method){return Promise.reject(new Error("No method defined."))}if(!e.url){return Promise.reject(new Error("No url defined."))}return this.httpClient.send(e)};e.prototype.getCookieString=function(e){return this.httpClient.getCookieString(e)};return e}(a["HttpClient"])},function(e,t,i){"use strict";i.r(t);i.d(t,"NodeHttpClient",function(){return r});var n=i(5);var a=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)if(t.hasOwnProperty(i))e[i]=t[i]};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();var r=function(t){a(e,t);function e(e){return t.call(this)||this}e.prototype.send=function(){return Promise.reject(new Error("If using Node either provide an XmlHttpRequest polyfill or consume the cjs or esm script instead of the browser/signalr.js one."))};return e}(n["HttpClient"])},function(e,t,i){"use strict";i.r(t);i.d(t,"XhrHttpClient",function(){return a});var o=i(4);var s=i(5);var c=i(9);var n=undefined&&undefined.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)if(t.hasOwnProperty(i))e[i]=t[i]};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();var a=function(i){n(e,i);function e(e){var t=i.call(this)||this;t.logger=e;return t}e.prototype.send=function(a){var r=this;if(a.abortSignal&&a.abortSignal.aborted){return Promise.reject(new o["AbortError"])}if(!a.method){return Promise.reject(new Error("No method defined."))}if(!a.url){return Promise.reject(new Error("No url defined."))}return new Promise(function(e,t){var i=new XMLHttpRequest;i.open(a.method,a.url,true);i.withCredentials=true;i.setRequestHeader("X-Requested-With","XMLHttpRequest");i.setRequestHeader("Content-Type","text/plain;charset=UTF-8");var n=a.headers;if(n){Object.keys(n).forEach(function(e){i.setRequestHeader(e,n[e])})}if(a.responseType){i.responseType=a.responseType}if(a.abortSignal){a.abortSignal.onabort=function(){i.abort();t(new o["AbortError"])}}if(a.timeout){i.timeout=a.timeout}i.onload=function(){if(a.abortSignal){a.abortSignal.onabort=null}if(i.status>=200&&i.status<300){e(new s["HttpResponse"](i.status,i.statusText,i.response||i.responseText))}else{t(new o["HttpError"](i.statusText,i.status))}};i.onerror=function(){r.logger.log(c["LogLevel"].Warning,"Error from HTTP request. "+i.status+": "+i.statusText+".");t(new o["HttpError"](i.statusText,i.status))};i.ontimeout=function(){r.logger.log(c["LogLevel"].Warning,"Timeout from HTTP request.");t(new o["TimeoutError"])};i.send(a.content||"")})};return e}(s["HttpClient"])},function(e,t,i){"use strict";i.r(t);i.d(t,"LogLevel",function(){return n});var n;(function(e){e[e["Trace"]=0]="Trace";e[e["Debug"]=1]="Debug";e[e["Information"]=2]="Information";e[e["Warning"]=3]="Warning";e[e["Error"]=4]="Error";e[e["Critical"]=5]="Critical";e[e["None"]=6]="None"})(n||(n={}))},function(e,t,i){"use strict";i.r(t);i.d(t,"HubConnectionState",function(){return f});i.d(t,"HubConnection",function(){return n});var a=i(11);var c=i(15);var o=i(9);var l=i(13);var r=undefined&&undefined.__awaiter||function(r,o,s,c){return new(s||(s=Promise))(function(e,t){function i(e){try{a(c.next(e))}catch(e){t(e)}}function n(e){try{a(c["throw"](e))}catch(e){t(e)}}function a(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(i,n)}a((c=c.apply(r,o||[])).next())})};var s=undefined&&undefined.__generator||function(e,i){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,r,o,t;return t={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(t[Symbol.iterator]=function(){return this}),t;function s(t){return function(e){return c([t,e])}}function c(t){if(a)throw new TypeError("Generator is already executing.");while(n)try{if(a=1,r&&(o=t[0]&2?r["return"]:t[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,t[1])).done)return o;if(r=0,o)t=[t[0]&2,o.value];switch(t[0]){case 0:case 1:o=t;break;case 4:n.label++;return{value:t[1],done:false};case 5:n.label++;r=t[1];t=[0];continue;case 7:t=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(t[0]===6||t[0]===2)){n=0;continue}if(t[0]===3&&(!o||t[1]>o[0]&&t[1]<o[3])){n.label=t[1];break}if(t[0]===6&&n.label<o[1]){n.label=o[1];o=t;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(t);break}if(o[2])n.ops.pop();n.trys.pop();continue}t=i.call(e,n)}catch(e){t=[6,e];r=0}finally{a=o=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:true}}};var d=30*1e3;var u=15*1e3;var f;(function(e){e[e["Disconnected"]=0]="Disconnected";e[e["Connected"]=1]="Connected"})(f||(f={}));var n=function(){function n(e,t,i){var n=this;l["Arg"].isRequired(e,"connection");l["Arg"].isRequired(t,"logger");l["Arg"].isRequired(i,"protocol");this.serverTimeoutInMilliseconds=d;this.keepAliveIntervalInMilliseconds=u;this.logger=t;this.protocol=i;this.connection=e;this.handshakeProtocol=new a["HandshakeProtocol"];this.connection.onreceive=function(e){return n.processIncomingData(e)};this.connection.onclose=function(e){return n.connectionClosed(e)};this.callbacks={};this.methods={};this.closedCallbacks=[];this.id=0;this.receivedHandshakeResponse=false;this.connectionState=f.Disconnected;this.cachedPingMessage=this.protocol.writeMessage({type:c["MessageType"].Ping})}n.create=function(e,t,i){return new n(e,t,i)};Object.defineProperty(n.prototype,"state",{get:function(){return this.connectionState},enumerable:true,configurable:true});n.prototype.start=function(){return r(this,void 0,void 0,function(){var t,i;var n=this;return s(this,function(e){switch(e.label){case 0:t={protocol:this.protocol.name,version:this.protocol.version};this.logger.log(o["LogLevel"].Debug,"Starting HubConnection.");this.receivedHandshakeResponse=false;i=new Promise(function(e,t){n.handshakeResolver=e;n.handshakeRejecter=t});return[4,this.connection.start(this.protocol.transferFormat)];case 1:e.sent();this.logger.log(o["LogLevel"].Debug,"Sending handshake request.");return[4,this.sendMessage(this.handshakeProtocol.writeHandshakeRequest(t))];case 2:e.sent();this.logger.log(o["LogLevel"].Information,"Using HubProtocol '"+this.protocol.name+"'.");this.cleanupTimeout();this.resetTimeoutPeriod();this.resetKeepAliveInterval();return[4,i];case 3:e.sent();this.connectionState=f.Connected;return[2]}})})};n.prototype.stop=function(){this.logger.log(o["LogLevel"].Debug,"Stopping HubConnection.");this.cleanupTimeout();this.cleanupPingTimer();return this.connection.stop()};n.prototype.stream=function(e){var i=this;var t=[];for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}var a=this.createStreamInvocation(e,t);var r;var o=new l["Subject"];o.cancelCallback=function(){var e=i.createCancelInvocation(a.invocationId);var t=i.protocol.writeMessage(e);delete i.callbacks[a.invocationId];return r.then(function(){return i.sendMessage(t)})};this.callbacks[a.invocationId]=function(e,t){if(t){o.error(t);return}else if(e){if(e.type===c["MessageType"].Completion){if(e.error){o.error(new Error(e.error))}else{o.complete()}}else{o.next(e.item)}}};var s=this.protocol.writeMessage(a);r=this.sendMessage(s).catch(function(e){o.error(e);delete i.callbacks[a.invocationId]});return o};n.prototype.sendMessage=function(e){this.resetKeepAliveInterval();return this.connection.send(e)};n.prototype.send=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}var n=this.createInvocation(e,t,true);var a=this.protocol.writeMessage(n);return this.sendMessage(a)};n.prototype.invoke=function(e){var t=this;var i=[];for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}var a=this.createInvocation(e,i,false);var r=new Promise(function(i,n){t.callbacks[a.invocationId]=function(e,t){if(t){n(t);return}else if(e){if(e.type===c["MessageType"].Completion){if(e.error){n(new Error(e.error))}else{i(e.result)}}else{n(new Error("Unexpected message type: "+e.type))}}};var e=t.protocol.writeMessage(a);t.sendMessage(e).catch(function(e){n(e);delete t.callbacks[a.invocationId]})});return r};n.prototype.on=function(e,t){if(!e||!t){return}e=e.toLowerCase();if(!this.methods[e]){this.methods[e]=[]}if(this.methods[e].indexOf(t)!==-1){return}this.methods[e].push(t)};n.prototype.off=function(e,t){if(!e){return}e=e.toLowerCase();var i=this.methods[e];if(!i){return}if(t){var n=i.indexOf(t);if(n!==-1){i.splice(n,1);if(i.length===0){delete this.methods[e]}}}else{delete this.methods[e]}};n.prototype.onclose=function(e){if(e){this.closedCallbacks.push(e)}};n.prototype.processIncomingData=function(e){this.cleanupTimeout();if(!this.receivedHandshakeResponse){e=this.processHandshakeResponse(e);this.receivedHandshakeResponse=true}if(e){var t=this.protocol.parseMessages(e,this.logger);for(var i=0,n=t;i<n.length;i++){var a=n[i];switch(a.type){case c["MessageType"].Invocation:this.invokeClientMethod(a);break;case c["MessageType"].StreamItem:case c["MessageType"].Completion:var r=this.callbacks[a.invocationId];if(r!=null){if(a.type===c["MessageType"].Completion){delete this.callbacks[a.invocationId]}r(a)}break;case c["MessageType"].Ping:break;case c["MessageType"].Close:this.logger.log(o["LogLevel"].Information,"Close message received from server.");this.connection.stop(a.error?new Error("Server returned an error on close: "+a.error):undefined);break;default:this.logger.log(o["LogLevel"].Warning,"Invalid message type: "+a.type+".");break}}}this.resetTimeoutPeriod()};n.prototype.processHandshakeResponse=function(e){var t;var i;var n;try{t=this.handshakeProtocol.parseHandshakeResponse(e),n=t[0],i=t[1]}catch(e){var a="Error parsing handshake response: "+e;this.logger.log(o["LogLevel"].Error,a);var r=new Error(a);this.connection.stop(r);this.handshakeRejecter(r);throw r}if(i.error){var a="Server returned handshake error: "+i.error;this.logger.log(o["LogLevel"].Error,a);this.handshakeRejecter(a);this.connection.stop(new Error(a));throw new Error(a)}else{this.logger.log(o["LogLevel"].Debug,"Server handshake complete.")}this.handshakeResolver();return n};n.prototype.resetKeepAliveInterval=function(){var e=this;this.cleanupPingTimer();this.pingServerHandle=setTimeout(function(){return r(e,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:if(!(this.connectionState===f.Connected))return[3,4];e.label=1;case 1:e.trys.push([1,3,,4]);return[4,this.sendMessage(this.cachedPingMessage)];case 2:e.sent();return[3,4];case 3:t=e.sent();this.cleanupPingTimer();return[3,4];case 4:return[2]}})})},this.keepAliveIntervalInMilliseconds)};n.prototype.resetTimeoutPeriod=function(){var e=this;if(!this.connection.features||!this.connection.features.inherentKeepAlive){this.timeoutHandle=setTimeout(function(){return e.serverTimeout()},this.serverTimeoutInMilliseconds)}};n.prototype.serverTimeout=function(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))};n.prototype.invokeClientMethod=function(t){var i=this;var e=this.methods[t.target.toLowerCase()];if(e){e.forEach(function(e){return e.apply(i,t.arguments)});if(t.invocationId){var n="Server requested a response, which is not supported in this version of the client.";this.logger.log(o["LogLevel"].Error,n);this.connection.stop(new Error(n))}}else{this.logger.log(o["LogLevel"].Warning,"No client method with the name '"+t.target+"' found.")}};n.prototype.connectionClosed=function(i){var t=this;var n=this.callbacks;this.callbacks={};this.connectionState=f.Disconnected;if(this.handshakeRejecter){this.handshakeRejecter(i)}Object.keys(n).forEach(function(e){var t=n[e];t(null,i?i:new Error("Invocation canceled due to connection being closed."))});this.cleanupTimeout();this.cleanupPingTimer();this.closedCallbacks.forEach(function(e){return e.apply(t,[i])})};n.prototype.cleanupPingTimer=function(){if(this.pingServerHandle){clearTimeout(this.pingServerHandle)}};n.prototype.cleanupTimeout=function(){if(this.timeoutHandle){clearTimeout(this.timeoutHandle)}};n.prototype.createInvocation=function(e,t,i){if(i){return{arguments:t,target:e,type:c["MessageType"].Invocation}}else{var n=this.id;this.id++;return{arguments:t,invocationId:n.toString(),target:e,type:c["MessageType"].Invocation}}};n.prototype.createStreamInvocation=function(e,t){var i=this.id;this.id++;return{arguments:t,invocationId:i.toString(),target:e,type:c["MessageType"].StreamInvocation}};n.prototype.createCancelInvocation=function(e){return{invocationId:e,type:c["MessageType"].CancelInvocation}};return n}()},function(e,t,i){"use strict";i.r(t);i.d(t,"HandshakeProtocol",function(){return n});var d=i(12);var u=i(13);var n=function(){function e(){}e.prototype.writeHandshakeRequest=function(e){return d["TextMessageFormat"].write(JSON.stringify(e))};e.prototype.parseHandshakeResponse=function(e){var t;var i;var n;if(Object(u["isArrayBuffer"])(e)||typeof Buffer!=="undefined"&&e instanceof Buffer){var a=new Uint8Array(e);var r=a.indexOf(d["TextMessageFormat"].RecordSeparatorCode);if(r===-1){throw new Error("Message is incomplete.")}var o=r+1;i=String.fromCharCode.apply(null,a.slice(0,o));n=a.byteLength>o?a.slice(o).buffer:null}else{var s=e;var r=s.indexOf(d["TextMessageFormat"].RecordSeparator);if(r===-1){throw new Error("Message is incomplete.")}var o=r+1;i=s.substring(0,o);n=s.length>o?s.substring(o):null}var c=d["TextMessageFormat"].parse(i);var l=JSON.parse(c[0]);if(l.type){throw new Error("Expected a handshake response from the server.")}t=l;return[n,t]};return e}()},function(e,t,i){"use strict";i.r(t);i.d(t,"TextMessageFormat",function(){return n});var n=function(){function i(){}i.write=function(e){return""+e+i.RecordSeparator};i.parse=function(e){if(e[e.length-1]!==i.RecordSeparator){throw new Error("Message is incomplete.")}var t=e.split(i.RecordSeparator);t.pop();return t};i.RecordSeparatorCode=30;i.RecordSeparator=String.fromCharCode(i.RecordSeparatorCode);return i}()},function(e,t,i){"use strict";i.r(t);i.d(t,"Arg",function(){return r});i.d(t,"getDataDetail",function(){return m});i.d(t,"formatArrayBuffer",function(){return o});i.d(t,"isArrayBuffer",function(){return b});i.d(t,"sendMessage",function(){return s});i.d(t,"createLogger",function(){return c});i.d(t,"Subject",function(){return l});i.d(t,"SubjectSubscription",function(){return d});i.d(t,"ConsoleLogger",function(){return u});var p=i(9);var n=i(14);var a=undefined&&undefined.__awaiter||function(r,o,s,c){return new(s||(s=Promise))(function(e,t){function i(e){try{a(c.next(e))}catch(e){t(e)}}function n(e){try{a(c["throw"](e))}catch(e){t(e)}}function a(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(i,n)}a((c=c.apply(r,o||[])).next())})};var h=undefined&&undefined.__generator||function(e,i){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,r,o,t;return t={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(t[Symbol.iterator]=function(){return this}),t;function s(t){return function(e){return c([t,e])}}function c(t){if(a)throw new TypeError("Generator is already executing.");while(n)try{if(a=1,r&&(o=t[0]&2?r["return"]:t[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,t[1])).done)return o;if(r=0,o)t=[t[0]&2,o.value];switch(t[0]){case 0:case 1:o=t;break;case 4:n.label++;return{value:t[1],done:false};case 5:n.label++;r=t[1];t=[0];continue;case 7:t=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(t[0]===6||t[0]===2)){n=0;continue}if(t[0]===3&&(!o||t[1]>o[0]&&t[1]<o[3])){n.label=t[1];break}if(t[0]===6&&n.label<o[1]){n.label=o[1];o=t;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(t);break}if(o[2])n.ops.pop();n.trys.pop();continue}t=i.call(e,n)}catch(e){t=[6,e];r=0}finally{a=o=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:true}}};var r=function(){function e(){}e.isRequired=function(e,t){if(e===null||e===undefined){throw new Error("The '"+t+"' argument is required.")}};e.isIn=function(e,t,i){if(!(e in t)){throw new Error("Unknown "+i+" value: "+e+".")}};return e}();function m(e,t){var i="";if(b(e)){i="Binary data of length "+e.byteLength;if(t){i+=". Content: '"+o(e)+"'"}}else if(typeof e==="string"){i="String data of length "+e.length;if(t){i+=". Content: '"+e+"'"}}return i}function o(e){var t=new Uint8Array(e);var i="";t.forEach(function(e){var t=e<16?"0":"";i+="0x"+t+e.toString(16)+" "});return i.substr(0,i.length-1)}function b(e){return e&&typeof ArrayBuffer!=="undefined"&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name==="ArrayBuffer")}function s(o,s,c,l,d,u,f){return a(this,void 0,void 0,function(){var t,i,n,a,r;return h(this,function(e){switch(e.label){case 0:if(!d)return[3,2];return[4,d()];case 1:n=e.sent();if(n){i=(t={},t["Authorization"]="Bearer "+n,t)}e.label=2;case 2:o.log(p["LogLevel"].Trace,"("+s+" transport) sending data. "+m(u,f)+".");a=b(u)?"arraybuffer":"text";return[4,c.post(l,{content:u,headers:i,responseType:a})];case 3:r=e.sent();o.log(p["LogLevel"].Trace,"("+s+" transport) request complete. Response status: "+r.statusCode+".");return[2]}})})}function c(e){if(e===undefined){return new u(p["LogLevel"].Information)}if(e===null){return n["NullLogger"].instance}if(e.log){return e}return new u(e)}var l=function(){function e(){this.observers=[]}e.prototype.next=function(e){for(var t=0,i=this.observers;t<i.length;t++){var n=i[t];n.next(e)}};e.prototype.error=function(e){for(var t=0,i=this.observers;t<i.length;t++){var n=i[t];if(n.error){n.error(e)}}};e.prototype.complete=function(){for(var e=0,t=this.observers;e<t.length;e++){var i=t[e];if(i.complete){i.complete()}}};e.prototype.subscribe=function(e){this.observers.push(e);return new d(this,e)};return e}();var d=function(){function e(e,t){this.subject=e;this.observer=t}e.prototype.dispose=function(){var e=this.subject.observers.indexOf(this.observer);if(e>-1){this.subject.observers.splice(e,1)}if(this.subject.observers.length===0&&this.subject.cancelCallback){this.subject.cancelCallback().catch(function(e){})}};return e}();var u=function(){function e(e){this.minimumLogLevel=e}e.prototype.log=function(e,t){if(e>=this.minimumLogLevel){switch(e){case p["LogLevel"].Critical:case p["LogLevel"].Error:console.error("["+(new Date).toISOString()+"] "+p["LogLevel"][e]+": "+t);break;case p["LogLevel"].Warning:console.warn("["+(new Date).toISOString()+"] "+p["LogLevel"][e]+": "+t);break;case p["LogLevel"].Information:console.info("["+(new Date).toISOString()+"] "+p["LogLevel"][e]+": "+t);break;default:console.log("["+(new Date).toISOString()+"] "+p["LogLevel"][e]+": "+t);break}}};return e}()},function(e,t,i){"use strict";i.r(t);i.d(t,"NullLogger",function(){return n});var n=function(){function e(){}e.prototype.log=function(e,t){};e.instance=new e;return e}()},function(e,t,i){"use strict";i.r(t);i.d(t,"MessageType",function(){return n});var n;(function(e){e[e["Invocation"]=1]="Invocation";e[e["StreamItem"]=2]="StreamItem";e[e["Completion"]=3]="Completion";e[e["StreamInvocation"]=4]="StreamInvocation";e[e["CancelInvocation"]=5]="CancelInvocation";e[e["Ping"]=6]="Ping";e[e["Close"]=7]="Close"})(n||(n={}))},function(e,t,i){"use strict";i.r(t);i.d(t,"HubConnectionBuilder",function(){return c});var n=i(17);var a=i(10);var r=i(23);var o=i(14);var s=i(13);var c=function(){function e(){}e.prototype.configureLogging=function(e){s["Arg"].isRequired(e,"logging");if(l(e)){this.logger=e}else{this.logger=new s["ConsoleLogger"](e)}return this};e.prototype.withUrl=function(e,t){s["Arg"].isRequired(e,"url");this.url=e;if(typeof t==="object"){this.httpConnectionOptions=t}else{this.httpConnectionOptions={transport:t}}return this};e.prototype.withHubProtocol=function(e){s["Arg"].isRequired(e,"protocol");this.protocol=e;return this};e.prototype.build=function(){var e=this.httpConnectionOptions||{};if(e.logger===undefined){e.logger=this.logger}if(!this.url){throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.")}var t=new n["HttpConnection"](this.url,e);return a["HubConnection"].create(t,this.logger||o["NullLogger"].instance,this.protocol||new r["JsonHubProtocol"])};return e}();function l(e){return e.log!==undefined}},function(e,t,i){"use strict";i.r(t);i.d(t,"HttpConnection",function(){return b});var n=i(6);var f=i(9);var p=i(18);var d=i(19);var a=i(21);var r=i(13);var o=i(22);var h=undefined&&undefined.__awaiter||function(r,o,s,c){return new(s||(s=Promise))(function(e,t){function i(e){try{a(c.next(e))}catch(e){t(e)}}function n(e){try{a(c["throw"](e))}catch(e){t(e)}}function a(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(i,n)}a((c=c.apply(r,o||[])).next())})};var m=undefined&&undefined.__generator||function(e,i){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,r,o,t;return t={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(t[Symbol.iterator]=function(){return this}),t;function s(t){return function(e){return c([t,e])}}function c(t){if(a)throw new TypeError("Generator is already executing.");while(n)try{if(a=1,r&&(o=t[0]&2?r["return"]:t[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,t[1])).done)return o;if(r=0,o)t=[t[0]&2,o.value];switch(t[0]){case 0:case 1:o=t;break;case 4:n.label++;return{value:t[1],done:false};case 5:n.label++;r=t[1];t=[0];continue;case 7:t=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(t[0]===6||t[0]===2)){n=0;continue}if(t[0]===3&&(!o||t[1]>o[0]&&t[1]<o[3])){n.label=t[1];break}if(t[0]===6&&n.label<o[1]){n.label=o[1];o=t;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(t);break}if(o[2])n.ops.pop();n.trys.pop();continue}t=i.call(e,n)}catch(e){t=[6,e];r=0}finally{a=o=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:true}}};var u=100;var s=null;var c=null;if(typeof window==="undefined"&&"function"!=="undefined"){var l=true?require:undefined;s=l("ws");c=l("eventsource")}var b=function(){function e(e,t){if(t===void 0){t={}}this.features={};r["Arg"].isRequired(e,"url");this.logger=Object(r["createLogger"])(t.logger);this.baseUrl=this.resolveUrl(e);t=t||{};t.logMessageContent=t.logMessageContent||false;var i=typeof window==="undefined";if(!i&&typeof WebSocket!=="undefined"&&!t.WebSocket){t.WebSocket=WebSocket}else if(i&&!t.WebSocket){if(s){t.WebSocket=s}}if(!i&&typeof EventSource!=="undefined"&&!t.EventSource){t.EventSource=EventSource}else if(i&&!t.EventSource){if(typeof c!=="undefined"){t.EventSource=c}}this.httpClient=t.httpClient||new n["DefaultHttpClient"](this.logger);this.connectionState=2;this.options=t;this.onreceive=null;this.onclose=null}e.prototype.start=function(e){e=e||p["TransferFormat"].Binary;r["Arg"].isIn(e,p["TransferFormat"],"transferFormat");this.logger.log(f["LogLevel"].Debug,"Starting connection with transfer format '"+p["TransferFormat"][e]+"'.");if(this.connectionState!==2){return Promise.reject(new Error("Cannot start a connection that is not in the 'Disconnected' state."))}this.connectionState=0;this.startPromise=this.startInternal(e);return this.startPromise};e.prototype.send=function(e){if(this.connectionState!==1){throw new Error("Cannot send data if the connection is not in the 'Connected' State.")}return this.transport.send(e)};e.prototype.stop=function(i){return h(this,void 0,void 0,function(){var t;return m(this,function(e){switch(e.label){case 0:this.connectionState=2;this.stopError=i;e.label=1;case 1:e.trys.push([1,3,,4]);return[4,this.startPromise];case 2:e.sent();return[3,4];case 3:t=e.sent();return[3,4];case 4:if(!this.transport)return[3,6];return[4,this.transport.stop()];case 5:e.sent();this.transport=undefined;e.label=6;case 6:return[2]}})})};e.prototype.startInternal=function(l){return h(this,void 0,void 0,function(){var i,n,a,t,r,o,s;var c=this;return m(this,function(e){switch(e.label){case 0:i=this.baseUrl;this.accessTokenFactory=this.options.accessTokenFactory;e.label=1;case 1:e.trys.push([1,12,,13]);if(!this.options.skipNegotiation)return[3,5];if(!(this.options.transport===p["HttpTransportType"].WebSockets))return[3,3];this.transport=this.constructTransport(p["HttpTransportType"].WebSockets);return[4,this.transport.connect(i,l)];case 2:e.sent();return[3,4];case 3:throw Error("Negotiation can only be skipped when using the WebSocket transport directly.");case 4:return[3,11];case 5:n=null;a=0;t=function(){var t;return m(this,function(e){switch(e.label){case 0:return[4,r.getNegotiationResponse(i)];case 1:n=e.sent();if(r.connectionState===2){return[2,{value:void 0}]}if(n.error){throw Error(n.error)}if(n.ProtocolVersion){throw Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.")}if(n.url){i=n.url}if(n.accessToken){t=n.accessToken;r.accessTokenFactory=function(){return t}}a++;return[2]}})};r=this;e.label=6;case 6:return[5,t()];case 7:o=e.sent();if(typeof o==="object")return[2,o.value];e.label=8;case 8:if(n.url&&a<u)return[3,6];e.label=9;case 9:if(a===u&&n.url){throw Error("Negotiate redirection limit exceeded.")}return[4,this.createTransport(i,this.options.transport,n,l)];case 10:e.sent();e.label=11;case 11:if(this.transport instanceof d["LongPollingTransport"]){this.features.inherentKeepAlive=true}this.transport.onreceive=this.onreceive;this.transport.onclose=function(e){return c.stopConnection(e)};this.changeState(0,1);return[3,13];case 12:s=e.sent();this.logger.log(f["LogLevel"].Error,"Failed to start the connection: "+s);this.connectionState=2;this.transport=undefined;throw s;case 13:return[2]}})})};e.prototype.getNegotiationResponse=function(s){return h(this,void 0,void 0,function(){var t,i,n,a,r,o;return m(this,function(e){switch(e.label){case 0:if(!this.accessTokenFactory)return[3,2];return[4,this.accessTokenFactory()];case 1:n=e.sent();if(n){i=(t={},t["Authorization"]="Bearer "+n,t)}e.label=2;case 2:a=this.resolveNegotiateUrl(s);this.logger.log(f["LogLevel"].Debug,"Sending negotiation request: "+a+".");e.label=3;case 3:e.trys.push([3,5,,6]);return[4,this.httpClient.post(a,{content:"",headers:i})];case 4:r=e.sent();if(r.statusCode!==200){throw Error("Unexpected status code returned from negotiate "+r.statusCode)}return[2,JSON.parse(r.content)];case 5:o=e.sent();this.logger.log(f["LogLevel"].Error,"Failed to complete negotiation with the server: "+o);throw o;case 6:return[2]}})})};e.prototype.createConnectUrl=function(e,t){if(!t){return e}return e+(e.indexOf("?")===-1?"?":"&")+("id="+t)};e.prototype.createTransport=function(c,l,d,u){return h(this,void 0,void 0,function(){var t,i,n,a,r,o,s;return m(this,function(e){switch(e.label){case 0:t=this.createConnectUrl(c,d.connectionId);if(!this.isITransport(l))return[3,2];this.logger.log(f["LogLevel"].Debug,"Connection was provided an instance of ITransport, using that directly.");this.transport=l;return[4,this.transport.connect(t,u)];case 1:e.sent();this.changeState(0,1);return[2];case 2:i=d.availableTransports||[];n=0,a=i;e.label=3;case 3:if(!(n<a.length))return[3,9];r=a[n];this.connectionState=0;o=this.resolveTransport(r,l,u);if(!(typeof o==="number"))return[3,8];this.transport=this.constructTransport(o);if(!!d.connectionId)return[3,5];return[4,this.getNegotiationResponse(c)];case 4:d=e.sent();t=this.createConnectUrl(c,d.connectionId);e.label=5;case 5:e.trys.push([5,7,,8]);return[4,this.transport.connect(t,u)];case 6:e.sent();this.changeState(0,1);return[2];case 7:s=e.sent();this.logger.log(f["LogLevel"].Error,"Failed to start the transport '"+p["HttpTransportType"][o]+"': "+s);this.connectionState=2;d.connectionId=undefined;return[3,8];case 8:n++;return[3,3];case 9:throw new Error("Unable to initialize any of the available transports.")}})})};e.prototype.constructTransport=function(e){switch(e){case p["HttpTransportType"].WebSockets:if(!this.options.WebSocket){throw new Error("'WebSocket' is not supported in your environment.")}return new o["WebSocketTransport"](this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||false,this.options.WebSocket);case p["HttpTransportType"].ServerSentEvents:if(!this.options.EventSource){throw new Error("'EventSource' is not supported in your environment.")}return new a["ServerSentEventsTransport"](this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||false,this.options.EventSource);case p["HttpTransportType"].LongPolling:return new d["LongPollingTransport"](this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||false);default:throw new Error("Unknown transport: "+e+".")}};e.prototype.resolveTransport=function(e,t,i){var n=p["HttpTransportType"][e.transport];if(n===null||n===undefined){this.logger.log(f["LogLevel"].Debug,"Skipping transport '"+e.transport+"' because it is not supported by this client.")}else{var a=e.transferFormats.map(function(e){return p["TransferFormat"][e]});if(g(t,n)){if(a.indexOf(i)>=0){if(n===p["HttpTransportType"].WebSockets&&!this.options.WebSocket||n===p["HttpTransportType"].ServerSentEvents&&!this.options.EventSource){this.logger.log(f["LogLevel"].Debug,"Skipping transport '"+p["HttpTransportType"][n]+"' because it is not supported in your environment.'")}else{this.logger.log(f["LogLevel"].Debug,"Selecting transport '"+p["HttpTransportType"][n]+"'.");return n}}else{this.logger.log(f["LogLevel"].Debug,"Skipping transport '"+p["HttpTransportType"][n]+"' because it does not support the requested transfer format '"+p["TransferFormat"][i]+"'.")}}else{this.logger.log(f["LogLevel"].Debug,"Skipping transport '"+p["HttpTransportType"][n]+"' because it was disabled by the client.")}}return null};e.prototype.isITransport=function(e){return e&&typeof e==="object"&&"connect"in e};e.prototype.changeState=function(e,t){if(this.connectionState===e){this.connectionState=t;return true}return false};e.prototype.stopConnection=function(e){this.transport=undefined;e=this.stopError||e;if(e){this.logger.log(f["LogLevel"].Error,"Connection disconnected with error '"+e+"'.")}else{this.logger.log(f["LogLevel"].Information,"Connection disconnected.")}this.connectionState=2;if(this.onclose){this.onclose(e)}};e.prototype.resolveUrl=function(e){if(e.lastIndexOf("https://",0)===0||e.lastIndexOf("http://",0)===0){return e}if(typeof window==="undefined"||!window||!window.document){throw new Error("Cannot resolve '"+e+"'.")}var t=window.document.createElement("a");t.href=e;this.logger.log(f["LogLevel"].Information,"Normalizing '"+e+"' to '"+t.href+"'.");return t.href};e.prototype.resolveNegotiateUrl=function(e){var t=e.indexOf("?");var i=e.substring(0,t===-1?e.length:t);if(i[i.length-1]!=="/"){i+="/"}i+="negotiate";i+=t===-1?"":e.substring(t);return i};return e}();function g(e,t){return!e||(t&e)!==0}},function(e,t,i){"use strict";i.r(t);i.d(t,"HttpTransportType",function(){return n});i.d(t,"TransferFormat",function(){return a});var n;(function(e){e[e["None"]=0]="None";e[e["WebSockets"]=1]="WebSockets";e[e["ServerSentEvents"]=2]="ServerSentEvents";e[e["LongPolling"]=4]="LongPolling"})(n||(n={}));var a;(function(e){e[e["Text"]=1]="Text";e[e["Binary"]=2]="Binary"})(a||(a={}))},function(e,t,i){"use strict";i.r(t);i.d(t,"LongPollingTransport",function(){return r});var a=i(20);var s=i(4);var c=i(9);var l=i(18);var d=i(13);var n=undefined&&undefined.__awaiter||function(r,o,s,c){return new(s||(s=Promise))(function(e,t){function i(e){try{a(c.next(e))}catch(e){t(e)}}function n(e){try{a(c["throw"](e))}catch(e){t(e)}}function a(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(i,n)}a((c=c.apply(r,o||[])).next())})};var u=undefined&&undefined.__generator||function(e,i){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,r,o,t;return t={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(t[Symbol.iterator]=function(){return this}),t;function s(t){return function(e){return c([t,e])}}function c(t){if(a)throw new TypeError("Generator is already executing.");while(n)try{if(a=1,r&&(o=t[0]&2?r["return"]:t[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,t[1])).done)return o;if(r=0,o)t=[t[0]&2,o.value];switch(t[0]){case 0:case 1:o=t;break;case 4:n.label++;return{value:t[1],done:false};case 5:n.label++;r=t[1];t=[0];continue;case 7:t=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(t[0]===6||t[0]===2)){n=0;continue}if(t[0]===3&&(!o||t[1]>o[0]&&t[1]<o[3])){n.label=t[1];break}if(t[0]===6&&n.label<o[1]){n.label=o[1];o=t;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(t);break}if(o[2])n.ops.pop();n.trys.pop();continue}t=i.call(e,n)}catch(e){t=[6,e];r=0}finally{a=o=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:true}}};var r=function(){function e(e,t,i,n){this.httpClient=e;this.accessTokenFactory=t;this.logger=i;this.pollAbort=new a["AbortController"];this.logMessageContent=n;this.running=false;this.onreceive=null;this.onclose=null}Object.defineProperty(e.prototype,"pollAborted",{get:function(){return this.pollAbort.aborted},enumerable:true,configurable:true});e.prototype.connect=function(r,o){return n(this,void 0,void 0,function(){var t,i,n,a;return u(this,function(e){switch(e.label){case 0:d["Arg"].isRequired(r,"url");d["Arg"].isRequired(o,"transferFormat");d["Arg"].isIn(o,l["TransferFormat"],"transferFormat");this.url=r;this.logger.log(c["LogLevel"].Trace,"(LongPolling transport) Connecting.");if(o===l["TransferFormat"].Binary&&(typeof XMLHttpRequest!=="undefined"&&typeof(new XMLHttpRequest).responseType!=="string")){throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.")}t={abortSignal:this.pollAbort.signal,headers:{},timeout:1e5};if(o===l["TransferFormat"].Binary){t.responseType="arraybuffer"}return[4,this.getAccessToken()];case 1:i=e.sent();this.updateHeaderToken(t,i);n=r+"&_="+Date.now();this.logger.log(c["LogLevel"].Trace,"(LongPolling transport) polling: "+n+".");return[4,this.httpClient.get(n,t)];case 2:a=e.sent();if(a.statusCode!==200){this.logger.log(c["LogLevel"].Error,"(LongPolling transport) Unexpected response code: "+a.statusCode+".");this.closeError=new s["HttpError"](a.statusText||"",a.statusCode);this.running=false}else{this.running=true}this.receiving=this.poll(this.url,t);return[2]}})})};e.prototype.getAccessToken=function(){return n(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:if(!this.accessTokenFactory)return[3,2];return[4,this.accessTokenFactory()];case 1:return[2,e.sent()];case 2:return[2,null]}})})};e.prototype.updateHeaderToken=function(e,t){if(!e.headers){e.headers={}}if(t){e.headers["Authorization"]="Bearer "+t;return}if(e.headers["Authorization"]){delete e.headers["Authorization"]}};e.prototype.poll=function(r,o){return n(this,void 0,void 0,function(){var t,i,n,a;return u(this,function(e){switch(e.label){case 0:e.trys.push([0,,8,9]);e.label=1;case 1:if(!this.running)return[3,7];return[4,this.getAccessToken()];case 2:t=e.sent();this.updateHeaderToken(o,t);e.label=3;case 3:e.trys.push([3,5,,6]);i=r+"&_="+Date.now();this.logger.log(c["LogLevel"].Trace,"(LongPolling transport) polling: "+i+".");return[4,this.httpClient.get(i,o)];case 4:n=e.sent();if(n.statusCode===204){this.logger.log(c["LogLevel"].Information,"(LongPolling transport) Poll terminated by server.");this.running=false}else if(n.statusCode!==200){this.logger.log(c["LogLevel"].Error,"(LongPolling transport) Unexpected response code: "+n.statusCode+".");this.closeError=new s["HttpError"](n.statusText||"",n.statusCode);this.running=false}else{if(n.content){this.logger.log(c["LogLevel"].Trace,"(LongPolling transport) data received. "+Object(d["getDataDetail"])(n.content,this.logMessageContent)+".");if(this.onreceive){this.onreceive(n.content)}}else{this.logger.log(c["LogLevel"].Trace,"(LongPolling transport) Poll timed out, reissuing.")}}return[3,6];case 5:a=e.sent();if(!this.running){this.logger.log(c["LogLevel"].Trace,"(LongPolling transport) Poll errored after shutdown: "+a.message)}else{if(a instanceof s["TimeoutError"]){this.logger.log(c["LogLevel"].Trace,"(LongPolling transport) Poll timed out, reissuing.")}else{this.closeError=a;this.running=false}}return[3,6];case 6:return[3,1];case 7:return[3,9];case 8:this.logger.log(c["LogLevel"].Trace,"(LongPolling transport) Polling complete.");if(!this.pollAborted){this.raiseOnClose()}return[7];case 9:return[2]}})})};e.prototype.send=function(t){return n(this,void 0,void 0,function(){return u(this,function(e){if(!this.running){return[2,Promise.reject(new Error("Cannot send until the transport is connected"))]}return[2,Object(d["sendMessage"])(this.logger,"LongPolling",this.httpClient,this.url,this.accessTokenFactory,t,this.logMessageContent)]})})};e.prototype.stop=function(){return n(this,void 0,void 0,function(){var t,i;return u(this,function(e){switch(e.label){case 0:this.logger.log(c["LogLevel"].Trace,"(LongPolling transport) Stopping polling.");this.running=false;this.pollAbort.abort();e.label=1;case 1:e.trys.push([1,,5,6]);return[4,this.receiving];case 2:e.sent();this.logger.log(c["LogLevel"].Trace,"(LongPolling transport) sending DELETE request to "+this.url+".");t={headers:{}};return[4,this.getAccessToken()];case 3:i=e.sent();this.updateHeaderToken(t,i);return[4,this.httpClient.delete(this.url,t)];case 4:e.sent();this.logger.log(c["LogLevel"].Trace,"(LongPolling transport) DELETE request sent.");return[3,6];case 5:this.logger.log(c["LogLevel"].Trace,"(LongPolling transport) Stop finished.");this.raiseOnClose();return[7];case 6:return[2]}})})};e.prototype.raiseOnClose=function(){if(this.onclose){var e="(LongPolling transport) Firing onclose event.";if(this.closeError){e+=" Error: "+this.closeError}this.logger.log(c["LogLevel"].Trace,e);this.onclose(this.closeError)}};return e}()},function(e,t,i){"use strict";i.r(t);i.d(t,"AbortController",function(){return n});var n=function(){function e(){this.isAborted=false;this.onabort=null}e.prototype.abort=function(){if(!this.isAborted){this.isAborted=true;if(this.onabort){this.onabort()}}};Object.defineProperty(e.prototype,"signal",{get:function(){return this},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"aborted",{get:function(){return this.isAborted},enumerable:true,configurable:true});return e}()},function(e,t,i){"use strict";i.r(t);i.d(t,"ServerSentEventsTransport",function(){return r});var c=i(9);var l=i(18);var d=i(13);var n=undefined&&undefined.__awaiter||function(r,o,s,c){return new(s||(s=Promise))(function(e,t){function i(e){try{a(c.next(e))}catch(e){t(e)}}function n(e){try{a(c["throw"](e))}catch(e){t(e)}}function a(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(i,n)}a((c=c.apply(r,o||[])).next())})};var a=undefined&&undefined.__generator||function(e,i){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,r,o,t;return t={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(t[Symbol.iterator]=function(){return this}),t;function s(t){return function(e){return c([t,e])}}function c(t){if(a)throw new TypeError("Generator is already executing.");while(n)try{if(a=1,r&&(o=t[0]&2?r["return"]:t[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,t[1])).done)return o;if(r=0,o)t=[t[0]&2,o.value];switch(t[0]){case 0:case 1:o=t;break;case 4:n.label++;return{value:t[1],done:false};case 5:n.label++;r=t[1];t=[0];continue;case 7:t=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(t[0]===6||t[0]===2)){n=0;continue}if(t[0]===3&&(!o||t[1]>o[0]&&t[1]<o[3])){n.label=t[1];break}if(t[0]===6&&n.label<o[1]){n.label=o[1];o=t;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(t);break}if(o[2])n.ops.pop();n.trys.pop();continue}t=i.call(e,n)}catch(e){t=[6,e];r=0}finally{a=o=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:true}}};var r=function(){function e(e,t,i,n,a){this.httpClient=e;this.accessTokenFactory=t;this.logger=i;this.logMessageContent=n;this.eventSourceConstructor=a;this.onreceive=null;this.onclose=null}e.prototype.connect=function(o,s){return n(this,void 0,void 0,function(){var t;var r=this;return a(this,function(e){switch(e.label){case 0:d["Arg"].isRequired(o,"url");d["Arg"].isRequired(s,"transferFormat");d["Arg"].isIn(s,l["TransferFormat"],"transferFormat");this.logger.log(c["LogLevel"].Trace,"(SSE transport) Connecting.");this.url=o;if(!this.accessTokenFactory)return[3,2];return[4,this.accessTokenFactory()];case 1:t=e.sent();if(t){o+=(o.indexOf("?")<0?"?":"&")+("access_token="+encodeURIComponent(t))}e.label=2;case 2:return[2,new Promise(function(e,i){var n=false;if(s!==l["TransferFormat"].Text){i(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}var t;if(typeof window!=="undefined"){t=new r.eventSourceConstructor(o,{withCredentials:true})}else{var a=r.httpClient.getCookieString(o);t=new r.eventSourceConstructor(o,{withCredentials:true,headers:{Cookie:a}})}try{t.onmessage=function(e){if(r.onreceive){try{r.logger.log(c["LogLevel"].Trace,"(SSE transport) data received. "+Object(d["getDataDetail"])(e.data,r.logMessageContent)+".");r.onreceive(e.data)}catch(e){r.close(e);return}}};t.onerror=function(e){var t=new Error(e.data||"Error occurred");if(n){r.close(t)}else{i(t)}};t.onopen=function(){r.logger.log(c["LogLevel"].Information,"SSE connected to "+r.url);r.eventSource=t;n=true;e()}}catch(e){i(e);return}})]}})})};e.prototype.send=function(t){return n(this,void 0,void 0,function(){return a(this,function(e){if(!this.eventSource){return[2,Promise.reject(new Error("Cannot send until the transport is connected"))]}return[2,Object(d["sendMessage"])(this.logger,"SSE",this.httpClient,this.url,this.accessTokenFactory,t,this.logMessageContent)]})})};e.prototype.stop=function(){this.close();return Promise.resolve()};e.prototype.close=function(e){if(this.eventSource){this.eventSource.close();this.eventSource=undefined;if(this.onclose){this.onclose(e)}}};return e}()},function(e,t,i){"use strict";i.r(t);i.d(t,"WebSocketTransport",function(){return a});var s=i(9);var c=i(18);var l=i(13);var n=undefined&&undefined.__awaiter||function(r,o,s,c){return new(s||(s=Promise))(function(e,t){function i(e){try{a(c.next(e))}catch(e){t(e)}}function n(e){try{a(c["throw"](e))}catch(e){t(e)}}function a(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(i,n)}a((c=c.apply(r,o||[])).next())})};var d=undefined&&undefined.__generator||function(e,i){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},a,r,o,t;return t={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(t[Symbol.iterator]=function(){return this}),t;function s(t){return function(e){return c([t,e])}}function c(t){if(a)throw new TypeError("Generator is already executing.");while(n)try{if(a=1,r&&(o=t[0]&2?r["return"]:t[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,t[1])).done)return o;if(r=0,o)t=[t[0]&2,o.value];switch(t[0]){case 0:case 1:o=t;break;case 4:n.label++;return{value:t[1],done:false};case 5:n.label++;r=t[1];t=[0];continue;case 7:t=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(t[0]===6||t[0]===2)){n=0;continue}if(t[0]===3&&(!o||t[1]>o[0]&&t[1]<o[3])){n.label=t[1];break}if(t[0]===6&&n.label<o[1]){n.label=o[1];o=t;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(t);break}if(o[2])n.ops.pop();n.trys.pop();continue}t=i.call(e,n)}catch(e){t=[6,e];r=0}finally{a=o=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:true}}};var a=function(){function e(e,t,i,n,a){this.logger=i;this.accessTokenFactory=t;this.logMessageContent=n;this.webSocketConstructor=a;this.httpClient=e;this.onreceive=null;this.onclose=null}e.prototype.connect=function(r,o){return n(this,void 0,void 0,function(){var t;var a=this;return d(this,function(e){switch(e.label){case 0:l["Arg"].isRequired(r,"url");l["Arg"].isRequired(o,"transferFormat");l["Arg"].isIn(o,c["TransferFormat"],"transferFormat");this.logger.log(s["LogLevel"].Trace,"(WebSockets transport) Connecting.");if(!this.accessTokenFactory)return[3,2];return[4,this.accessTokenFactory()];case 1:t=e.sent();if(t){r+=(r.indexOf("?")<0?"?":"&")+("access_token="+encodeURIComponent(t))}e.label=2;case 2:return[2,new Promise(function(t,i){r=r.replace(/^http/,"ws");var n;var e=a.httpClient.getCookieString(r);if(typeof window==="undefined"&&e){n=new a.webSocketConstructor(r,undefined,{headers:{Cookie:""+e}})}if(!n){n=new a.webSocketConstructor(r)}if(o===c["TransferFormat"].Binary){n.binaryType="arraybuffer"}n.onopen=function(e){a.logger.log(s["LogLevel"].Information,"WebSocket connected to "+r+".");a.webSocket=n;t()};n.onerror=function(e){var t=null;if(typeof ErrorEvent!=="undefined"&&e instanceof ErrorEvent){t=e.error}i(t)};n.onmessage=function(e){a.logger.log(s["LogLevel"].Trace,"(WebSockets transport) data received. "+Object(l["getDataDetail"])(e.data,a.logMessageContent)+".");if(a.onreceive){a.onreceive(e.data)}};n.onclose=function(e){return a.close(e)}})]}})})};e.prototype.send=function(e){if(this.webSocket&&this.webSocket.readyState===this.webSocketConstructor.OPEN){this.logger.log(s["LogLevel"].Trace,"(WebSockets transport) sending data. "+Object(l["getDataDetail"])(e,this.logMessageContent)+".");this.webSocket.send(e);return Promise.resolve()}return Promise.reject("WebSocket is not in the OPEN state")};e.prototype.stop=function(){if(this.webSocket){this.webSocket.onclose=function(){};this.webSocket.onmessage=function(){};this.webSocket.onerror=function(){};this.webSocket.close();this.webSocket=undefined;this.close(undefined)}return Promise.resolve()};e.prototype.close=function(e){this.logger.log(s["LogLevel"].Trace,"(WebSockets transport) socket closed.");if(this.onclose){if(e&&(e.wasClean===false||e.code!==1e3)){this.onclose(new Error("WebSocket closed with status code: "+e.code+" ("+e.reason+")."))}else{this.onclose()}}};return e}()},function(e,t,i){"use strict";i.r(t);i.d(t,"JsonHubProtocol",function(){return r});var c=i(15);var l=i(9);var n=i(18);var d=i(14);var u=i(12);var a="json";var r=function(){function e(){this.name=a;this.version=1;this.transferFormat=n["TransferFormat"].Text}e.prototype.parseMessages=function(e,t){if(typeof e!=="string"){throw new Error("Invalid input for JSON hub protocol. Expected a string.")}if(!e){return[]}if(t===null){t=d["NullLogger"].instance}var i=u["TextMessageFormat"].parse(e);var n=[];for(var a=0,r=i;a<r.length;a++){var o=r[a];var s=JSON.parse(o);if(typeof s.type!=="number"){throw new Error("Invalid payload.")}switch(s.type){case c["MessageType"].Invocation:this.isInvocationMessage(s);break;case c["MessageType"].StreamItem:this.isStreamItemMessage(s);break;case c["MessageType"].Completion:this.isCompletionMessage(s);break;case c["MessageType"].Ping:break;case c["MessageType"].Close:break;default:t.log(l["LogLevel"].Information,"Unknown message type '"+s.type+"' ignored.");continue}n.push(s)}return n};e.prototype.writeMessage=function(e){return u["TextMessageFormat"].write(JSON.stringify(e))};e.prototype.isInvocationMessage=function(e){this.assertNotEmptyString(e.target,"Invalid payload for Invocation message.");if(e.invocationId!==undefined){this.assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}};e.prototype.isStreamItemMessage=function(e){this.assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message.");if(e.item===undefined){throw new Error("Invalid payload for StreamItem message.")}};e.prototype.isCompletionMessage=function(e){if(e.result&&e.error){throw new Error("Invalid payload for Completion message.")}if(!e.result&&e.error){this.assertNotEmptyString(e.error,"Invalid payload for Completion message.")}this.assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")};e.prototype.assertNotEmptyString=function(e,t){if(typeof e!=="string"||e===""){throw new Error(t)}};return e}()}])});
//# sourceMappingURL=notifications.min.js.map